(()=>{function v(b,c){let a=0,d=0;for(;a<b.length;){const f=b[a];c(f,a,b)&&(b[d++]=f);a++}b.length=d;return b}const g={target:"#plot",width:600,height:500,yAxis:{label:"Dollars",domain:[0,100]},xAxis:{label:"Plays",domain:[0,120]},grid:!1,data:[],disableZoom:!0};functionPlot(g);const r=()=>{g.data=[];const b=[];for(let c=0;200>c;c++){const a={points:[[0,2]],fnType:"points",graphType:"polyline",color:"steelblue"};let d=!1;for(let f=0;300>f;f++){const [q,m]=a.points[a.points.length-1];if(0===m){d=!0;
break}switch(Math.floor(4*Math.random())){case 0:a.points.push([q+1,m-1]);break;default:a.points.push([q+1,m+1])}}d?(a.color="red",b.push(a)):g.data.push(a)}for(const c of b)g.data.push(c);functionPlot(g)};r();const k=parseInt(document.getElementById("plays1").value),h=parseInt(document.getElementById("samples1").value),w=document.getElementById("result1"),x=document.getElementById("error1");let n=!1,p=0,l=0,t;const e=[],u=document.getElementById("button2"),y=document.getElementById("result2"),z=
document.getElementById("error2"),A=document.getElementById("stats2"),B=b=>{l+=1E3;e.push(...Array(1E3).fill(2));e.forEach((c,a)=>{switch(Math.floor(4*Math.random())){case 0:e[a]--;break;default:e[a]++}});b=e.length;v(e,c=>0!==c);p+=b-e.length;y.innerHTML=`Probability of going broke: ${(100*p/l).toFixed(4)}%`;z.innerHTML=`Error: ${(100*(p/l-1/9)).toFixed(4)}%`;A.innerHTML=`Current number of samples: ${l}`};window.redrawPlot=r;window.simulate1=b=>{if(isNaN(k)||isNaN(h))alert("Inputs should be numbers.");
else if(0>=k||0>=h)alert("Inputs should be positive.");else{b=0;for(let c=0;c<h;c++){let a=2;for(let d=0;d<k;d++){if(0===a){b++;break}if(a>k-d)break;switch(Math.floor(4*Math.random())){case 0:a--;break;default:a++}}}w.innerHTML=`Probability of going broke: ${(100*b/h).toFixed(4)}%`;x.innerHTML=`Error: ${(100*(b/h-1/9)).toFixed(4)}%`}};window.simulate2=b=>{n?(u.innerHTML="Start Simulation",clearInterval(t),n=!1):(u.innerHTML="Stop Simulation",t=setInterval(B,0),n=!0)}})();
