(()=>{const e={target:"#plot",width:600,height:500,yAxis:{label:"Dollars",domain:[0,100]},xAxis:{label:"Plays",domain:[0,120]},grid:!1,data:[],disableZoom:!0};functionPlot(e);const t=()=>{try{e.data=[];const t=[];for(let r=0;r<200;r++){const r={points:[[0,2]],fnType:"points",graphType:"polyline",color:"steelblue"};let n=!1;for(let e=0;e<300;e++){const[e,t]=r.points[r.points.length-1];if(0===t){n=!0;break}if(0===Math.floor(4*Math.random()))r.points.push([e+1,t-1]);else r.points.push([e+1,t+1])}n?(r.color="red",t.push(r)):e.data.push(r)}for(const r of t)e.data.push(r);functionPlot(e)}catch(e){console.error("Error redrawing plot:",e);const t=document.querySelector("#plot");t&&(t.innerHTML='<p style="color: red; text-align: center;">Error loading plot. Please refresh the page.</p>')}};t();const r=document.getElementById("result1"),n=document.getElementById("error1");let o,l=!1,i=0,a=0;const s=[],d=document.getElementById("button2"),u=document.getElementById("result2"),c=document.getElementById("error2"),m=document.getElementById("stats2"),p=e=>{a+=1e3,s.push(...Array(1e3).fill(2)),s.forEach((e,t)=>{0!==Math.floor(4*Math.random())?s[t]++:s[t]--});const t=s.length;!function(e,t){let r=0,n=0;for(;r<e.length;){const o=e[r];t(o,r,e)&&(e[n++]=o),r++}e.length=n}(s,e=>0!==e),i+=t-s.length,u.innerHTML=`Probability of going broke: ${(100*i/a).toFixed(4)}%`,c.innerHTML=`Error: ${(100*(i/a-1/9)).toFixed(4)}%`,m.innerHTML=`Current number of samples: ${a}`};window.redrawPlot=t,window.simulate1=e=>{const t=parseInt(document.getElementById("plays1").value),o=parseInt(document.getElementById("samples1").value);if(isNaN(t)||isNaN(o))return r.innerHTML="❌ Error: Inputs must be valid numbers.",void(n.innerHTML="");if(t<=0||o<=0)return r.innerHTML="❌ Error: Inputs must be positive numbers.",void(n.innerHTML="");if(t>1e4||o>1e6)return r.innerHTML="❌ Error: Values too large. Max plays: 10,000, Max samples: 1,000,000",void(n.innerHTML="");try{let e=0;for(let r=0;r<o;r++){let r=2;for(let n=0;n<t;n++){if(0===r){e++;break}if(r>t-n)break;if(0===Math.floor(4*Math.random()))r--;else r++}}r.innerHTML=`Probability of going broke: ${(100*e/o).toFixed(4)}%`,n.innerHTML=`Error: ${(100*(e/o-1/9)).toFixed(4)}%`}catch(e){console.error("Simulation error:",e),r.innerHTML="❌ Error occurred during simulation. Please check your inputs.",n.innerHTML=""}},window.simulate2=e=>{l?(d.innerHTML="Start Simulation",clearInterval(o),l=!1):(d.innerHTML="Stop Simulation",o=setInterval(p,0),l=!0)}})();