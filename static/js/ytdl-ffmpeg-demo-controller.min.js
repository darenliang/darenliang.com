(()=>{let b=!1;const e=document.getElementById("url"),f=document.getElementById("player"),c=document.getElementById("log");(()=>{const a=console.log;console.log=d=>{c.value="object"==typeof d?c.value+`${JSON.stringify(d)}\n`:c.value+`${d}\n`;c.scrollTop=c.scrollHeight;a(d)}})();const g=a=>{a instanceof TypeError?console.log("[error] YouTube proxy is currently having issues, please try again later."):console.log("[error] Failed to process files, please check the console output.")};window.getVideo=
async()=>{if(b)alert("Currently processing a video file...");else{b=!0;try{const a=await script.getVideoBuffer(e.value);f.src=URL.createObjectURL(new Blob([a],{type:"video/mp4"}))}catch(a){g(a)}b=!1}};window.getBestVideo=async()=>{if(b)alert("Currently processing a video file...");else{b=!0;try{const a=await script.getEncodedVideoBuffer(e.value);f.src=URL.createObjectURL(new Blob([a],{type:"video/mp4"}))}catch(a){g(a)}b=!1}};window.getAudio=async()=>{if(b)alert("Currently processing an audio file...");
else{b=!0;try{const a=await script.getEncodedAudioBuffer(e.value);f.src=URL.createObjectURL(new Blob([a],{type:"audio/mp3"}))}catch(a){g(a)}b=!1}}})();
