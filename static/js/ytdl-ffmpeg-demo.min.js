/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource>  https://mths.be/punycode v1.4.1 by @mathias  safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */
(function(x){"object"===typeof exports&&"undefined"!==typeof module?module.exports=x():"function"===typeof define&&define.amd?define([],x):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).script=x()})(function(){return function(){function x(J,E,C){function q(e,u){if(!E[e]){if(!J[e]){var v="function"==typeof require&&require;if(!u&&v)return v(e,!0);if(h)return h(e,!0);u=Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u;
}u=E[e]={exports:{}};J[e][0].call(u.exports,function(l){return q(J[e][1][l]||l)},u,u.exports,x,J,E,C)}return E[e].exports}for(var h="function"==typeof require&&require,A=0;A<C.length;A++)q(C[A]);return q}return x}()({1:[function(x,J,E){const C=x("ytdl-core"),{createFFmpeg:q,fetchFile:h}=x("@ffmpeg/ffmpeg"),A=q({log:!0});(async()=>{await A.load()})();const e=()=>{console.log("[info] unlinking old data");try{A.FS("unlink","output.mp3")}catch{}try{A.FS("unlink","output.mp4")}catch{}},u=f=>"https://proxy.darenliang.com/?url="+
encodeURIComponent(f),v={requestOptions:{maxRetries:5,backoff:{inc:2E3,max:2E3},transform:f=>{const D=f.protocol+"//"+f.hostname+f.path;f.host="proxy.darenliang.com";f.hostname="proxy.darenliang.com";f.path="/?url="+encodeURIComponent(D);f.protocol="https:";return f}}},l=async f=>{console.log("[info] getting info");return await C.getInfo(f,v)},g=async f=>{e();console.log("[info] fetching data");const D=await h(u(f.url));console.log("[info] writing data");f=`audio.${f.container}`;A.FS("writeFile",
f,D);console.log("[info] encoding as mp3");await A.run("-i",f,"output.mp3");console.log("[info] unlink temporary file");A.FS("unlink",f);console.log("[info] sending final data");return A.FS("readFile","output.mp3").buffer},m=async(f,D=null)=>{e();console.log("[info] fetching data");let t,z,n;D?([t,z]=await Promise.all([h(u(f.url)),h(u(D.url))]),n=`audio.${D.container}`,A.FS("writeFile",n,z)):t=await h(u(f.url));console.log("[info] writing data");f=`video.${f.container}`;A.FS("writeFile",f,t);console.log("[info] encoding as mp4");
D?(await A.run("-i",f,"-i",n,"-c:v","copy","-c:a","copy","-shortest","output.mp4"),A.FS("unlink",n)):await A.run("-i",f,"output.mp4");console.log("[info] unlink temporary files");A.FS("unlink",f);console.log("[info] sending final data");return A.FS("readFile","output.mp4").buffer};J.exports={getInfo:l,getAudioBuffer:g,getVideoBuffer:m,getFastVideoBuffer:async f=>{f=await l(f);console.log("[info] choosing formats");f=C.chooseFormat(f.formats,{quality:"highest",filter:D=>"mp4"===D.container});console.log("[info] fetching data");
f=await h(u(f.url));console.log("[info] sending data");return f.buffer},getBestVideoBuffer:async f=>{var D=await l(f);console.log("[info] choosing formats");f=C.chooseFormat(D.formats,{quality:"highestvideo"});D=C.chooseFormat(D.formats,{quality:"highestaudio",filter:"audioonly"});return await m(f,D)},getBestAudioBuffer:async f=>{f=await l(f);console.log("[info] choosing format");f=C.chooseFormat(f.formats,{quality:"highestaudio",filter:"audioonly"});return await g(f)}}},{"@ffmpeg/ffmpeg":9,"ytdl-core":80}],
2:[function(x,J,E){J.exports={name:"@ffmpeg/ffmpeg",version:"0.10.1",description:"FFmpeg WebAssembly version",main:"src/index.js",types:"src/index.d.ts",directories:{example:"examples"},scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all",
"test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},browser:{"./src/node/index.js":"./src/browser/index.js"},repository:{type:"git",
url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},keywords:["ffmpeg","WebAssembly","video"],author:"Jerome Wu <jeromewus@gmail.com>",license:"MIT",bugs:{url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},engines:{node:">=12.16.1"},homepage:"https://github.com/ffmpegwasm/ffmpeg.wasm#readme",dependencies:{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},devDependencies:{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0",
"@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}},{}],3:[function(x,J,E){E=x("_process");const C=x("resolve-url");({devDependencies:x}=x("../../package.json"));J.exports={corePath:"development"===
E.env.NODE_ENV?C("/node_modules/@ffmpeg/core/dist/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@${x["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}},{"../../package.json":2,_process:27,"resolve-url":33}],4:[function(x,J,E){const C=x("resolve-url"),q=h=>new Promise((A,e)=>{const u=new FileReader;u.onload=()=>{A(u.result)};u.onerror=({target:{error:{code:v}}})=>{e(Error(`File could not be read! Code=${v}`))};u.readAsArrayBuffer(h)});J.exports=async h=>{let A=h;if("undefined"===typeof h)return new Uint8Array;
if("string"===typeof h)A=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(h)?atob(h.split(",")[1]).split("").map(e=>e.charCodeAt(0)):await (await fetch(C(h))).arrayBuffer();else if(h instanceof File||h instanceof Blob)A=await q(h);return new Uint8Array(A)}},{"resolve-url":33}],5:[function(x,J,E){const C=x("resolve-url"),{log:q}=x("../utils/log"),h=async(A,e)=>{q("info",`fetch ${A}`);const u=await (await fetch(A)).arrayBuffer();q("info",`${A} file size = ${u.byteLength} bytes`);e=new Blob([u],{type:e});
e=URL.createObjectURL(e);q("info",`${A} blob URL = ${e}`);return e};J.exports=async({corePath:A})=>{if("string"!==typeof A)throw Error("corePath should be a string!");A=C(A);const e=await h(A,"application/javascript"),u=await h(A.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),v=await h(A.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");if("undefined"===typeof createFFmpegCore)return new Promise(l=>{const g=document.createElement("script"),m=()=>{g.removeEventListener("load",
m);q("info","ffmpeg-core.js script loaded");l({createFFmpegCore,corePath:e,wasmPath:u,workerPath:v})};g.src=e;g.type="text/javascript";g.addEventListener("load",m);document.getElementsByTagName("head")[0].appendChild(g)});q("info","ffmpeg-core.js script is loaded already");return Promise.resolve({createFFmpegCore,corePath:e,wasmPath:u,workerPath:v})}},{"../utils/log":10,"resolve-url":33}],6:[function(x,J,E){E=x("./defaultOptions");const C=x("./getCreateFFmpegCore");x=x("./fetchFile");J.exports={defaultOptions:E,
getCreateFFmpegCore:C,fetchFile:x}},{"./defaultOptions":3,"./fetchFile":4,"./getCreateFFmpegCore":5}],7:[function(x,J,E){J.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},{}],8:[function(x,J,E){const {defaultArgs:C,baseOptions:q}=x("./config"),{setLogging:h,setCustomLogger:A,log:e}=x("./utils/log"),u=x("./utils/parseProgress"),v=x("./utils/parseArgs"),{defaultOptions:l,getCreateFFmpegCore:g}=x("./node"),{version:m}=x("../package.json"),
f=Error("ffmpeg.wasm is not ready, make sure you have completed load().");J.exports=(D={})=>{const {log:t,logger:z,progress:n,...B}={...q,...l,...D};let p=null,w=null,G=null,H=!1,L=n;const I=({type:N,message:M})=>{e(N,M);u(M,L);"FFMPEG_END"===M&&null!==G&&(G(),G=null,H=!1)};h(t);A(z);e("info",`use ffmpeg.wasm v${m}`);return{setProgress:N=>{L=N},setLogger:N=>{A(N)},setLogging:h,load:async()=>{e("info","load ffmpeg-core");if(null===p){e("info","loading ffmpeg-core");const {createFFmpegCore:N,corePath:M,
workerPath:T,wasmPath:S}=await g(B);p=await N({mainScriptUrlOrBlob:M,printErr:O=>I({type:"fferr",message:O}),print:O=>I({type:"ffout",message:O}),locateFile:(O,V)=>{if("undefined"!==typeof window){if("undefined"!==typeof S&&O.endsWith("ffmpeg-core.wasm"))return S;if("undefined"!==typeof T&&O.endsWith("ffmpeg-core.worker.js"))return T}return V+O}});w=p.cwrap("proxy_main","number",["number","number"]);e("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");
},isLoaded:()=>null!==p,run:(...N)=>{e("info",`run ffmpeg command: ${N.join(" ")}`);if(null===p)throw f;if(H)throw Error("ffmpeg.wasm can only run one command at a time");H=!0;return new Promise(M=>{const T=[...C,...N].filter(S=>0!==S.length);G=M;w(...v(p,T))})},exit:()=>{if(null===p)throw f;H=!1;p.exit(1);G=w=p=null},FS:(N,...M)=>{e("info",`run FS.${N} ${M.map(S=>"string"===typeof S?S:`<${S.length} bytes binary file>`).join(" ")}`);if(null===p)throw f;let T=null;try{T=p.FS[N](...M)}catch(S){if("readdir"===
N)throw Error(`ffmpeg.FS('readdir', '${M[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`);if("readFile"===N)throw Error(`ffmpeg.FS('readFile', '${M[0]}') error. Check if the path exists`);throw Error("Oops, something went wrong in FS operation.");}return T}}}},{"../package.json":2,"./config":7,"./node":6,"./utils/log":10,"./utils/parseArgs":11,"./utils/parseProgress":12}],9:[function(x,J,E){x("regenerator-runtime/runtime");E=x("./createFFmpeg");({fetchFile:x}=x("./node"));J.exports=
{createFFmpeg:E,fetchFile:x}},{"./createFFmpeg":8,"./node":6,"regenerator-runtime/runtime":32}],10:[function(x,J,E){let C=!1,q=()=>{};J.exports={logging:C,setLogging:h=>{C=h},setCustomLogger:h=>{q=h},log:(h,A)=>{q({type:h,message:A});C&&console.log(`[${h}] ${A}`)}}},{}],11:[function(x,J,E){J.exports=(C,q)=>{const h=C._malloc(q.length*Uint32Array.BYTES_PER_ELEMENT);q.forEach((A,e)=>{const u=C._malloc(A.length+1);C.writeAsciiToMemory(A,u);C.setValue(h+Uint32Array.BYTES_PER_ELEMENT*e,u,"i32")});return[q.length,
h]}},{}],12:[function(x,J,E){let C=0,q=0;const h=A=>{const [e,u,v]=A.split(":");return 3600*parseFloat(e)+60*parseFloat(u)+parseFloat(v)};J.exports=(A,e)=>{if("string"===typeof A)if(A.startsWith("  Duration")){if(A=A.split(", ")[0].split(": ")[1],A=h(A),e({duration:A,ratio:q}),0===C||C>A)C=A}else A.startsWith("frame")||A.startsWith("size")?(A=A.split("time=")[1].split(" ")[0],A=h(A),q=A/C,e({ratio:q,time:A})):A.startsWith("video:")&&(e({ratio:1}),C=0)}},{}],13:[function(x,J,E){function C(e){var u=
e.length;if(0<u%4)throw Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");-1===e&&(e=u);return[e,e===u?0:4-e%4]}E.byteLength=function(e){e=C(e);var u=e[1];return 3*(e[0]+u)/4-u};E.toByteArray=function(e){var u=C(e);var v=u[0];u=u[1];var l=new A(3*(v+u)/4-u),g=0,m=0<u?v-4:v,f;for(f=0;f<m;f+=4)v=h[e.charCodeAt(f)]<<18|h[e.charCodeAt(f+1)]<<12|h[e.charCodeAt(f+2)]<<6|h[e.charCodeAt(f+3)],l[g++]=v>>16&255,l[g++]=v>>8&255,l[g++]=v&255;2===u&&(v=h[e.charCodeAt(f)]<<2|h[e.charCodeAt(f+
1)]>>4,l[g++]=v&255);1===u&&(v=h[e.charCodeAt(f)]<<10|h[e.charCodeAt(f+1)]<<4|h[e.charCodeAt(f+2)]>>2,l[g++]=v>>8&255,l[g++]=v&255);return l};E.fromByteArray=function(e){for(var u=e.length,v=u%3,l=[],g=0,m=u-v;g<m;g+=16383){for(var f=l,D=f.push,t,z=e,n=g+16383>m?m:g+16383,B=[],p=g;p<n;p+=3)t=(z[p]<<16&16711680)+(z[p+1]<<8&65280)+(z[p+2]&255),B.push(q[t>>18&63]+q[t>>12&63]+q[t>>6&63]+q[t&63]);t=B.join("");D.call(f,t)}1===v?(e=e[u-1],l.push(q[e>>2]+q[e<<4&63]+"==")):2===v&&(e=(e[u-2]<<8)+e[u-1],l.push(q[e>>
10]+q[e>>4&63]+q[e<<2&63]+"="));return l.join("")};var q=[],h=[],A="undefined"!==typeof Uint8Array?Uint8Array:Array;for(x=0;64>x;++x)q[x]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[x],h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(x)]=x;h[45]=62;h[95]=63},{}],14:[function(x,J,E){},{}],15:[function(x,J,E){(function(C){(function(){function q(b){if(b>V)throw new RangeError('The value "'+b+'" is invalid for option "size"');b=new Uint8Array(b);b.__proto__=
h.prototype;return b}function h(b,a,d){if("number"===typeof b){if("string"===typeof a)throw new TypeError('The "string" argument must be of type string. Received type number');return u(b)}return A(b,a,d)}function A(b,a,d){if("string"===typeof b){var c=a;if("string"!==typeof c||""===c)c="utf8";if(!h.isEncoding(c))throw new TypeError("Unknown encoding: "+c);a=m(b,c)|0;d=q(a);b=d.write(b,c);b!==a&&(d=d.slice(0,b));return d}if(ArrayBuffer.isView(b))return v(b);if(null==b)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof b);if(T(b,ArrayBuffer)||b&&T(b.buffer,ArrayBuffer)){if(0>a||b.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<a+(d||0))throw new RangeError('"length" is outside of buffer bounds');b=void 0===a&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,a):new Uint8Array(b,a,d);b.__proto__=h.prototype;return b}if("number"===typeof b)throw new TypeError('The "value" argument must not be of type number. Received type number');c=b.valueOf&&b.valueOf();if(null!=
c&&c!==b)return h.from(c,a,d);if(c=l(b))return c;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof b[Symbol.toPrimitive])return h.from(b[Symbol.toPrimitive]("string"),a,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);}function e(b){if("number"!==typeof b)throw new TypeError('"size" argument must be of type number');if(0>b)throw new RangeError('The value "'+b+'" is invalid for option "size"');
}function u(b){e(b);return q(0>b?0:g(b)|0)}function v(b){for(var a=0>b.length?0:g(b.length)|0,d=q(a),c=0;c<a;c+=1)d[c]=b[c]&255;return d}function l(b){if(h.isBuffer(b)){var a=g(b.length)|0,d=q(a);if(0===d.length)return d;b.copy(d,0,0,a);return d}if(void 0!==b.length)return(a="number"!==typeof b.length)||(a=b.length,a=a!==a),a?q(0):v(b);if("Buffer"===b.type&&Array.isArray(b.data))return v(b.data)}function g(b){if(b>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+
" bytes");return b|0}function m(b,a){if(h.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||T(b,ArrayBuffer))return b.byteLength;if("string"!==typeof b)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var d=b.length,c=2<arguments.length&&!0===arguments[2];if(!c&&0===d)return 0;for(var k=!1;;)switch(a){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":return L(b).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
d;case "hex":return d>>>1;case "base64":return N(b).length;default:if(k)return c?-1:L(b).length;a=(""+a).toLowerCase();k=!0}}function f(b,a,d){var c=!1;if(void 0===a||0>a)a=0;if(a>this.length)return"";if(void 0===d||d>this.length)d=this.length;if(0>=d)return"";d>>>=0;a>>>=0;if(d<=a)return"";for(b||="utf8";;)switch(b){case "hex":b=a;a=d;d=this.length;if(!b||0>b)b=0;if(!a||0>a||a>d)a=d;c="";for(d=b;d<a;++d)b=c,c=this[d],c=16>c?"0"+c.toString(16):c.toString(16),c=b+c;return c;case "utf8":case "utf-8":return n(this,
a,d);case "ascii":b="";for(d=Math.min(this.length,d);a<d;++a)b+=String.fromCharCode(this[a]&127);return b;case "latin1":case "binary":b="";for(d=Math.min(this.length,d);a<d;++a)b+=String.fromCharCode(this[a]);return b;case "base64":return a=0===a&&d===this.length?S.fromByteArray(this):S.fromByteArray(this.slice(a,d)),a;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=this.slice(a,d);d="";for(b=0;b<a.length;b+=2)d+=String.fromCharCode(a[b]+256*a[b+1]);return d;default:if(c)throw new TypeError("Unknown encoding: "+
b);b=(b+"").toLowerCase();c=!0}}function D(b,a,d){var c=b[a];b[a]=b[d];b[d]=c}function t(b,a,d,c,k){if(0===b.length)return-1;"string"===typeof d?(c=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);d=+d;d!==d&&(d=k?0:b.length-1);0>d&&(d=b.length+d);if(d>=b.length){if(k)return-1;d=b.length-1}else if(0>d)if(k)d=0;else return-1;"string"===typeof a&&(a=h.from(a,c));if(h.isBuffer(a))return 0===a.length?-1:z(b,a,d,c,k);if("number"===typeof a)return a&=255,"function"===typeof Uint8Array.prototype.indexOf?
k?Uint8Array.prototype.indexOf.call(b,a,d):Uint8Array.prototype.lastIndexOf.call(b,a,d):z(b,[a],d,c,k);throw new TypeError("val must be string, number or Buffer");}function z(b,a,d,c,k){function r(F,y){return 1===K?F[y]:F.readUInt16BE(y*K)}var K=1,R=b.length,P=a.length;if(void 0!==c&&(c=String(c).toLowerCase(),"ucs2"===c||"ucs-2"===c||"utf16le"===c||"utf-16le"===c)){if(2>b.length||2>a.length)return-1;K=2;R/=2;P/=2;d/=2}if(k)for(c=-1;d<R;d++)if(r(b,d)===r(a,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===
P)return c*K}else-1!==c&&(d-=d-c),c=-1;else for(d+P>R&&(d=R-P);0<=d;d--){R=!0;for(c=0;c<P;c++)if(r(b,d+c)!==r(a,c)){R=!1;break}if(R)return d}return-1}function n(b,a,d){d=Math.min(b.length,d);for(var c=[];a<d;){var k=b[a],r=null,K=239<k?4:223<k?3:191<k?2:1;if(a+K<=d)switch(K){case 1:128>k&&(r=k);break;case 2:var R=b[a+1];128===(R&192)&&(k=(k&31)<<6|R&63,127<k&&(r=k));break;case 3:R=b[a+1];var P=b[a+2];128===(R&192)&&128===(P&192)&&(k=(k&15)<<12|(R&63)<<6|P&63,2047<k&&(55296>k||57343<k)&&(r=k));break;
case 4:R=b[a+1];P=b[a+2];var F=b[a+3];128===(R&192)&&128===(P&192)&&128===(F&192)&&(k=(k&15)<<18|(R&63)<<12|(P&63)<<6|F&63,65535<k&&1114112>k&&(r=k))}null===r?(r=65533,K=1):65535<r&&(r-=65536,c.push(r>>>10&1023|55296),r=56320|r&1023);c.push(r);a+=K}b=c.length;if(b<=W)c=String.fromCharCode.apply(String,c);else{d="";for(a=0;a<b;)d+=String.fromCharCode.apply(String,c.slice(a,a+=W));c=d}return c}function B(b,a,d){if(0!==b%1||0>b)throw new RangeError("offset is not uint");if(b+a>d)throw new RangeError("Trying to access beyond buffer length");
}function p(b,a,d,c,k,r){if(!h.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>k||a<r)throw new RangeError('"value" argument is out of bounds');if(d+c>b.length)throw new RangeError("Index out of range");}function w(b,a,d,c,k,r){if(d+c>b.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function G(b,a,d,c,k){a=+a;d>>>=0;k||w(b,a,d,4,3.4028234663852886E38,-3.4028234663852886E38);O.write(b,a,d,c,23,4);return d+4}function H(b,
a,d,c,k){a=+a;d>>>=0;k||w(b,a,d,8,1.7976931348623157E308,-1.7976931348623157E308);O.write(b,a,d,c,52,8);return d+8}function L(b,a){a=a||Infinity;for(var d,c=b.length,k=null,r=[],K=0;K<c;++K){d=b.charCodeAt(K);if(55295<d&&57344>d){if(!k){if(56319<d){-1<(a-=3)&&r.push(239,191,189);continue}else if(K+1===c){-1<(a-=3)&&r.push(239,191,189);continue}k=d;continue}if(56320>d){-1<(a-=3)&&r.push(239,191,189);k=d;continue}d=(k-55296<<10|d-56320)+65536}else k&&-1<(a-=3)&&r.push(239,191,189);k=null;if(128>d){if(0>
--a)break;r.push(d)}else if(2048>d){if(0>(a-=2))break;r.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(a-=3))break;r.push(d>>12|224,d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(a-=4))break;r.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");}return r}function I(b){for(var a=[],d=0;d<b.length;++d)a.push(b.charCodeAt(d)&255);return a}function N(b){var a=S,d=a.toByteArray;b=b.split("=")[0];b=b.trim().replace(U,"");if(2>b.length)b="";else for(;0!==b.length%4;)b+=
"=";return d.call(a,b)}function M(b,a,d,c){for(var k=0;k<c&&!(k+d>=a.length||k>=b.length);++k)a[k+d]=b[k];return k}function T(b,a){return b instanceof a||null!=b&&null!=b.constructor&&null!=b.constructor.name&&b.constructor.name===a.name}var S=x("base64-js"),O=x("ieee754");E.Buffer=h;E.SlowBuffer=function(b){+b!=b&&(b=0);return h.alloc(+b)};E.INSPECT_MAX_BYTES=50;var V=2147483647;E.kMaxLength=V;h.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);b.__proto__={__proto__:Uint8Array.prototype,
foo:function(){return 42}};return 42===b.foo()}catch(a){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});
"undefined"!==typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});h.poolSize=8192;h.from=function(b,a,d){return A(b,a,d)};h.prototype.__proto__=Uint8Array.prototype;h.__proto__=Uint8Array;h.alloc=function(b,a,d){e(b);b=0>=b?q(b):void 0!==a?"string"===typeof d?q(b).fill(a,d):q(b).fill(a):q(b);return b};h.allocUnsafe=function(b){return u(b)};h.allocUnsafeSlow=function(b){return u(b)};h.isBuffer=function(b){return null!=
b&&!0===b._isBuffer&&b!==h.prototype};h.compare=function(b,a){T(b,Uint8Array)&&(b=h.from(b,b.offset,b.byteLength));T(a,Uint8Array)&&(a=h.from(a,a.offset,a.byteLength));if(!h.isBuffer(b)||!h.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===a)return 0;for(var d=b.length,c=a.length,k=0,r=Math.min(d,c);k<r;++k)if(b[k]!==a[k]){d=b[k];c=a[k];break}return d<c?-1:c<d?1:0};h.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};h.concat=function(b,a){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(0===b.length)return h.alloc(0);var d;if(void 0===a)for(d=a=0;d<b.length;++d)a+=b[d].length;a=h.allocUnsafe(a);var c=0;for(d=0;d<b.length;++d){var k=b[d];T(k,Uint8Array)&&(k=h.from(k));if(!h.isBuffer(k))throw new TypeError('"list" argument must be an Array of Buffers');k.copy(a,c);c+=k.length}return a};h.byteLength=m;h.prototype._isBuffer=!0;h.prototype.swap16=function(){var b=
this.length;if(0!==b%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<b;a+=2)D(this,a,a+1);return this};h.prototype.swap32=function(){var b=this.length;if(0!==b%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<b;a+=4)D(this,a,a+3),D(this,a+1,a+2);return this};h.prototype.swap64=function(){var b=this.length;if(0!==b%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<b;a+=8)D(this,a,a+7),D(this,a+1,a+6),
D(this,a+2,a+5),D(this,a+3,a+4);return this};h.prototype.toString=function(){var b=this.length;return 0===b?"":0===arguments.length?n(this,0,b):f.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===h.compare(this,b)};h.prototype.inspect=function(){var b=E.INSPECT_MAX_BYTES;var a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim();this.length>b&&(a+=" ... ");
return"<Buffer "+a+">"};h.prototype.compare=function(b,a,d,c,k){T(b,Uint8Array)&&(b=h.from(b,b.offset,b.byteLength));if(!h.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);void 0===a&&(a=0);void 0===d&&(d=b?b.length:0);void 0===c&&(c=0);void 0===k&&(k=this.length);if(0>a||d>b.length||0>c||k>this.length)throw new RangeError("out of range index");if(c>=k&&a>=d)return 0;if(c>=k)return-1;if(a>=d)return 1;a>>>=0;d>>>=0;c>>>=0;k>>>=
0;if(this===b)return 0;var r=k-c,K=d-a,R=Math.min(r,K);c=this.slice(c,k);b=b.slice(a,d);for(a=0;a<R;++a)if(c[a]!==b[a]){r=c[a];K=b[a];break}return r<K?-1:K<r?1:0};h.prototype.includes=function(b,a,d){return-1!==this.indexOf(b,a,d)};h.prototype.indexOf=function(b,a,d){return t(this,b,a,d,!0)};h.prototype.lastIndexOf=function(b,a,d){return t(this,b,a,d,!1)};h.prototype.write=function(b,a,d,c){if(void 0===a)c="utf8",d=this.length,a=0;else if(void 0===d&&"string"===typeof a)c=a,d=this.length,a=0;else if(isFinite(a))a>>>=
0,isFinite(d)?(d>>>=0,void 0===c&&(c="utf8")):(c=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var k=this.length-a;if(void 0===d||d>k)d=k;if(0<b.length&&(0>d||0>a)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||="utf8";for(k=!1;;)switch(c){case "hex":a:{a=Number(a)||0;c=this.length-a;d?(d=Number(d),d>c&&(d=c)):d=c;c=b.length;d>c/2&&(d=c/2);for(c=0;c<d;++c){k=parseInt(b.substr(2*c,2),16);if(k!==k){b=c;break a}this[a+
c]=k}b=c}return b;case "utf8":case "utf-8":return M(L(b,this.length-a),this,a,d);case "ascii":return M(I(b),this,a,d);case "latin1":case "binary":return M(I(b),this,a,d);case "base64":return M(N(b),this,a,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=b;k=this.length-a;for(var r=[],K=0;K<c.length&&!(0>(k-=2));++K){var R=c.charCodeAt(K);b=R>>8;R%=256;r.push(R);r.push(b)}return M(r,this,a,d);default:if(k)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();k=!0}};h.prototype.toJSON=
function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;h.prototype.slice=function(b,a){var d=this.length;b=~~b;a=void 0===a?d:~~a;0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d);0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);a<b&&(a=b);b=this.subarray(b,a);b.__proto__=h.prototype;return b};h.prototype.readUIntLE=function(b,a,d){b>>>=0;a>>>=0;d||B(b,a,this.length);d=this[b];for(var c=1,k=0;++k<a&&(c*=256);)d+=this[b+k]*c;return d};h.prototype.readUIntBE=function(b,a,d){b>>>=0;a>>>=0;d||
B(b,a,this.length);d=this[b+--a];for(var c=1;0<a&&(c*=256);)d+=this[b+--a]*c;return d};h.prototype.readUInt8=function(b,a){b>>>=0;a||B(b,1,this.length);return this[b]};h.prototype.readUInt16LE=function(b,a){b>>>=0;a||B(b,2,this.length);return this[b]|this[b+1]<<8};h.prototype.readUInt16BE=function(b,a){b>>>=0;a||B(b,2,this.length);return this[b]<<8|this[b+1]};h.prototype.readUInt32LE=function(b,a){b>>>=0;a||B(b,4,this.length);return(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};h.prototype.readUInt32BE=
function(b,a){b>>>=0;a||B(b,4,this.length);return 16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};h.prototype.readIntLE=function(b,a,d){b>>>=0;a>>>=0;d||B(b,a,this.length);d=this[b];for(var c=1,k=0;++k<a&&(c*=256);)d+=this[b+k]*c;d>=128*c&&(d-=Math.pow(2,8*a));return d};h.prototype.readIntBE=function(b,a,d){b>>>=0;a>>>=0;d||B(b,a,this.length);d=a;for(var c=1,k=this[b+--d];0<d&&(c*=256);)k+=this[b+--d]*c;k>=128*c&&(k-=Math.pow(2,8*a));return k};h.prototype.readInt8=function(b,a){b>>>=0;a||
B(b,1,this.length);return this[b]&128?-1*(255-this[b]+1):this[b]};h.prototype.readInt16LE=function(b,a){b>>>=0;a||B(b,2,this.length);b=this[b]|this[b+1]<<8;return b&32768?b|4294901760:b};h.prototype.readInt16BE=function(b,a){b>>>=0;a||B(b,2,this.length);b=this[b+1]|this[b]<<8;return b&32768?b|4294901760:b};h.prototype.readInt32LE=function(b,a){b>>>=0;a||B(b,4,this.length);return this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};h.prototype.readInt32BE=function(b,a){b>>>=0;a||B(b,4,this.length);return this[b]<<
24|this[b+1]<<16|this[b+2]<<8|this[b+3]};h.prototype.readFloatLE=function(b,a){b>>>=0;a||B(b,4,this.length);return O.read(this,b,!0,23,4)};h.prototype.readFloatBE=function(b,a){b>>>=0;a||B(b,4,this.length);return O.read(this,b,!1,23,4)};h.prototype.readDoubleLE=function(b,a){b>>>=0;a||B(b,8,this.length);return O.read(this,b,!0,52,8)};h.prototype.readDoubleBE=function(b,a){b>>>=0;a||B(b,8,this.length);return O.read(this,b,!1,52,8)};h.prototype.writeUIntLE=function(b,a,d,c){b=+b;a>>>=0;d>>>=0;c||p(this,
b,a,d,Math.pow(2,8*d)-1,0);c=1;var k=0;for(this[a]=b&255;++k<d&&(c*=256);)this[a+k]=b/c&255;return a+d};h.prototype.writeUIntBE=function(b,a,d,c){b=+b;a>>>=0;d>>>=0;c||p(this,b,a,d,Math.pow(2,8*d)-1,0);c=d-1;var k=1;for(this[a+c]=b&255;0<=--c&&(k*=256);)this[a+c]=b/k&255;return a+d};h.prototype.writeUInt8=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,1,255,0);this[a]=b&255;return a+1};h.prototype.writeUInt16LE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,2,65535,0);this[a]=b&255;this[a+1]=b>>>8;return a+
2};h.prototype.writeUInt16BE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,2,65535,0);this[a]=b>>>8;this[a+1]=b&255;return a+2};h.prototype.writeUInt32LE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,4,4294967295,0);this[a+3]=b>>>24;this[a+2]=b>>>16;this[a+1]=b>>>8;this[a]=b&255;return a+4};h.prototype.writeUInt32BE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,4,4294967295,0);this[a]=b>>>24;this[a+1]=b>>>16;this[a+2]=b>>>8;this[a+3]=b&255;return a+4};h.prototype.writeIntLE=function(b,a,d,c){b=+b;a>>>=0;c||(c=
Math.pow(2,8*d-1),p(this,b,a,d,c-1,-c));c=0;var k=1,r=0;for(this[a]=b&255;++c<d&&(k*=256);)0>b&&0===r&&0!==this[a+c-1]&&(r=1),this[a+c]=(b/k>>0)-r&255;return a+d};h.prototype.writeIntBE=function(b,a,d,c){b=+b;a>>>=0;c||(c=Math.pow(2,8*d-1),p(this,b,a,d,c-1,-c));c=d-1;var k=1,r=0;for(this[a+c]=b&255;0<=--c&&(k*=256);)0>b&&0===r&&0!==this[a+c+1]&&(r=1),this[a+c]=(b/k>>0)-r&255;return a+d};h.prototype.writeInt8=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,1,127,-128);0>b&&(b=255+b+1);this[a]=b&255;return a+
1};h.prototype.writeInt16LE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,2,32767,-32768);this[a]=b&255;this[a+1]=b>>>8;return a+2};h.prototype.writeInt16BE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,2,32767,-32768);this[a]=b>>>8;this[a+1]=b&255;return a+2};h.prototype.writeInt32LE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,4,2147483647,-2147483648);this[a]=b&255;this[a+1]=b>>>8;this[a+2]=b>>>16;this[a+3]=b>>>24;return a+4};h.prototype.writeInt32BE=function(b,a,d){b=+b;a>>>=0;d||p(this,b,a,4,2147483647,
-2147483648);0>b&&(b=4294967295+b+1);this[a]=b>>>24;this[a+1]=b>>>16;this[a+2]=b>>>8;this[a+3]=b&255;return a+4};h.prototype.writeFloatLE=function(b,a,d){return G(this,b,a,!0,d)};h.prototype.writeFloatBE=function(b,a,d){return G(this,b,a,!1,d)};h.prototype.writeDoubleLE=function(b,a,d){return H(this,b,a,!0,d)};h.prototype.writeDoubleBE=function(b,a,d){return H(this,b,a,!1,d)};h.prototype.copy=function(b,a,d,c){if(!h.isBuffer(b))throw new TypeError("argument should be a Buffer");d||=0;c||0===c||(c=
this.length);a>=b.length&&(a=b.length);a||=0;0<c&&c<d&&(c=d);if(c===d||0===b.length||0===this.length)return 0;if(0>a)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length);b.length-a<c-d&&(c=b.length-a+d);var k=c-d;if(this===b&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(a,d,c);else if(this===b&&d<a&&a<c)for(c=k-1;0<=c;--c)b[c+a]=
this[c+d];else Uint8Array.prototype.set.call(b,this.subarray(d,c),a);return k};h.prototype.fill=function(b,a,d,c){if("string"===typeof b){"string"===typeof a?(c=a,a=0,d=this.length):"string"===typeof d&&(c=d,d=this.length);if(void 0!==c&&"string"!==typeof c)throw new TypeError("encoding must be a string");if("string"===typeof c&&!h.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(1===b.length){var k=b.charCodeAt(0);if("utf8"===c&&128>k||"latin1"===c)b=k}}else"number"===typeof b&&(b&=255);
if(0>a||this.length<a||this.length<d)throw new RangeError("Out of range index");if(d<=a)return this;a>>>=0;d=void 0===d?this.length:d>>>0;b||=0;if("number"===typeof b)for(c=a;c<d;++c)this[c]=b;else{k=h.isBuffer(b)?b:h.from(b,c);var r=k.length;if(0===r)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(c=0;c<d-a;++c)this[c+a]=k[c%r]}return this};var U=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,x("buffer").Buffer)},{"base64-js":13,buffer:15,ieee754:19}],16:[function(x,J,
E){J.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",
405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",
431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],17:[function(x,J,E){function C(){C.init.call(this)}function q(n){if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+
typeof n);}function h(n,B,p,w){q(p);var G=n._events;if(void 0===G)G=n._events=Object.create(null),n._eventsCount=0;else{void 0!==G.newListener&&(n.emit("newListener",B,p.listener?p.listener:p),G=n._events);var H=G[B]}void 0===H?(G[B]=p,++n._eventsCount):("function"===typeof H?H=G[B]=w?[p,H]:[H,p]:w?H.unshift(p):H.push(p),p=void 0===n._maxListeners?C.defaultMaxListeners:n._maxListeners,0<p&&H.length>p&&!H.warned&&(H.warned=!0,p=Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(B)+
" listeners added. Use emitter.setMaxListeners() to increase limit"),p.name="MaxListenersExceededWarning",p.emitter=n,p.type=B,p.count=H.length,console&&console.warn&&console.warn(p)));return n}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e(n,B,p){n={fired:!1,wrapFn:void 0,target:n,type:B,listener:p};B=A.bind(n);B.listener=p;return n.wrapFn=
B}function u(n,B,p){n=n._events;if(void 0===n)return[];B=n[B];if(void 0===B)return[];if("function"===typeof B)return p?[B.listener||B]:[B];if(p)for(p=Array(B.length),n=0;n<p.length;++n)p[n]=B[n].listener||B[n];else p=l(B,B.length);return p}function v(n){var B=this._events;if(void 0!==B){n=B[n];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(n,B){for(var p=Array(B),w=0;w<B;++w)p[w]=n[w];return p}function g(n,B,p){"function"===typeof n.on&&m(n,"error",B,p)}function m(n,
B,p,w){if("function"===typeof n.on)if(w.once)n.once(B,p);else n.on(B,p);else if("function"===typeof n.addEventListener)n.addEventListener(B,function L(H){w.once&&n.removeEventListener(B,L);p(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);}var f=(x="object"===typeof Reflect?Reflect:null)&&"function"===typeof x.apply?x.apply:function(n,B,p){return Function.prototype.apply.call(n,B,p)};var D=x&&"function"===typeof x.ownKeys?x.ownKeys:Object.getOwnPropertySymbols?
function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:function(n){return Object.getOwnPropertyNames(n)};var t=Number.isNaN||function(n){return n!==n};J.exports=C;J.exports.once=function(n,B){return new Promise(function(p,w){function G(L){n.removeListener(B,H);w(L)}function H(){"function"===typeof n.removeListener&&n.removeListener("error",G);p([].slice.call(arguments))}m(n,B,H,{once:!0});"error"!==B&&g(n,G,{once:!0})})};C.EventEmitter=C;C.prototype._events=void 0;
C.prototype._eventsCount=0;C.prototype._maxListeners=void 0;var z=10;Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return z},set:function(n){if("number"!==typeof n||0>n||t(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");z=n}});C.init=function(){if(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)this._events=Object.create(null),this._eventsCount=0;this._maxListeners=
this._maxListeners||void 0};C.prototype.setMaxListeners=function(n){if("number"!==typeof n||0>n||t(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");this._maxListeners=n;return this};C.prototype.getMaxListeners=function(){return void 0===this._maxListeners?C.defaultMaxListeners:this._maxListeners};C.prototype.emit=function(n){for(var B=[],p=1;p<arguments.length;p++)B.push(arguments[p]);p="error"===n;var w=this._events;if(void 0!==w)p=p&&
void 0===w.error;else if(!p)return!1;if(p){var G;0<B.length&&(G=B[0]);if(G instanceof Error)throw G;B=Error("Unhandled error."+(G?" ("+G.message+")":""));B.context=G;throw B;}p=w[n];if(void 0===p)return!1;if("function"===typeof p)f(p,this,B);else for(G=p.length,w=l(p,G),p=0;p<G;++p)f(w[p],this,B);return!0};C.prototype.addListener=function(n,B){return h(this,n,B,!1)};C.prototype.on=C.prototype.addListener;C.prototype.prependListener=function(n,B){return h(this,n,B,!0)};C.prototype.once=function(n,
B){q(B);this.on(n,e(this,n,B));return this};C.prototype.prependOnceListener=function(n,B){q(B);this.prependListener(n,e(this,n,B));return this};C.prototype.removeListener=function(n,B){var p;q(B);var w=this._events;if(void 0===w)return this;var G=w[n];if(void 0===G)return this;if(G===B||G.listener===B)0===--this._eventsCount?this._events=Object.create(null):(delete w[n],w.removeListener&&this.emit("removeListener",n,G.listener||B));else if("function"!==typeof G){var H=-1;for(p=G.length-1;0<=p;p--)if(G[p]===
B||G[p].listener===B){var L=G[p].listener;H=p;break}if(0>H)return this;if(0===H)G.shift();else{for(;H+1<G.length;H++)G[H]=G[H+1];G.pop()}1===G.length&&(w[n]=G[0]);void 0!==w.removeListener&&this.emit("removeListener",n,L||B)}return this};C.prototype.off=C.prototype.removeListener;C.prototype.removeAllListeners=function(n){var B=this._events;if(void 0===B)return this;if(void 0===B.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==B[n]&&(0===
--this._eventsCount?this._events=Object.create(null):delete B[n]),this;if(0===arguments.length){var p=Object.keys(B);for(B=0;B<p.length;++B){var w=p[B];"removeListener"!==w&&this.removeAllListeners(w)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}p=B[n];if("function"===typeof p)this.removeListener(n,p);else if(void 0!==p)for(B=p.length-1;0<=B;B--)this.removeListener(n,p[B]);return this};C.prototype.listeners=function(n){return u(this,n,
!0)};C.prototype.rawListeners=function(n){return u(this,n,!1)};C.listenerCount=function(n,B){return"function"===typeof n.listenerCount?n.listenerCount(B):v.call(n,B)};C.prototype.listenerCount=v;C.prototype.eventNames=function(){return 0<this._eventsCount?D(this._events):[]}},{}],18:[function(x,J,E){function C(e){"string"===typeof e&&(e=h.parse(e));e.protocol||(e.protocol="https:");if("https:"!==e.protocol)throw Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var q=x("http"),
h=x("url");x=J.exports;for(var A in q)q.hasOwnProperty(A)&&(x[A]=q[A]);x.request=function(e,u){e=C(e);return q.request.call(this,e,u)};x.get=function(e,u){e=C(e);return q.get.call(this,e,u)}},{http:51,url:72}],19:[function(x,J,E){E.read=function(C,q,h,A,e){var u=8*e-A-1;var v=(1<<u)-1,l=v>>1,g=-7;e=h?e-1:0;var m=h?-1:1,f=C[q+e];e+=m;h=f&(1<<-g)-1;f>>=-g;for(g+=u;0<g;h=256*h+C[q+e],e+=m,g-=8);u=h&(1<<-g)-1;h>>=-g;for(g+=A;0<g;u=256*u+C[q+e],e+=m,g-=8);if(0===h)h=1-l;else{if(h===v)return u?NaN:Infinity*
(f?-1:1);u+=Math.pow(2,A);h-=l}return(f?-1:1)*u*Math.pow(2,h-A)};E.write=function(C,q,h,A,e,u){var v,l=8*u-e-1,g=(1<<l)-1,m=g>>1,f=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;u=A?0:u-1;var D=A?1:-1,t=0>q||0===q&&0>1/q?1:0;q=Math.abs(q);isNaN(q)||Infinity===q?(q=isNaN(q)?1:0,A=g):(A=Math.floor(Math.log(q)/Math.LN2),1>q*(v=Math.pow(2,-A))&&(A--,v*=2),q=1<=A+m?q+f/v:q+f*Math.pow(2,1-m),2<=q*v&&(A++,v/=2),A+m>=g?(q=0,A=g):1<=A+m?(q=(q*v-1)*Math.pow(2,e),A+=m):(q=q*Math.pow(2,m-1)*Math.pow(2,e),A=0));for(;8<=
e;C[h+u]=q&255,u+=D,q/=256,e-=8);A=A<<e|q;for(l+=e;0<l;C[h+u]=A&255,u+=D,A/=256,l-=8);C[h+u-D]|=128*t}},{}],20:[function(x,J,E){J.exports="function"===typeof Object.create?function(C,q){q&&(C.super_=q,C.prototype=Object.create(q.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:function(C,q){if(q){C.super_=q;var h=function(){};h.prototype=q.prototype;C.prototype=new h;C.prototype.constructor=C}}},{}],21:[function(x,J,E){J=this&&this.__importDefault||function(e){return e&&
e.__esModule?e:{"default":e}};Object.defineProperty(E,"__esModule",{value:!0});const C=x("stream"),q=J(x("sax")),h=x("./parse-time");class A extends C.Writable{constructor(e){super();this._parser=q.default.createStream(!1,{lowercase:!0});this._parser.on("error",this.destroy.bind(this));let u,v=0,l=0,g,m,f,D,t,z=[],n=!1,B=!1,p,w,G;const H=I=>{const N={RepresentationID:e,Number:l,Time:v};return I.replace(/\$(\w+)\$/g,(M,T)=>`${N[T]}`)};this._parser.on("opentag",I=>{switch(I.name){case "mpd":v=I.attributes.availabilitystarttime?
(new Date(I.attributes.availabilitystarttime)).getTime():0;p="dynamic"!==I.attributes.type;break;case "period":l=0;m=1E3;f=D=0;t=[];w=0;G=h.durationStr(I.attributes.start)||0;break;case "segmentlist":l=parseInt(I.attributes.startnumber)||l;m=parseInt(I.attributes.timescale)||m;D=parseInt(I.attributes.duration)||D;f=parseInt(I.attributes.presentationtimeoffset)||f;break;case "segmenttemplate":g=I.attributes;l=parseInt(I.attributes.startnumber)||l;m=parseInt(I.attributes.timescale)||m;break;case "segmenttimeline":case "baseurl":u=
I.name;break;case "s":z.push({duration:parseInt(I.attributes.d),repeat:parseInt(I.attributes.r),time:parseInt(I.attributes.t)});break;case "adaptationset":case "representation":w++;e||(e=I.attributes.id);if(n=I.attributes.id===`${e}`)G&&(v+=G),f&&(v-=f/m*1E3),this.emit("starttime",v);break;case "initialization":n&&this.emit("item",{url:t.filter(M=>!!M).join("")+I.attributes.sourceurl,seq:l,init:!0,duration:0});break;case "segmenturl":if(n){B=!0;var N=z.shift();N=((null===N||void 0===N?void 0:N.duration)||
D)/m*1E3;this.emit("item",{url:t.filter(M=>!!M).join("")+I.attributes.media,seq:l++,duration:N});v+=N}}});const L=()=>{p&&this.emit("endlist");n?this.emit("end"):this.destroy(Error(`Representation '${e}' not found`))};this._parser.on("closetag",I=>{switch(I){case "adaptationset":case "representation":w--;if(g&&z.length){B=!0;g.initialization&&this.emit("item",{url:t.filter(N=>!!N).join("")+H(g.initialization),seq:l,init:!0,duration:0});for(let {duration:N,repeat:M,time:T}of z)for(N=N/m*1E3,M=M||1,
v=T||v,I=0;I<M;I++)this.emit("item",{url:t.filter(S=>!!S).join("")+H(g.media),seq:l++,duration:N}),v+=N}B&&(this.emit("endearly"),L(),this._parser.removeAllListeners(),this.removeAllListeners("finish"))}});this._parser.on("text",I=>{"baseurl"===u&&(t[w]=I,u=null)});this.on("finish",L)}_write(e,u,v){this._parser.write(e);v()}}E.default=A},{"./parse-time":24,sax:35,stream:36}],22:[function(x,J,E){var C=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{"default":v}};const q=x("stream"),
h=C(x("miniget"));E=C(x("./m3u8-parser"));C=C(x("./dash-mpd-parser"));const A=x("./queue"),e=x("./parse-time"),u={m3u8:E.default,"dash-mpd":C.default};x=(v,l={})=>{const g=new q.PassThrough({highWaterMark:l.highWaterMark}),m=l.chunkReadahead||3,f=l.liveBuffer||2E4,D=l.requestOptions,t=u[l.parser||(/\.mpd$/.test(v)?"dash-mpd":"m3u8")];if(!t)throw TypeError(`parser '${l.parser}' not supported`);let z=0;"undefined"!==typeof l.begin&&(z="string"===typeof l.begin?e.humanStr(l.begin):Math.max(l.begin-f,
0));const n=c=>{for(let k of"abort request response redirect retry reconnect".split(" "))c.on(k,g.emit.bind(g,k))};let B;const p=new A.Queue((c,k)=>{B=c;let r=0;c.on("data",K=>r+=K.length);c.pipe(g,{end:!1});c.on("end",()=>k(null,r))},{concurrency:1});let w=0,G=0;const H=new A.Queue((c,k)=>{var r=Object.assign({},D);c.range&&(r.headers=Object.assign({},r.headers,{Range:`bytes=${c.range.start}-${c.range.end}`}));r=h.default((new URL(c.url,v)).toString(),r);r.on("error",k);n(r);p.push(r,(K,R)=>{G+=
+R;g.emit("progress",{num:++w,size:R,duration:c.duration,url:c.url},H.total,G);k(null)})},{concurrency:m}),L=c=>{g.emit("error",c);g.end()};let I,N,M,T=!0,S=!1,O=!1,V;const W=c=>{B=null;c?L(c):!T&&!S&&!O&&H.tasks.length+H.active<=I?(c=Math.max(0,N-(Date.now()-V)),T=!0,M=setTimeout(d,c)):!S&&!O||H.tasks.length||H.active||g.end()};let U,b,a=0;const d=()=>{V=Date.now();U=h.default(v,D);U.on("error",L);n(U);const c=U.pipe(new t(l.id));c.on("starttime",P=>{a||(a=P,"string"===typeof l.begin&&0<=z&&(z+=
a))});c.on("endlist",()=>{O=!0});c.on("endearly",U.unpipe.bind(U,c));let k=[];const r=P=>{if(!P.init){if(P.seq<=b)return;b=P.seq}z=P.time;H.push(P,W);k.push(P)};let K=[],R=0;c.on("item",P=>{P=Object.assign({time:a},P);if(z<=P.time)r(P);else for(K.push(P),R+=P.duration;1<K.length&&R-K[0].duration>f;){const F=K.shift();R-=F.duration}a+=P.duration});c.on("end",()=>{U=null;!k.length&&K.length&&K.forEach(P=>{r(P)});I=Math.max(1,Math.ceil(.01*k.length));N=k.reduce((P,F)=>F.duration+P,0);T=!1;W(null)})};
d();g.end=()=>{S=!0;p.die();H.die();clearTimeout(M);null===U||void 0===U?void 0:U.destroy();null===B||void 0===B?void 0:B.destroy();q.PassThrough.prototype.end.call(g,null);return g};return g};x.parseTimestamp=e.humanStr;J.exports=x},{"./dash-mpd-parser":21,"./m3u8-parser":23,"./parse-time":24,"./queue":25,miniget:26,stream:36}],23:[function(x,J,E){Object.defineProperty(E,"__esModule",{value:!0});x=x("stream");class C extends x.Writable{constructor(){super();this._lastLine="";this._seq=0;this._nextItemRange=
this._nextItemDuration=null;this._lastItemRangeEnd=0;this.on("finish",()=>{this._parseLine(this._lastLine);this.emit("end")})}_parseAttrList(q){let h={},A=/([A-Z0-9-]+)=(?:"([^"]*?)"|([^,]*?))/g,e;for(;null!==(e=A.exec(q));)h[e[1]]=e[2]||e[3];return h}_parseRange(q){if(!q)return null;var h=q.split("@");q=h[1]?parseInt(h[1]):this._lastItemRangeEnd+1;h=q+parseInt(h[0])-1;q={start:q,end:h};this._lastItemRangeEnd=q.end;return q}_parseLine(q){var h=q.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(h)switch(q=
h[2]||"",h[1]){case "EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",(new Date(q)).getTime());break;case "EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(q);break;case "EXT-X-MAP":h=this._parseAttrList(q);if(!h.URI){this.destroy(Error("`EXT-X-MAP` found without required attribute `URI`"));break}this.emit("item",{url:h.URI,seq:this._seq,init:!0,duration:0,range:this._parseRange(h.BYTERANGE)});break;case "EXT-X-BYTERANGE":this._nextItemRange=this._parseRange(q);break;case "EXTINF":this._nextItemDuration=Math.round(1E3*
parseFloat(q.split(",")[0]));break;case "EXT-X-ENDLIST":this.emit("endlist")}else!/^#/.test(q)&&q.trim()&&(this.emit("item",{url:q.trim(),seq:this._seq++,duration:this._nextItemDuration,range:this._nextItemRange}),this._nextItemRange=null)}_write(q,h,A){let e=q.toString("utf8").split("\n");this._lastLine&&(e[0]=this._lastLine+e[0]);e.forEach((u,v)=>{this.destroyed||(v<e.length-1?this._parseLine(u):this._lastLine=u)});A()}}E.default=C},{stream:36}],24:[function(x,J,E){Object.defineProperty(E,"__esModule",
{value:!0});E.durationStr=E.humanStr=void 0;const C=/^\d+$/,q=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,h={ms:1,s:1E3,m:6E4,h:36E5};E.humanStr=A=>{if("number"===typeof A)return A;if(C.test(A))return+A;var e=q.exec(A);if(e)return+(e[1]||0)*h.h+ +(e[2]||0)*h.m+ +e[3]*h.s+ +(e[4]||0);e=0;const u=/(-?\d+)(ms|s|m|h)/g;let v;for(;null!==(v=u.exec(A));)e+=+v[1]*h[v[2]];return e};E.durationStr=A=>{let e=0;const u=/(\d+(?:\.\d+)?)(S|M|H)/g;let v;for(;null!==(v=u.exec(A));)e+=+v[1]*h[v[2].toLowerCase()];
return e}},{}],25:[function(x,J,E){Object.defineProperty(E,"__esModule",{value:!0});E.Queue=void 0;class C{constructor(q,h={}){this._worker=q;this._concurrency=h.concurrency||1;this.tasks=[];this.active=this.total=0}push(q,h){this.tasks.push({item:q,callback:h});this.total++;this._next()}_next(){if(!(this.active>=this._concurrency)&&this.tasks.length){var {item:q,callback:h}=this.tasks.shift(),A=!1;this.active++;this._worker(q,(e,u)=>{A||(this.active--,A=!0,null===h||void 0===h?void 0:h(e,u),this._next())})}}die(){this.tasks=
[]}}E.Queue=C},{}],26:[function(x,J,E){(function(C){(function(){function q(f,D={}){var t;const z=Object.assign({},q.defaultOptions,D),n=new e.PassThrough({highWaterMark:z.highWaterMark});n.destroyed=n.aborted=!1;let B,p,w,G=0,H=0,L,I=0,N,M=!1,T=0,S,O=0;if(null===(t=z.headers)||void 0===t?0:t.Range)if(t=/bytes=(\d+)-(\d+)?/.exec(`${z.headers.Range}`))T=parseInt(t[1],10),S=parseInt(t[2],10);z.acceptEncoding&&(z.headers=Object.assign({"Accept-Encoding":Object.keys(z.acceptEncoding).join(", ")},z.headers));
const V=c=>"HEAD"!==D.method&&M&&O!==N&&I++<z.maxReconnects?(w=null,H=0,L=setTimeout(b,Math.min(z.backoff.inc,z.backoff.max)),n.emit("reconnect",I,c),!0):!1,W=c=>n.destroyed?!1:w&&0<O?V(c.err):(!c.err||"ENOTFOUND"===c.err.message)&&H++<z.maxRetries?(L=setTimeout(b,c.retryAfter||Math.min(H*z.backoff.inc,z.backoff.max)),n.emit("retry",H,c.err),!0):!1,U=(c,k)=>{for(let r of k)c.on(r,n.emit.bind(n,r))},b=()=>{let c={},k;try{let y="string"===typeof f?new URL(f):f;c=Object.assign({},{host:y.host,hostname:y.hostname,
path:y.pathname+y.search+y.hash,port:y.port,protocol:y.protocol});y.username&&(c.auth=`${y.username}:${y.password}`);k=u[String(c.protocol)]}catch(y){}if(k){Object.assign(c,z);M&&0<O&&(c.headers=Object.assign({},c.headers,{Range:`bytes=${O+T}-${S||""}`}));if(z.transform){try{c=z.transform(c)}catch(y){n.emit("error",y);return}if(!c||c.protocol)if(k=u[String(null===c||void 0===c?void 0:c.protocol)],!k){n.emit("error",new q.MinigetError("Invalid URL object from `transform` function"));return}}var r=
y=>{n.destroyed||n.readableEnded||(R(),W({err:y})?B.removeListener("close",K):n.emit("error",y))},K=()=>{R();W({})},R=()=>{B.removeListener("close",K);null===p||void 0===p?void 0:p.removeListener("data",P);null===w||void 0===w?void 0:w.removeListener("end",F)},P=y=>{O+=y.length},F=()=>{R();V()||n.end()};B=k.request(c,y=>{if(!n.destroyed)if(v.has(y.statusCode)){if(G++>=z.maxRedirects)n.emit("error",new q.MinigetError("Too many redirects"));else{if(y.headers.location)f=y.headers.location;else{y=new q.MinigetError("Redirect status code given with no location",
y.statusCode);n.emit("error",y);R();return}setTimeout(b,1E3*parseInt(y.headers["retry-after"]||"0",10));n.emit("redirect",f)}R()}else if(l.has(y.statusCode))W({retryAfter:parseInt(y.headers["retry-after"]||"0",10)})||(y=new q.MinigetError(`Status code: ${y.statusCode}`,y.statusCode),n.emit("error",y)),R();else if(y.statusCode&&(200>y.statusCode||400<=y.statusCode)){var Q=new q.MinigetError(`Status code: ${y.statusCode}`,y.statusCode);500<=y.statusCode?r(Q):n.emit("error",Q);R()}else{w=y;if(z.acceptEncoding&&
y.headers["content-encoding"])for(Q of y.headers["content-encoding"].split(", ").reverse()){let Y=z.acceptEncoding[Q];Y&&(w=w.pipe(Y()),w.on("error",r))}N||(N=parseInt(`${y.headers["content-length"]}`,10),M="bytes"===y.headers["accept-ranges"]&&0<N&&0<z.maxReconnects);y.on("data",P);w.on("end",F);w.pipe(n,{end:!M});p=y;n.emit("response",y);y.on("error",r);U(y,m)}});B.on("error",r);B.on("close",K);U(B,g);n.destroyed&&d(...a);n.emit("request",B);B.end()}else n.emit("error",new q.MinigetError(`Invalid URL: ${f}`))};
n.abort=c=>{console.warn("`MinigetStream#abort()` has been deprecated in favor of `MinigetStream#destroy()`");n.aborted=!0;n.emit("abort");n.destroy(c)};let a;const d=c=>{B.destroy(c);null===w||void 0===w?void 0:w.unpipe(n);null===w||void 0===w?void 0:w.destroy();clearTimeout(L)};n._destroy=(...c)=>{n.destroyed=!0;B?d(...c):a=c};n.text=()=>new Promise((c,k)=>{let r="";n.setEncoding("utf8");n.on("data",K=>r+=K);n.on("end",()=>c(r));n.on("error",k)});C.nextTick(b);return n}var h=this&&this.__importDefault||
function(f){return f&&f.__esModule?f:{"default":f}};const A=h(x("http"));h=h(x("https"));const e=x("stream"),u={"http:":A.default,"https:":h.default},v=new Set([301,302,303,307,308]),l=new Set([429,503]),g="connect continue information socket timeout upgrade".split(" "),m=["aborted"];q.MinigetError=class extends Error{constructor(f,D){super(f);this.statusCode=D}};q.defaultOptions={maxRedirects:10,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1E4}};J.exports=q}).call(this)}).call(this,x("_process"))},
{_process:27,http:51,https:18,stream:36}],27:[function(x,J,E){function C(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function h(n){if(g===setTimeout)return setTimeout(n,0);if((g===C||!g)&&setTimeout)return g=setTimeout,setTimeout(n,0);try{return g(n,0)}catch(B){try{return g.call(null,n,0)}catch(p){return g.call(this,n,0)}}}function A(n){if(m===clearTimeout)return clearTimeout(n);if((m===q||!m)&&clearTimeout)return m=clearTimeout,
clearTimeout(n);try{return m(n)}catch(B){try{return m.call(null,n)}catch(p){return m.call(this,n)}}}function e(){D&&t&&(D=!1,t.length?f=t.concat(f):z=-1,f.length&&u())}function u(){if(!D){var n=h(e);D=!0;for(var B=f.length;B;){t=f;for(f=[];++z<B;)t&&t[z].run();z=-1;B=f.length}t=null;D=!1;A(n)}}function v(n,B){this.fun=n;this.array=B}function l(){}x=J.exports={};try{var g="function"===typeof setTimeout?setTimeout:C}catch(n){g=C}try{var m="function"===typeof clearTimeout?clearTimeout:q}catch(n){m=q}var f=
[],D=!1,t,z=-1;x.nextTick=function(n){var B=Array(arguments.length-1);if(1<arguments.length)for(var p=1;p<arguments.length;p++)B[p-1]=arguments[p];f.push(new v(n,B));1!==f.length||D||h(u)};v.prototype.run=function(){this.fun.apply(null,this.array)};x.title="browser";x.browser=!0;x.env={};x.argv=[];x.version="";x.versions={};x.on=l;x.addListener=l;x.once=l;x.off=l;x.removeListener=l;x.removeAllListeners=l;x.emit=l;x.prependListener=l;x.prependOnceListener=l;x.listeners=function(n){return[]};x.binding=
function(n){throw Error("process.binding is not supported");};x.cwd=function(){return"/"};x.chdir=function(n){throw Error("process.chdir is not supported");};x.umask=function(){return 0}},{}],28:[function(x,J,E){(function(C){(function(){(function(q){function h(L){throw new RangeError(p[L]);}function A(L,I){for(var N=L.length,M=[];N--;)M[N]=I(L[N]);return M}function e(L,I){var N=L.split("@"),M="";1<N.length&&(M=N[0]+"@",L=N[1]);L=L.replace(B,".");L=L.split(".");I=A(L,I).join(".");return M+I}function u(L){for(var I=
[],N=0,M=L.length,T,S;N<M;)T=L.charCodeAt(N++),55296<=T&&56319>=T&&N<M?(S=L.charCodeAt(N++),56320==(S&64512)?I.push(((T&1023)<<10)+(S&1023)+65536):(I.push(T),N--)):I.push(T);return I}function v(L){return A(L,function(I){var N="";65535<I&&(I-=65536,N+=G(I>>>10&1023|55296),I=56320|I&1023);return N+=G(I)}).join("")}function l(L,I,N){var M=0;L=N?w(L/700):L>>1;for(L+=w(L/I);455<L;M+=36)L=w(L/35);return w(M+36*L/(L+38))}function g(L){var I=[],N=L.length,M=0,T=128,S=72,O,V;var W=L.lastIndexOf("-");0>W&&
(W=0);for(O=0;O<W;++O)128<=L.charCodeAt(O)&&h("not-basic"),I.push(L.charCodeAt(O));for(W=0<W?W+1:0;W<N;){O=M;var U=1;for(V=36;;V+=36){W>=N&&h("invalid-input");var b=L.charCodeAt(W++);b=10>b-48?b-22:26>b-65?b-65:26>b-97?b-97:36;(36<=b||b>w((2147483647-M)/U))&&h("overflow");M+=b*U;var a=V<=S?1:V>=S+26?26:V-S;if(b<a)break;b=36-a;U>w(2147483647/b)&&h("overflow");U*=b}U=I.length+1;S=l(M-O,U,0==O);w(M/U)>2147483647-T&&h("overflow");T+=w(M/U);M%=U;I.splice(M++,0,T)}return v(I)}function m(L){var I,N,M,T=
[];L=u(L);var S=L.length;var O=128;var V=0;var W=72;for(M=0;M<S;++M){var U=L[M];128>U&&T.push(G(U))}for((I=N=T.length)&&T.push("-");I<S;){var b=2147483647;for(M=0;M<S;++M)U=L[M],U>=O&&U<b&&(b=U);var a=I+1;b-O>w((2147483647-V)/a)&&h("overflow");V+=(b-O)*a;O=b;for(M=0;M<S;++M)if(U=L[M],U<O&&2147483647<++V&&h("overflow"),U==O){var d=V;for(b=36;;b+=36){U=b<=W?1:b>=W+26?26:b-W;if(d<U)break;var c=d-U;d=36-U;var k=T;U+=c%d;k.push.call(k,G(U+22+75*(26>U)-0));d=w(c/d)}T.push(G(d+22+75*(26>d)-0));W=l(V,a,I==
N);V=0;++I}++V;++O}return T.join("")}var f="object"==typeof E&&E&&!E.nodeType&&E,D="object"==typeof J&&J&&!J.nodeType&&J,t="object"==typeof C&&C;if(t.global===t||t.window===t||t.self===t)q=t;var z=/^xn--/,n=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=Math.floor,G=String.fromCharCode,H;t={version:"1.4.1",ucs2:{decode:u,encode:v},decode:g,encode:m,
toASCII:function(L){return e(L,function(I){return n.test(I)?"xn--"+m(I):I})},toUnicode:function(L){return e(L,function(I){return z.test(I)?g(I.slice(4).toLowerCase()):I})}};if(f&&D)if(J.exports==f)D.exports=t;else for(H in t)t.hasOwnProperty(H)&&(f[H]=t[H]);else q.punycode=t})(this)}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],29:[function(x,J,E){J.exports=function(q,h,A,e){A=A||"=";var u={};if("string"!==typeof q||
0===q.length)return u;var v=/\+/g;q=q.split(h||"&");h=1E3;e&&"number"===typeof e.maxKeys&&(h=e.maxKeys);e=q.length;0<h&&e>h&&(e=h);for(h=0;h<e;++h){var l=q[h].replace(v,"%20"),g=l.indexOf(A);if(0<=g){var m=l.substr(0,g);l=l.substr(g+1)}else m=l,l="";m=decodeURIComponent(m);l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(u,m)?C(u[m])?u[m].push(l):u[m]=[u[m],l]:u[m]=l}return u};var C=Array.isArray||function(q){return"[object Array]"===Object.prototype.toString.call(q)}},{}],30:[function(x,
J,E){function C(e,u){if(e.map)return e.map(u);for(var v=[],l=0;l<e.length;l++)v.push(u(e[l],l));return v}var q=function(e){switch(typeof e){case "string":return e;case "boolean":return e?"true":"false";case "number":return isFinite(e)?e:"";default:return""}};J.exports=function(e,u,v,l){u=u||"&";v=v||"=";null===e&&(e=void 0);return"object"===typeof e?C(A(e),function(g){var m=encodeURIComponent(q(g))+v;return h(e[g])?C(e[g],function(f){return m+encodeURIComponent(q(f))}).join(u):m+encodeURIComponent(q(e[g]))}).join(u):
l?encodeURIComponent(q(l))+v+encodeURIComponent(q(e)):""};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},A=Object.keys||function(e){var u=[],v;for(v in e)Object.prototype.hasOwnProperty.call(e,v)&&u.push(v);return u}},{}],31:[function(x,J,E){E.decode=E.parse=x("./decode");E.encode=E.stringify=x("./encode")},{"./decode":29,"./encode":30}],32:[function(x,J,E){x=function(C){function q(b,a,d){Object.defineProperty(b,a,{value:d,enumerable:!0,configurable:!0,
writable:!0});return b[a]}function h(b,a,d,c){a=Object.create((a&&a.prototype instanceof e?a:e).prototype);c=new z(c||[]);a._invoke=m(b,d,c);return a}function A(b,a,d){try{return{type:"normal",arg:b.call(a,d)}}catch(c){return{type:"throw",arg:c}}}function e(){}function u(){}function v(){}function l(b){["next","throw","return"].forEach(function(a){q(b,a,function(d){return this._invoke(a,d)})})}function g(b,a){function d(k,r,K,R){k=A(b[k],b,r);if("throw"===k.type)R(k.arg);else{var P=k.arg;return(k=
P.value)&&"object"===typeof k&&w.call(k,"__await")?a.resolve(k.__await).then(function(F){d("next",F,K,R)},function(F){d("throw",F,K,R)}):a.resolve(k).then(function(F){P.value=F;K(P)},function(F){return d("throw",F,K,R)})}}var c;this._invoke=function(k,r){function K(){return new a(function(R,P){d(k,r,R,P)})}return c=c?c.then(K,K):K()}}function m(b,a,d){var c=M;return function(k,r){if(c===S)throw Error("Generator is already running");if(c===O){if("throw"===k)throw r;return B()}d.method=k;for(d.arg=
r;;){if(k=d.delegate)if(k=f(k,d)){if(k===V)continue;return k}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if(c===M)throw c=O,d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);c=S;k=A(b,a,d);if("normal"===k.type){c=d.done?O:T;if(k.arg===V)continue;return{value:k.arg,done:d.done}}"throw"===k.type&&(c=O,d.method="throw",d.arg=k.arg)}}}function f(b,a){var d=b.iterator[a.method];if(d===G){a.delegate=null;if("throw"===a.method){if(b.iterator["return"]&&
(a.method="return",a.arg=G,f(b,a),"throw"===a.method))return V;a.method="throw";a.arg=new TypeError("The iterator does not provide a 'throw' method")}return V}d=A(d,b.iterator,a.arg);if("throw"===d.type)return a.method="throw",a.arg=d.arg,a.delegate=null,V;d=d.arg;if(!d)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,V;if(d.done)a[b.resultName]=d.value,a.next=b.nextLoc,"return"!==a.method&&(a.method="next",a.arg=G);else return d;a.delegate=null;return V}
function D(b){var a={tryLoc:b[0]};1 in b&&(a.catchLoc=b[1]);2 in b&&(a.finallyLoc=b[2],a.afterLoc=b[3]);this.tryEntries.push(a)}function t(b){var a=b.completion||{};a.type="normal";delete a.arg;b.completion=a}function z(b){this.tryEntries=[{tryLoc:"root"}];b.forEach(D,this);this.reset(!0)}function n(b){if(b){var a=b[L];if(a)return a.call(b);if("function"===typeof b.next)return b;if(!isNaN(b.length)){var d=-1;a=function k(){for(;++d<b.length;)if(w.call(b,d))return k.value=b[d],k.done=!1,k;k.value=
G;k.done=!0;return k};return a.next=a}}return{next:B}}function B(){return{value:G,done:!0}}var p=Object.prototype,w=p.hasOwnProperty,G,H="function"===typeof Symbol?Symbol:{},L=H.iterator||"@@iterator",I=H.asyncIterator||"@@asyncIterator",N=H.toStringTag||"@@toStringTag";try{q({},"")}catch(b){q=function(a,d,c){return a[d]=c}}C.wrap=h;var M="suspendedStart",T="suspendedYield",S="executing",O="completed",V={};H={};q(H,L,function(){return this});var W=Object.getPrototypeOf;(W=W&&W(W(n([]))))&&W!==p&&
w.call(W,L)&&(H=W);var U=v.prototype=e.prototype=Object.create(H);u.prototype=v;q(U,"constructor",v);q(v,"constructor",u);u.displayName=q(v,N,"GeneratorFunction");C.isGeneratorFunction=function(b){return(b="function"===typeof b&&b.constructor)?b===u||"GeneratorFunction"===(b.displayName||b.name):!1};C.mark=function(b){Object.setPrototypeOf?Object.setPrototypeOf(b,v):(b.__proto__=v,q(b,N,"GeneratorFunction"));b.prototype=Object.create(U);return b};C.awrap=function(b){return{__await:b}};l(g.prototype);
q(g.prototype,I,function(){return this});C.AsyncIterator=g;C.async=function(b,a,d,c,k){void 0===k&&(k=Promise);var r=new g(h(b,a,d,c),k);return C.isGeneratorFunction(a)?r:r.next().then(function(K){return K.done?K.value:r.next()})};l(U);q(U,N,"Generator");q(U,L,function(){return this});q(U,"toString",function(){return"[object Generator]"});C.keys=function(b){var a=[],d;for(d in b)a.push(d);a.reverse();return function k(){for(;a.length;){var r=a.pop();if(r in b)return k.value=r,k.done=!1,k}k.done=!0;
return k}};C.values=n;z.prototype={constructor:z,reset:function(b){this.next=this.prev=0;this.sent=this._sent=G;this.done=!1;this.delegate=null;this.method="next";this.arg=G;this.tryEntries.forEach(t);if(!b)for(var a in this)"t"===a.charAt(0)&&w.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=G)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(b){function a(P,F){r.type="throw";r.arg=b;d.next=P;F&&(d.method="next",
d.arg=G);return!!F}if(this.done)throw b;for(var d=this,c=this.tryEntries.length-1;0<=c;--c){var k=this.tryEntries[c],r=k.completion;if("root"===k.tryLoc)return a("end");if(k.tryLoc<=this.prev){var K=w.call(k,"catchLoc"),R=w.call(k,"finallyLoc");if(K&&R){if(this.prev<k.catchLoc)return a(k.catchLoc,!0);if(this.prev<k.finallyLoc)return a(k.finallyLoc)}else if(K){if(this.prev<k.catchLoc)return a(k.catchLoc,!0)}else if(R){if(this.prev<k.finallyLoc)return a(k.finallyLoc)}else throw Error("try statement without catch or finally");
}}},abrupt:function(b,a){for(var d=this.tryEntries.length-1;0<=d;--d){var c=this.tryEntries[d];if(c.tryLoc<=this.prev&&w.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var k=c;break}}k&&("break"===b||"continue"===b)&&k.tryLoc<=a&&a<=k.finallyLoc&&(k=null);d=k?k.completion:{};d.type=b;d.arg=a;return k?(this.method="next",this.next=k.finallyLoc,V):this.complete(d)},complete:function(b,a){if("throw"===b.type)throw b.arg;"break"===b.type||"continue"===b.type?this.next=b.arg:"return"===b.type?(this.rval=
this.arg=b.arg,this.method="return",this.next="end"):"normal"===b.type&&a&&(this.next=a);return V},finish:function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var d=this.tryEntries[a];if(d.finallyLoc===b)return this.complete(d.completion,d.afterLoc),t(d),V}},"catch":function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var d=this.tryEntries[a];if(d.tryLoc===b){b=d.completion;if("throw"===b.type){var c=b.arg;t(d)}return c}}throw Error("illegal catch attempt");},delegateYield:function(b,a,d){this.delegate=
{iterator:n(b),resultName:a,nextLoc:d};"next"===this.method&&(this.arg=G);return V}};return C}("object"===typeof J?J.exports:{});try{regeneratorRuntime=x}catch(C){"object"===typeof globalThis?globalThis.regeneratorRuntime=x:Function("r","regeneratorRuntime = r")(x)}},{}],33:[function(x,J,E){void function(C,q){"object"===typeof E?J.exports=q():C.resolveUrl=q()}(this,function(){return function(){var C=arguments.length;if(0===C)throw Error("resolveUrl requires at least one argument; got none.");var q=
document.createElement("base");q.href=arguments[0];if(1===C)return q.href;var h=document.getElementsByTagName("head")[0];h.insertBefore(q,h.firstChild);for(var A=document.createElement("a"),e,u=1;u<C;u++)A.href=arguments[u],e=A.href,q.href=e;h.removeChild(q);return e}})},{}],34:[function(x,J,E){function C(e,u){for(var v in e)u[v]=e[v]}function q(e,u,v){return A(e,u,v)}var h=x("buffer"),A=h.Buffer;A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?J.exports=h:(C(h,E),E.Buffer=q);q.prototype=Object.create(A.prototype);
C(A,q);q.from=function(e,u,v){if("number"===typeof e)throw new TypeError("Argument must not be a number");return A(e,u,v)};q.alloc=function(e,u,v){if("number"!==typeof e)throw new TypeError("Argument must be a number");e=A(e);void 0!==u?"string"===typeof v?e.fill(u,v):e.fill(u):e.fill(0);return e};q.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return A(e)};q.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");
return h.SlowBuffer(e)}},{buffer:15}],35:[function(x,J,E){(function(C){(function(){(function(q){function h(c,k){if(!(this instanceof h))return new h(c,k);for(var r=0,K=H.length;r<K;r++)this[H[r]]="";this.q=this.c="";this.bufferCheckPosition=q.MAX_BUFFER_LENGTH;this.opt=k||{};this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!c;this.noscript=
!(!c&&!this.opt.noscript);this.state=a.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(q.XML_ENTITIES):Object.create(q.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(O));if(this.trackPosition=!1!==this.opt.position)this.position=this.line=this.column=0;this.onready&&this.onready(void 0)}function A(c,k){if(!(this instanceof A))return new A(c,k);L.apply(this);this._parser=new h(c,k);this.readable=this.writable=!0;var r=this;this._parser.onend=function(){r.emit("end")};
this._parser.onerror=function(K){r.emit("error",K);r._parser.error=null};this._decoder=null;I.forEach(function(K){Object.defineProperty(r,"on"+K,{get:function(){return r._parser["on"+K]},set:function(R){if(!R)return r.removeAllListeners(K),r._parser["on"+K]=R;r.on(K,R)},enumerable:!0,configurable:!1})})}function e(c){return" "===c||"\n"===c||"\r"===c||"\t"===c}function u(c){return'"'===c||"'"===c}function v(c,k,r){c.textNode&&l(c);c[k]&&c[k](r)}function l(c){c.textNode=g(c.opt,c.textNode);c.textNode&&
c.ontext&&c.ontext(c.textNode);c.textNode=""}function g(c,k){c.trim&&(k=k.trim());c.normalize&&(k=k.replace(/\s+/g," "));return k}function m(c,k){l(c);c.trackPosition&&(k+="\nLine: "+c.line+"\nColumn: "+c.column+"\nChar: "+c.c);k=Error(k);c.error=k;c.onerror&&c.onerror(k);return c}function f(c){c.sawRoot&&!c.closedRoot&&D(c,"Unclosed root tag");c.state!==a.BEGIN&&c.state!==a.BEGIN_WHITESPACE&&c.state!==a.TEXT&&m(c,"Unexpected end");l(c);c.c="";c.closed=!0;c.onend&&c.onend(void 0);h.call(c,c.strict,
c.opt);return c}function D(c,k){if("object"!==typeof c||!(c instanceof h))throw Error("bad call to strictFail");c.strict&&m(c,k)}function t(c,k){var r=0>c.indexOf(":")?["",c]:c.split(":"),K=r[0];r=r[1];k&&"xmlns"===c&&(K="xmlns",r="");return{prefix:K,local:r}}function z(c){c.strict||(c.attribName=c.attribName[c.looseCase]());if(-1===c.attribList.indexOf(c.attribName)&&!c.tag.attributes.hasOwnProperty(c.attribName))if(c.opt.xmlns){var k=t(c.attribName,!0),r=k.local;if("xmlns"===k.prefix)if("xml"===
r&&c.attribValue!==T)D(c,"xml: prefix must be bound to "+T+"\nActual: "+c.attribValue);else if("xmlns"===r&&c.attribValue!==S)D(c,"xmlns: prefix must be bound to "+S+"\nActual: "+c.attribValue);else{k=c.tag;var K=c.tags[c.tags.length-1]||c;k.ns===K.ns&&(k.ns=Object.create(K.ns));k.ns[r]=c.attribValue}c.attribList.push([c.attribName,c.attribValue])}else c.tag.attributes[c.attribName]=c.attribValue,v(c,"onattribute",{name:c.attribName,value:c.attribValue});c.attribName=c.attribValue=""}function n(c,
k){if(c.opt.xmlns){var r=c.tag,K=t(c.tagName);r.prefix=K.prefix;r.local=K.local;r.uri=r.ns[K.prefix]||"";r.prefix&&!r.uri&&(D(c,"Unbound namespace prefix: "+JSON.stringify(c.tagName)),r.uri=K.prefix);K=c.tags[c.tags.length-1]||c;r.ns&&K.ns!==r.ns&&Object.keys(r.ns).forEach(function(Z){v(c,"onopennamespace",{prefix:Z,uri:r.ns[Z]})});K=0;for(var R=c.attribList.length;K<R;K++){var P=c.attribList[K],F=P[0],y=P[1],Q=t(F,!0);P=Q.prefix;var Y=""===P?"":r.ns[P]||"";y={name:F,value:y,prefix:P,local:Q.local,
uri:Y};P&&"xmlns"!==P&&!Y&&(D(c,"Unbound namespace prefix: "+JSON.stringify(P)),y.uri=P);c.tag.attributes[F]=y;v(c,"onattribute",y)}c.attribList.length=0}c.tag.isSelfClosing=!!k;c.sawRoot=!0;c.tags.push(c.tag);v(c,"onopentag",c.tag);k||(c.noscript||"script"!==c.tagName.toLowerCase()?c.state=a.TEXT:c.state=a.SCRIPT,c.tag=null,c.tagName="");c.attribName=c.attribValue="";c.attribList.length=0}function B(c){if(c.tagName){if(c.script){if("script"!==c.tagName){c.script+="</"+c.tagName+">";c.tagName="";
c.state=a.SCRIPT;return}v(c,"onscript",c.script);c.script=""}var k=c.tags.length,r=c.tagName;c.strict||(r=r[c.looseCase]());for(var K=r;k--;)if(c.tags[k].name!==K)D(c,"Unexpected close tag");else break;if(0>k)D(c,"Unmatched closing tag: "+c.tagName),c.textNode+="</"+c.tagName+">";else{c.tagName=r;for(r=c.tags.length;r-- >k;){var R=c.tag=c.tags.pop();c.tagName=c.tag.name;v(c,"onclosetag",c.tagName);for(var P in R.ns);K=c.tags[c.tags.length-1]||c;c.opt.xmlns&&R.ns!==K.ns&&Object.keys(R.ns).forEach(function(F){v(c,
"onclosenamespace",{prefix:F,uri:R.ns[F]})})}0===k&&(c.closedRoot=!0);c.tagName=c.attribValue=c.attribName="";c.attribList.length=0}}else D(c,"Weird empty close tag."),c.textNode+="</>";c.state=a.TEXT}function p(c){var k=c.entity,r=k.toLowerCase(),K="";if(c.ENTITIES[k])return c.ENTITIES[k];if(c.ENTITIES[r])return c.ENTITIES[r];k=r;if("#"===k.charAt(0))if("x"===k.charAt(1)){k=k.slice(2);var R=parseInt(k,16);K=R.toString(16)}else k=k.slice(1),R=parseInt(k,10),K=R.toString(10);k=k.replace(/^0+/,"");
return isNaN(R)||K.toLowerCase()!==k?(D(c,"Invalid character entity"),"&"+c.entity+";"):String.fromCodePoint(R)}function w(c,k){"<"===k?(c.state=a.OPEN_WAKA,c.startTagPosition=c.position):e(k)||(D(c,"Non-whitespace before first tag."),c.textNode=k,c.state=a.TEXT)}function G(c,k){var r="";k<c.length&&(r=c.charAt(k));return r}q.parser=function(c,k){return new h(c,k)};q.SAXParser=h;q.SAXStream=A;q.createStream=function(c,k){return new A(c,k)};q.MAX_BUFFER_LENGTH=65536;var H="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");
q.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");Object.create||(Object.create=function(c){function k(){}k.prototype=c;return new k});Object.keys||(Object.keys=function(c){var k=[],r;for(r in c)c.hasOwnProperty(r)&&k.push(r);return k});h.prototype={end:function(){f(this)},write:function(c){if(this.error)throw this.error;if(this.closed)return m(this,
"Cannot write after close. Assign an onready handler.");if(null===c)return f(this);"object"===typeof c&&(c=c.toString());for(var k=0,r;;){this.c=r=G(c,k++);if(!r)break;this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);switch(this.state){case a.BEGIN:this.state=a.BEGIN_WHITESPACE;if("\ufeff"===r)continue;w(this,r);continue;case a.BEGIN_WHITESPACE:w(this,r);continue;case a.TEXT:if(this.sawRoot&&!this.closedRoot){for(var K=k-1;r&&"<"!==r&&"&"!==r;)(r=G(c,k++))&&
this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=c.substring(K,k-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(e(r)||this.sawRoot&&!this.closedRoot||D(this,"Text data outside of root node."),"&"===r?this.state=a.TEXT_ENTITY:this.textNode+=r):(this.state=a.OPEN_WAKA,this.startTagPosition=this.position);continue;case a.SCRIPT:"<"===r?this.state=a.SCRIPT_ENDING:this.script+=r;continue;case a.SCRIPT_ENDING:"/"===r?this.state=a.CLOSE_TAG:
(this.script+="<"+r,this.state=a.SCRIPT);continue;case a.OPEN_WAKA:"!"===r?(this.state=a.SGML_DECL,this.sgmlDecl=""):e(r)||(V.test(r)?(this.state=a.OPEN_TAG,this.tagName=r):"/"===r?(this.state=a.CLOSE_TAG,this.tagName=""):"?"===r?(this.state=a.PROC_INST,this.procInstName=this.procInstBody=""):(D(this,"Unencoded <"),this.startTagPosition+1<this.position&&(r=Array(this.position-this.startTagPosition).join(" ")+r),this.textNode+="<"+r,this.state=a.TEXT));continue;case a.SGML_DECL:(this.sgmlDecl+r).toUpperCase()===
N?(v(this,"onopencdata"),this.state=a.CDATA,this.cdata=this.sgmlDecl=""):"--"===this.sgmlDecl+r?(this.state=a.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+r).toUpperCase()===M?(this.state=a.DOCTYPE,(this.doctype||this.sawRoot)&&D(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):">"===r?(v(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=a.TEXT):(u(r)&&(this.state=a.SGML_DECL_QUOTED),this.sgmlDecl+=r);continue;case a.SGML_DECL_QUOTED:r===
this.q&&(this.state=a.SGML_DECL,this.q="");this.sgmlDecl+=r;continue;case a.DOCTYPE:">"===r?(this.state=a.TEXT,v(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=a.DOCTYPE_DTD:u(r)&&(this.state=a.DOCTYPE_QUOTED,this.q=r));continue;case a.DOCTYPE_QUOTED:this.doctype+=r;r===this.q&&(this.q="",this.state=a.DOCTYPE);continue;case a.DOCTYPE_DTD:this.doctype+=r;"]"===r?this.state=a.DOCTYPE:u(r)&&(this.state=a.DOCTYPE_DTD_QUOTED,this.q=r);continue;case a.DOCTYPE_DTD_QUOTED:this.doctype+=
r;r===this.q&&(this.state=a.DOCTYPE_DTD,this.q="");continue;case a.COMMENT:"-"===r?this.state=a.COMMENT_ENDING:this.comment+=r;continue;case a.COMMENT_ENDING:"-"===r?(this.state=a.COMMENT_ENDED,(this.comment=g(this.opt,this.comment))&&v(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=a.COMMENT);continue;case a.COMMENT_ENDED:">"!==r?(D(this,"Malformed comment"),this.comment+="--"+r,this.state=a.COMMENT):this.state=a.TEXT;continue;case a.CDATA:"]"===r?this.state=a.CDATA_ENDING:
this.cdata+=r;continue;case a.CDATA_ENDING:"]"===r?this.state=a.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=a.CDATA);continue;case a.CDATA_ENDING_2:">"===r?(this.cdata&&v(this,"oncdata",this.cdata),v(this,"onclosecdata"),this.cdata="",this.state=a.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=a.CDATA);continue;case a.PROC_INST:"?"===r?this.state=a.PROC_INST_ENDING:e(r)?this.state=a.PROC_INST_BODY:this.procInstName+=r;continue;case a.PROC_INST_BODY:if(!this.procInstBody&&e(r))continue;
else"?"===r?this.state=a.PROC_INST_ENDING:this.procInstBody+=r;continue;case a.PROC_INST_ENDING:">"===r?(v(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=a.TEXT):(this.procInstBody+="?"+r,this.state=a.PROC_INST_BODY);continue;case a.OPEN_TAG:if(W.test(r))this.tagName+=r;else{this.strict||(this.tagName=this.tagName[this.looseCase]());K=this.tags[this.tags.length-1]||this;var R=this.tag={name:this.tagName,attributes:{}};
this.opt.xmlns&&(R.ns=K.ns);this.attribList.length=0;v(this,"onopentagstart",R);">"===r?n(this):"/"===r?this.state=a.OPEN_TAG_SLASH:(e(r)||D(this,"Invalid character in tag name"),this.state=a.ATTRIB)}continue;case a.OPEN_TAG_SLASH:">"===r?(n(this,!0),B(this)):(D(this,"Forward-slash in opening tag not followed by >"),this.state=a.ATTRIB);continue;case a.ATTRIB:if(e(r))continue;else">"===r?n(this):"/"===r?this.state=a.OPEN_TAG_SLASH:V.test(r)?(this.attribName=r,this.attribValue="",this.state=a.ATTRIB_NAME):
D(this,"Invalid attribute name");continue;case a.ATTRIB_NAME:"="===r?this.state=a.ATTRIB_VALUE:">"===r?(D(this,"Attribute without value"),this.attribValue=this.attribName,z(this),n(this)):e(r)?this.state=a.ATTRIB_NAME_SAW_WHITE:W.test(r)?this.attribName+=r:D(this,"Invalid attribute name");continue;case a.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=a.ATTRIB_VALUE;else if(e(r))continue;else D(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",v(this,"onattribute",
{name:this.attribName,value:""}),this.attribName="",">"===r?n(this):V.test(r)?(this.attribName=r,this.state=a.ATTRIB_NAME):(D(this,"Invalid attribute name"),this.state=a.ATTRIB);continue;case a.ATTRIB_VALUE:if(e(r))continue;else u(r)?(this.q=r,this.state=a.ATTRIB_VALUE_QUOTED):(D(this,"Unquoted attribute value"),this.state=a.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case a.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=a.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}z(this);this.q=
"";this.state=a.ATTRIB_VALUE_CLOSED;continue;case a.ATTRIB_VALUE_CLOSED:e(r)?this.state=a.ATTRIB:">"===r?n(this):"/"===r?this.state=a.OPEN_TAG_SLASH:V.test(r)?(D(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=a.ATTRIB_NAME):D(this,"Invalid attribute name");continue;case a.ATTRIB_VALUE_UNQUOTED:if(">"!==r&&!e(r)){"&"===r?this.state=a.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}z(this);">"===r?n(this):this.state=a.ATTRIB;continue;case a.CLOSE_TAG:if(this.tagName)">"===
r?B(this):W.test(r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=a.SCRIPT):(e(r)||D(this,"Invalid tagname in closing tag"),this.state=a.CLOSE_TAG_SAW_WHITE);else if(e(r))continue;else V.test(r)?this.tagName=r:this.script?(this.script+="</"+r,this.state=a.SCRIPT):D(this,"Invalid tagname in closing tag.");continue;case a.CLOSE_TAG_SAW_WHITE:if(e(r))continue;">"===r?B(this):D(this,"Invalid characters in closing tag");continue;case a.TEXT_ENTITY:case a.ATTRIB_VALUE_ENTITY_Q:case a.ATTRIB_VALUE_ENTITY_U:switch(this.state){case a.TEXT_ENTITY:var P=
a.TEXT;var F="textNode";break;case a.ATTRIB_VALUE_ENTITY_Q:P=a.ATTRIB_VALUE_QUOTED;F="attribValue";break;case a.ATTRIB_VALUE_ENTITY_U:P=a.ATTRIB_VALUE_UNQUOTED,F="attribValue"}";"===r?(this[F]+=p(this),this.entity="",this.state=P):(this.entity.length?b:U).test(r)?this.entity+=r:(D(this,"Invalid character in entity name"),this[F]+="&"+this.entity+r,this.entity="",this.state=P);continue;default:throw Error(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){c=Math.max(q.MAX_BUFFER_LENGTH,
10);r=k=0;for(P=H.length;r<P;r++){F=this[H[r]].length;if(F>c)switch(H[r]){case "textNode":l(this);break;case "cdata":v(this,"oncdata",this.cdata);this.cdata="";break;case "script":v(this,"onscript",this.script);this.script="";break;default:m(this,"Max buffer length exceeded: "+H[r])}k=Math.max(k,F)}this.bufferCheckPosition=q.MAX_BUFFER_LENGTH-k+this.position}return this},resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){l(this);""!==this.cdata&&
(v(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(v(this,"onscript",this.script),this.script="")}};try{var L=x("stream").Stream}catch(c){L=function(){}}var I=q.EVENTS.filter(function(c){return"error"!==c&&"end"!==c});A.prototype=Object.create(L.prototype,{constructor:{value:A}});A.prototype.write=function(c){"function"===typeof C&&"function"===typeof C.isBuffer&&C.isBuffer(c)&&(this._decoder||(this._decoder=new (x("string_decoder").StringDecoder)("utf8")),c=this._decoder.write(c));this._parser.write(c.toString());
this.emit("data",c);return!0};A.prototype.end=function(c){c&&c.length&&this.write(c);this._parser.end();return!0};A.prototype.on=function(c,k){var r=this;r._parser["on"+c]||-1===I.indexOf(c)||(r._parser["on"+c]=function(){var K=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);K.splice(0,0,c);r.emit.apply(r,K)});return L.prototype.on.call(r,c,k)};var N="[CDATA[",M="DOCTYPE",T="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",O={xml:T,xmlns:S},V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
W=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,
a=0;q.STATE={BEGIN:a++,BEGIN_WHITESPACE:a++,TEXT:a++,TEXT_ENTITY:a++,OPEN_WAKA:a++,SGML_DECL:a++,SGML_DECL_QUOTED:a++,DOCTYPE:a++,DOCTYPE_QUOTED:a++,DOCTYPE_DTD:a++,DOCTYPE_DTD_QUOTED:a++,COMMENT_STARTING:a++,COMMENT:a++,COMMENT_ENDING:a++,COMMENT_ENDED:a++,CDATA:a++,CDATA_ENDING:a++,CDATA_ENDING_2:a++,PROC_INST:a++,PROC_INST_BODY:a++,PROC_INST_ENDING:a++,OPEN_TAG:a++,OPEN_TAG_SLASH:a++,ATTRIB:a++,ATTRIB_NAME:a++,ATTRIB_NAME_SAW_WHITE:a++,ATTRIB_VALUE:a++,ATTRIB_VALUE_QUOTED:a++,ATTRIB_VALUE_CLOSED:a++,
ATTRIB_VALUE_UNQUOTED:a++,ATTRIB_VALUE_ENTITY_Q:a++,ATTRIB_VALUE_ENTITY_U:a++,CLOSE_TAG:a++,CLOSE_TAG_SAW_WHITE:a++,SCRIPT:a++,SCRIPT_ENDING:a++};q.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};q.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,
THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,
laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,
Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,
lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,
ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(q.ENTITIES).forEach(function(c){var k=q.ENTITIES[c];k="number"===typeof k?String.fromCharCode(k):k;q.ENTITIES[c]=k});for(var d in q.STATE)q.STATE[q.STATE[d]]=d;a=q.STATE;String.fromCodePoint||function(){var c=String.fromCharCode,k=Math.floor,r=function(){var K=[],R=-1,
P=arguments.length;if(!P)return"";for(var F="";++R<P;){var y=Number(arguments[R]);if(!isFinite(y)||0>y||1114111<y||k(y)!==y)throw RangeError("Invalid code point: "+y);if(65535>=y)K.push(y);else{y-=65536;var Q=(y>>10)+55296;y=y%1024+56320;K.push(Q,y)}if(R+1===P||16384<K.length)F+=c.apply(null,K),K.length=0}return F};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()})("undefined"===typeof E?this.sax={}:E)}).call(this)}).call(this,
x("buffer").Buffer)},{buffer:15,stream:36,string_decoder:70}],36:[function(x,J,E){function C(){q.call(this)}J.exports=C;var q=x("events").EventEmitter;x("inherits")(C,q);C.Readable=x("readable-stream/lib/_stream_readable.js");C.Writable=x("readable-stream/lib/_stream_writable.js");C.Duplex=x("readable-stream/lib/_stream_duplex.js");C.Transform=x("readable-stream/lib/_stream_transform.js");C.PassThrough=x("readable-stream/lib/_stream_passthrough.js");C.finished=x("readable-stream/lib/internal/streams/end-of-stream.js");
C.pipeline=x("readable-stream/lib/internal/streams/pipeline.js");C.Stream=C;C.prototype.pipe=function(h,A){function e(t){h.writable&&!1===h.write(t)&&f.pause&&f.pause()}function u(){f.readable&&f.resume&&f.resume()}function v(){D||(D=!0,h.end())}function l(){D||(D=!0,"function"===typeof h.destroy&&h.destroy())}function g(t){m();if(0===q.listenerCount(this,"error"))throw t;}function m(){f.removeListener("data",e);h.removeListener("drain",u);f.removeListener("end",v);f.removeListener("close",l);f.removeListener("error",
g);h.removeListener("error",g);f.removeListener("end",m);f.removeListener("close",m);h.removeListener("close",m)}var f=this;f.on("data",e);h.on("drain",u);h._isStdio||A&&!1===A.end||(f.on("end",v),f.on("close",l));var D=!1;f.on("error",g);h.on("error",g);f.on("end",m);f.on("close",m);h.on("close",m);h.emit("pipe",f);return h}},{events:17,inherits:20,"readable-stream/lib/_stream_duplex.js":38,"readable-stream/lib/_stream_passthrough.js":39,"readable-stream/lib/_stream_readable.js":40,"readable-stream/lib/_stream_transform.js":41,
"readable-stream/lib/_stream_writable.js":42,"readable-stream/lib/internal/streams/end-of-stream.js":46,"readable-stream/lib/internal/streams/pipeline.js":48}],37:[function(x,J,E){function C(e,u){e.prototype=Object.create(u.prototype);e.prototype.constructor=e;e.__proto__=u}function q(e,u,v){v||=Error;var l=function(g){function m(f,D,t){var z=g.call;f="string"===typeof u?u:u(f,D,t);return z.call(g,this,f)||this}C(m,g);return m}(v);l.prototype.name=v.name;l.prototype.code=e;A[e]=l}function h(e,u){if(Array.isArray(e)){var v=
e.length;e=e.map(function(l){return String(l)});return 2<v?"one of ".concat(u," ").concat(e.slice(0,v-1).join(", "),", or ")+e[v-1]:2===v?"one of ".concat(u," ").concat(e[0]," or ").concat(e[1]):"of ".concat(u," ").concat(e[0])}return"of ".concat(u," ").concat(String(e))}var A={};q("ERR_INVALID_OPT_VALUE",function(e,u){return'The value "'+u+'" is invalid for option "'+e+'"'},TypeError);q("ERR_INVALID_ARG_TYPE",function(e,u,v){var l;if(l="string"===typeof u)l="not "===u.substr(0,4);l?(l="must not be",
u=u.replace(/^not /,"")):l="must be";var g=void 0;if(void 0===g||g>e.length)g=e.length;" argument"===e.substring(g-9,g)?e="The ".concat(e," ").concat(l," ").concat(h(u,"type")):(g=void 0,"number"!==typeof g&&(g=0),g=g+1>e.length?!1:-1!==e.indexOf(".",g),g=g?"property":"argument",e='The "'.concat(e,'" ').concat(g," ").concat(l," ").concat(h(u,"type")));return e+=". Received type ".concat(typeof v)},TypeError);q("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");q("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+
e+" method is not implemented"});q("ERR_STREAM_PREMATURE_CLOSE","Premature close");q("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});q("ERR_MULTIPLE_CALLBACK","Callback called multiple times");q("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");q("ERR_STREAM_WRITE_AFTER_END","write after end");q("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);q("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);q("ERR_STREAM_UNSHIFT_AFTER_END_EVENT",
"stream.unshift() after end event");J.exports.codes=A},{}],38:[function(x,J,E){(function(C){(function(){function q(m){if(!(this instanceof q))return new q(m);u.call(this,m);v.call(this,m);this.allowHalfOpen=!0;m&&(!1===m.readable&&(this.readable=!1),!1===m.writable&&(this.writable=!1),!1===m.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||C.nextTick(A,this)}function A(m){m.end()}var e=Object.keys||function(m){var f=[],D;for(D in m)f.push(D);return f};
J.exports=q;var u=x("./_stream_readable"),v=x("./_stream_writable");x("inherits")(q,u);e=e(v.prototype);for(var l=0;l<e.length;l++){var g=e[l];q.prototype[g]||(q.prototype[g]=v.prototype[g])}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(q.prototype,
"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,x("_process"))},{"./_stream_readable":40,
"./_stream_writable":42,_process:27,inherits:20}],39:[function(x,J,E){function C(h){if(!(this instanceof C))return new C(h);q.call(this,h)}J.exports=C;var q=x("./_stream_transform");x("inherits")(C,q);C.prototype._transform=function(h,A,e){e(null,h)}},{"./_stream_transform":41,inherits:20}],40:[function(x,J,E){(function(C,q){(function(){function h(F,y,Q){if("function"===typeof F.prependListener)return F.prependListener(y,Q);if(F._events&&F._events[y])Array.isArray(F._events[y])?F._events[y].unshift(Q):
F._events[y]=[Q,F._events[y]];else F.on(y,Q)}function A(F,y,Q){I=I||x("./_stream_duplex");F=F||{};"boolean"!==typeof Q&&(Q=y instanceof I);this.objectMode=!!F.objectMode;Q&&(this.objectMode=this.objectMode||!!F.readableObjectMode);this.highWaterMark=W(this,F,"readableHighWaterMark",Q);this.buffer=new V;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=
!1;this.paused=!0;this.emitClose=!1!==F.emitClose;this.autoDestroy=!!F.autoDestroy;this.destroyed=!1;this.defaultEncoding=F.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;F.encoding&&(k||(k=x("string_decoder/").StringDecoder),this.decoder=new k(F.encoding),this.encoding=F.encoding)}function e(F){I=I||x("./_stream_duplex");if(!(this instanceof e))return new e(F);this._readableState=new A(F,this,this instanceof I);this.readable=!0;F&&("function"===typeof F.read&&
(this._read=F.read),"function"===typeof F.destroy&&(this._destroy=F.destroy));N.call(this)}function u(F,y,Q,Y,Z){O("readableAddChunk",y);var X=F._readableState;if(null===y)X.reading=!1,O("onEofChunk"),X.ended||(X.decoder&&(y=X.decoder.end())&&y.length&&(X.buffer.push(y),X.length+=X.objectMode?1:y.length),X.ended=!0,X.sync?g(F):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,m(F))));else{if(!Z){Z=y;var da;M.isBuffer(Z)||Z instanceof T||"string"===typeof Z||void 0===Z||X.objectMode||(da=
new b("chunk",["string","Buffer","Uint8Array"],Z));var ea=da}if(ea)R(F,ea);else if(X.objectMode||y&&0<y.length)if("string"===typeof y||X.objectMode||Object.getPrototypeOf(y)===M.prototype||(y=M.from(y)),Y)X.endEmitted?R(F,new c):v(F,X,y,!0);else if(X.ended)R(F,new a);else{if(X.destroyed)return!1;X.reading=!1;X.decoder&&!Q?(y=X.decoder.write(y),X.objectMode||0!==y.length?v(F,X,y,!1):f(F,X)):v(F,X,y,!1)}else Y||(X.reading=!1,f(F,X))}return!X.ended&&(X.length<X.highWaterMark||0===X.length)}function v(F,
y,Q,Y){y.flowing&&0===y.length&&!y.sync?(y.awaitDrain=0,F.emit("data",Q)):(y.length+=y.objectMode?1:Q.length,Y?y.buffer.unshift(Q):y.buffer.push(Q),y.needReadable&&g(F));f(F,y)}function l(F,y){if(0>=F||0===y.length&&y.ended)return 0;if(y.objectMode)return 1;if(F!==F)return y.flowing&&y.length?y.buffer.head.data.length:y.length;if(F>y.highWaterMark){var Q=F;1073741824<=Q?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++);y.highWaterMark=Q}return F<=y.length?F:y.ended?y.length:(y.needReadable=
!0,0)}function g(F){var y=F._readableState;O("emitReadable",y.needReadable,y.emittedReadable);y.needReadable=!1;y.emittedReadable||(O("emitReadable",y.flowing),y.emittedReadable=!0,C.nextTick(m,F))}function m(F){var y=F._readableState;O("emitReadable_",y.destroyed,y.length,y.ended);y.destroyed||!y.length&&!y.ended||(F.emit("readable"),y.emittedReadable=!1);y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark;p(F)}function f(F,y){y.readingMore||(y.readingMore=!0,C.nextTick(D,F,y))}function D(F,
y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&0===y.length);){var Q=y.length;O("maybeReadMore read 0");F.read(0);if(Q===y.length)break}y.readingMore=!1}function t(F){return function(){var y=F._readableState;O("pipeOnDrain",y.awaitDrain);y.awaitDrain&&y.awaitDrain--;0===y.awaitDrain&&F.listeners("data").length&&(y.flowing=!0,p(F))}}function z(F){var y=F._readableState;y.readableListening=0<F.listenerCount("readable");y.resumeScheduled&&!y.paused?y.flowing=!0:0<F.listenerCount("data")&&
F.resume()}function n(F){O("readable nexttick read 0");F.read(0)}function B(F,y){O("resume",y.reading);y.reading||F.read(0);y.resumeScheduled=!1;F.emit("resume");p(F);y.flowing&&!y.reading&&F.read(0)}function p(F){var y=F._readableState;for(O("flow",y.flowing);y.flowing&&null!==F.read(););}function w(F,y){if(0===y.length)return null;y.objectMode?F=y.buffer.shift():!F||F>=y.length?(F=y.decoder?y.buffer.join(""):1===y.buffer.length?y.buffer.first():y.buffer.concat(y.length),y.buffer.clear()):F=y.buffer.consume(F,
y.decoder);return F}function G(F){var y=F._readableState;O("endReadable",y.endEmitted);y.endEmitted||(y.ended=!0,C.nextTick(H,y,F))}function H(F,y){O("endReadableNT",F.endEmitted,F.length);F.endEmitted||0!==F.length||(F.endEmitted=!0,y.readable=!1,y.emit("end"),F.autoDestroy&&(F=y._writableState,(!F||F.autoDestroy&&F.finished)&&y.destroy()))}function L(F,y){for(var Q=0,Y=F.length;Q<Y;Q++)if(F[Q]===y)return Q;return-1}J.exports=e;var I;e.ReadableState=A;x("events");var N=x("./internal/streams/stream"),
M=x("buffer").Buffer,T=q.Uint8Array||function(){},S=x("util");var O=S&&S.debuglog?S.debuglog("stream"):function(){};var V=x("./internal/streams/buffer_list");S=x("./internal/streams/destroy");var W=x("./internal/streams/state").getHighWaterMark,U=x("../errors").codes,b=U.ERR_INVALID_ARG_TYPE,a=U.ERR_STREAM_PUSH_AFTER_EOF,d=U.ERR_METHOD_NOT_IMPLEMENTED,c=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,k,r,K;x("inherits")(e,N);var R=S.errorOrDestroy,P=["error","close","destroy","pause","resume"];Object.defineProperty(e.prototype,
"destroyed",{enumerable:!1,get:function(){return void 0===this._readableState?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}});e.prototype.destroy=S.destroy;e.prototype._undestroy=S.undestroy;e.prototype._destroy=function(F,y){y(F)};e.prototype.push=function(F,y){var Q=this._readableState;if(Q.objectMode)var Y=!0;else"string"===typeof F&&(y=y||Q.defaultEncoding,y!==Q.encoding&&(F=M.from(F,y),y=""),Y=!0);return u(this,F,y,!1,Y)};e.prototype.unshift=
function(F){return u(this,F,null,!0,!1)};e.prototype.isPaused=function(){return!1===this._readableState.flowing};e.prototype.setEncoding=function(F){k||(k=x("string_decoder/").StringDecoder);F=new k(F);this._readableState.decoder=F;this._readableState.encoding=this._readableState.decoder.encoding;for(var y=this._readableState.buffer.head,Q="";null!==y;)Q+=F.write(y.data),y=y.next;this._readableState.buffer.clear();""!==Q&&this._readableState.buffer.push(Q);this._readableState.length=Q.length;return this};
e.prototype.read=function(F){O("read",F);F=parseInt(F,10);var y=this._readableState,Q=F;0!==F&&(y.emittedReadable=!1);if(0===F&&y.needReadable&&((0!==y.highWaterMark?y.length>=y.highWaterMark:0<y.length)||y.ended))return O("read: emitReadable",y.length,y.ended),0===y.length&&y.ended?G(this):g(this),null;F=l(F,y);if(0===F&&y.ended)return 0===y.length&&G(this),null;var Y=y.needReadable;O("need readable",Y);if(0===y.length||y.length-F<y.highWaterMark)Y=!0,O("length less than watermark",Y);y.ended||y.reading?
O("reading or ended",!1):Y&&(O("do read"),y.reading=!0,y.sync=!0,0===y.length&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(F=l(Q,y)));Y=0<F?w(F,y):null;null===Y?(y.needReadable=y.length<=y.highWaterMark,F=0):(y.length-=F,y.awaitDrain=0);0===y.length&&(y.ended||(y.needReadable=!0),Q!==F&&y.ended&&G(this));null!==Y&&this.emit("data",Y);return Y};e.prototype._read=function(F){R(this,new d("_read()"))};e.prototype.pipe=function(F,y){function Q(ca,ha){O("onunpipe");ca===ba&&ha&&
!1===ha.hasUnpiped&&(ha.hasUnpiped=!0,O("cleanup"),F.removeListener("close",da),F.removeListener("finish",ea),F.removeListener("drain",ia),F.removeListener("error",X),F.removeListener("unpipe",Q),ba.removeListener("end",Y),ba.removeListener("end",fa),ba.removeListener("data",Z),ja=!0,!aa.awaitDrain||F._writableState&&!F._writableState.needDrain||ia())}function Y(){O("onend");F.end()}function Z(ca){O("ondata");ca=F.write(ca);O("dest.write",ca);!1===ca&&((1===aa.pipesCount&&aa.pipes===F||1<aa.pipesCount&&
-1!==L(aa.pipes,F))&&!ja&&(O("false write response, pause",aa.awaitDrain),aa.awaitDrain++),ba.pause())}function X(ca){O("onerror",ca);fa();F.removeListener("error",X);0===F.listeners("error").length&&R(F,ca)}function da(){F.removeListener("finish",ea);fa()}function ea(){O("onfinish");F.removeListener("close",da);fa()}function fa(){O("unpipe");ba.unpipe(F)}var ba=this,aa=this._readableState;switch(aa.pipesCount){case 0:aa.pipes=F;break;case 1:aa.pipes=[aa.pipes,F];break;default:aa.pipes.push(F)}aa.pipesCount+=
1;O("pipe count=%d opts=%j",aa.pipesCount,y);y=y&&!1===y.end||F===C.stdout||F===C.stderr?fa:Y;if(aa.endEmitted)C.nextTick(y);else ba.once("end",y);F.on("unpipe",Q);var ia=t(ba);F.on("drain",ia);var ja=!1;ba.on("data",Z);h(F,"error",X);F.once("close",da);F.once("finish",ea);F.emit("pipe",ba);aa.flowing||(O("pipe resume"),ba.resume());return F};e.prototype.unpipe=function(F){var y=this._readableState,Q={hasUnpiped:!1};if(0===y.pipesCount)return this;if(1===y.pipesCount){if(F&&F!==y.pipes)return this;
F||(F=y.pipes);y.pipes=null;y.pipesCount=0;y.flowing=!1;F&&F.emit("unpipe",this,Q);return this}if(!F){F=y.pipes;Q=y.pipesCount;y.pipes=null;y.pipesCount=0;y.flowing=!1;for(y=0;y<Q;y++)F[y].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=L(y.pipes,F);if(-1===Y)return this;y.pipes.splice(Y,1);--y.pipesCount;1===y.pipesCount&&(y.pipes=y.pipes[0]);F.emit("unpipe",this,Q);return this};e.prototype.on=function(F,y){y=N.prototype.on.call(this,F,y);var Q=this._readableState;"data"===F?(Q.readableListening=
0<this.listenerCount("readable"),!1!==Q.flowing&&this.resume()):"readable"!==F||Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,O("on readable",Q.length,Q.reading),Q.length?g(this):Q.reading||C.nextTick(n,this));return y};e.prototype.addListener=e.prototype.on;e.prototype.removeListener=function(F,y){y=N.prototype.removeListener.call(this,F,y);"readable"===F&&C.nextTick(z,this);return y};e.prototype.removeAllListeners=function(F){var y=N.prototype.removeAllListeners.apply(this,
arguments);"readable"!==F&&void 0!==F||C.nextTick(z,this);return y};e.prototype.resume=function(){var F=this._readableState;F.flowing||(O("resume"),F.flowing=!F.readableListening,F.resumeScheduled||(F.resumeScheduled=!0,C.nextTick(B,this,F)));F.paused=!1;return this};e.prototype.pause=function(){O("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause"));this._readableState.paused=!0;return this};e.prototype.wrap=
function(F){var y=this,Q=this._readableState,Y=!1;F.on("end",function(){O("wrapped end");if(Q.decoder&&!Q.ended){var X=Q.decoder.end();X&&X.length&&y.push(X)}y.push(null)});F.on("data",function(X){O("wrapped data");Q.decoder&&(X=Q.decoder.write(X));Q.objectMode&&(null===X||void 0===X)||!(Q.objectMode||X&&X.length)||y.push(X)||(Y=!0,F.pause())});for(var Z in F)void 0===this[Z]&&"function"===typeof F[Z]&&(this[Z]=function(X){return function(){return F[X].apply(F,arguments)}}(Z));for(Z=0;Z<P.length;Z++)F.on(P[Z],
this.emit.bind(this,P[Z]));this._read=function(X){O("wrapped _read",X);Y&&(Y=!1,F.resume())};return this};"function"===typeof Symbol&&(e.prototype[Symbol.asyncIterator]=function(){void 0===r&&(r=x("./internal/streams/async_iterator"));return r(this)});Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});
Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}});e._fromList=w;Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});"function"===typeof Symbol&&(e.from=function(F,y){void 0===K&&(K=x("./internal/streams/from"));return K(e,F,y)})}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?
global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":37,"./_stream_duplex":38,"./internal/streams/async_iterator":43,"./internal/streams/buffer_list":44,"./internal/streams/destroy":45,"./internal/streams/from":47,"./internal/streams/state":49,"./internal/streams/stream":50,_process:27,buffer:15,events:17,inherits:20,"string_decoder/":70,util:14}],41:[function(x,J,E){function C(m,f){var D=this._transformState;D.transforming=!1;var t=D.writecb;if(null===t)return this.emit("error",
new u);D.writechunk=null;D.writecb=null;null!=f&&this.push(f);t(m);m=this._readableState;m.reading=!1;(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function q(m){if(!(this instanceof q))return new q(m);g.call(this,m);this._transformState={afterTransform:C.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;m&&("function"===typeof m.transform&&(this._transform=m.transform),
"function"===typeof m.flush&&(this._flush=m.flush));this.on("prefinish",h)}function h(){var m=this;"function"!==typeof this._flush||this._readableState.destroyed?A(this,null,null):this._flush(function(f,D){A(m,f,D)})}function A(m,f,D){if(f)return m.emit("error",f);null!=D&&m.push(D);if(m._writableState.length)throw new l;if(m._transformState.transforming)throw new v;return m.push(null)}J.exports=q;J=x("../errors").codes;var e=J.ERR_METHOD_NOT_IMPLEMENTED,u=J.ERR_MULTIPLE_CALLBACK,v=J.ERR_TRANSFORM_ALREADY_TRANSFORMING,
l=J.ERR_TRANSFORM_WITH_LENGTH_0,g=x("./_stream_duplex");x("inherits")(q,g);q.prototype.push=function(m,f){this._transformState.needTransform=!1;return g.prototype.push.call(this,m,f)};q.prototype._transform=function(m,f,D){D(new e("_transform()"))};q.prototype._write=function(m,f,D){var t=this._transformState;t.writecb=D;t.writechunk=m;t.writeencoding=f;t.transforming||(m=this._readableState,(t.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark))};q.prototype._read=
function(m){m=this._transformState;null===m.writechunk||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))};q.prototype._destroy=function(m,f){g.prototype._destroy.call(this,m,function(D){f(D)})}},{"../errors":37,"./_stream_duplex":38,inherits:20}],42:[function(x,J,E){(function(C,q){(function(){function h(b){var a=this;this.entry=this.next=null;this.finish=function(){var d=a.entry;for(a.entry=null;d;){var c=d.callback;b.pendingcb--;
c(void 0);d=d.next}b.corkedRequestsFree.next=a}}function A(){}function e(b,a,d){t=t||x("./_stream_duplex");b=b||{};"boolean"!==typeof d&&(d=a instanceof t);this.objectMode=!!b.objectMode;d&&(this.objectMode=this.objectMode||!!b.writableObjectMode);this.highWaterMark=G(this,b,"writableHighWaterMark",d);this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==b.decodeStrings;this.defaultEncoding=b.defaultEncoding||"utf8";this.length=0;this.writing=
!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(c){var k=a._writableState,r=k.sync,K=k.writecb;if("function"!==typeof K)throw new N;k.writing=!1;k.writecb=null;k.length-=k.writelen;k.writelen=0;c?(--k.pendingcb,r?(C.nextTick(K,c),C.nextTick(D,a,k),a._writableState.errorEmitted=!0,W(a,c)):(K(c),a._writableState.errorEmitted=!0,W(a,c),D(a,k))):((c=m(k)||a.destroyed)||k.corked||k.bufferProcessing||!k.bufferedRequest||g(a,k),r?C.nextTick(l,a,k,c,K):l(a,k,c,K))};this.writecb=
null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.emitClose=!1!==b.emitClose;this.autoDestroy=!!b.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new h(this)}function u(b){t=t||x("./_stream_duplex");var a=this instanceof t;if(!a&&!U.call(u,this))return new u(b);this._writableState=new e(b,this,a);this.writable=!0;b&&("function"===typeof b.write&&(this._write=b.write),"function"===typeof b.writev&&(this._writev=
b.writev),"function"===typeof b.destroy&&(this._destroy=b.destroy),"function"===typeof b.final&&(this._final=b.final));n.call(this)}function v(b,a,d,c,k,r,K){a.writelen=c;a.writecb=K;a.writing=!0;a.sync=!0;if(a.destroyed)a.onwrite(new T("write"));else d?b._writev(k,a.onwrite):b._write(k,r,a.onwrite);a.sync=!1}function l(b,a,d,c){!d&&0===a.length&&a.needDrain&&(a.needDrain=!1,b.emit("drain"));a.pendingcb--;c();D(b,a)}function g(b,a){a.bufferProcessing=!0;var d=a.bufferedRequest;if(b._writev&&d&&d.next){var c=
Array(a.bufferedRequestCount),k=a.corkedRequestsFree;k.entry=d;for(var r=0,K=!0;d;)c[r]=d,d.isBuf||(K=!1),d=d.next,r+=1;c.allBuffers=K;v(b,a,!0,a.length,c,"",k.finish);a.pendingcb++;a.lastBufferedRequest=null;k.next?(a.corkedRequestsFree=k.next,k.next=null):a.corkedRequestsFree=new h(a);a.bufferedRequestCount=0}else{for(;d&&(c=d.chunk,v(b,a,!1,a.objectMode?1:c.length,c,d.encoding,d.callback),d=d.next,a.bufferedRequestCount--,!a.writing););null===d&&(a.lastBufferedRequest=null)}a.bufferedRequest=d;
a.bufferProcessing=!1}function m(b){return b.ending&&0===b.length&&null===b.bufferedRequest&&!b.finished&&!b.writing}function f(b,a){b._final(function(d){a.pendingcb--;d&&W(b,d);a.prefinished=!0;b.emit("prefinish");D(b,a)})}function D(b,a){var d=m(a);d&&(a.prefinished||a.finalCalled||("function"!==typeof b._final||a.destroyed?(a.prefinished=!0,b.emit("prefinish")):(a.pendingcb++,a.finalCalled=!0,C.nextTick(f,b,a))),0===a.pendingcb&&(a.finished=!0,b.emit("finish"),a.autoDestroy&&(a=b._readableState,
(!a||a.autoDestroy&&a.endEmitted)&&b.destroy())));return d}J.exports=u;var t;u.WritableState=e;var z={deprecate:x("util-deprecate")},n=x("./internal/streams/stream"),B=x("buffer").Buffer,p=q.Uint8Array||function(){},w=x("./internal/streams/destroy"),G=x("./internal/streams/state").getHighWaterMark,H=x("../errors").codes,L=H.ERR_INVALID_ARG_TYPE,I=H.ERR_METHOD_NOT_IMPLEMENTED,N=H.ERR_MULTIPLE_CALLBACK,M=H.ERR_STREAM_CANNOT_PIPE,T=H.ERR_STREAM_DESTROYED,S=H.ERR_STREAM_NULL_VALUES,O=H.ERR_STREAM_WRITE_AFTER_END,
V=H.ERR_UNKNOWN_ENCODING,W=w.errorOrDestroy;x("inherits")(u,n);e.prototype.getBuffer=function(){for(var b=this.bufferedRequest,a=[];b;)a.push(b),b=b.next;return a};(function(){try{Object.defineProperty(e.prototype,"buffer",{get:z.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(b){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var U=Function.prototype[Symbol.hasInstance];
Object.defineProperty(u,Symbol.hasInstance,{value:function(b){return U.call(this,b)?!0:this!==u?!1:b&&b._writableState instanceof e}})}else U=function(b){return b instanceof this};u.prototype.pipe=function(){W(this,new M)};u.prototype.write=function(b,a,d){var c=this._writableState,k=!1,r;if(r=!c.objectMode)r=b,r=B.isBuffer(r)||r instanceof p;r&&!B.isBuffer(b)&&(b=B.from(b));"function"===typeof a&&(d=a,a=null);r?a="buffer":a||(a=c.defaultEncoding);"function"!==typeof d&&(d=A);if(c.ending)c=d,d=new O,
W(this,d),C.nextTick(c,d);else{var K;if(!(K=r)){K=b;var R=d,P;null===K?P=new S:"string"===typeof K||c.objectMode||(P=new L("chunk",["string","Buffer"],K));P?(W(this,P),C.nextTick(R,P),K=!1):K=!0}K&&(c.pendingcb++,k=r,k||(P=b,c.objectMode||!1===c.decodeStrings||"string"!==typeof P||(P=B.from(P,a)),b!==P&&(k=!0,a="buffer",b=P)),r=c.objectMode?1:b.length,c.length+=r,P=c.length<c.highWaterMark,P||(c.needDrain=!0),c.writing||c.corked?(r=c.lastBufferedRequest,c.lastBufferedRequest={chunk:b,encoding:a,isBuf:k,
callback:d,next:null},r?r.next=c.lastBufferedRequest:c.bufferedRequest=c.lastBufferedRequest,c.bufferedRequestCount+=1):v(this,c,!1,r,b,a,d),k=P)}return k};u.prototype.cork=function(){this._writableState.corked++};u.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||g(this,b))};u.prototype.setDefaultEncoding=function(b){"string"===typeof b&&(b=b.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((b+
"").toLowerCase())))throw new V(b);this._writableState.defaultEncoding=b;return this};Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});u.prototype._write=function(b,a,d){d(new I("_write()"))};u.prototype._writev=null;u.prototype.end=function(b,a,d){var c=this._writableState;
"function"===typeof b?(d=b,a=b=null):"function"===typeof a&&(d=a,a=null);null!==b&&void 0!==b&&this.write(b,a);c.corked&&(c.corked=1,this.uncork());if(!c.ending){b=d;c.ending=!0;D(this,c);if(b)if(c.finished)C.nextTick(b);else this.once("finish",b);c.ended=!0;this.writable=!1}return this};Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0===this._writableState?
!1:this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}});u.prototype.destroy=w.destroy;u.prototype._undestroy=w.undestroy;u.prototype._destroy=function(b,a){a(b)}}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":37,"./_stream_duplex":38,"./internal/streams/destroy":45,"./internal/streams/state":49,"./internal/streams/stream":50,_process:27,
buffer:15,inherits:20,"util-deprecate":74}],43:[function(x,J,E){(function(C){(function(){function q(w,G,H){G in w?Object.defineProperty(w,G,{value:H,enumerable:!0,configurable:!0,writable:!0}):w[G]=H;return w}function h(w,G){return{value:w,done:G}}function A(w){var G=w[g];if(null!==G){var H=w[n].read();null!==H&&(w[t]=null,w[g]=null,w[m]=null,G(h(H,!1)))}}function e(w){C.nextTick(A,w)}function u(w,G){return function(H,L){w.then(function(){if(G[D])H(h(void 0,!0));else G[z](H,L)},L)}}var v,l=x("./end-of-stream"),
g=Symbol("lastResolve"),m=Symbol("lastReject"),f=Symbol("error"),D=Symbol("ended"),t=Symbol("lastPromise"),z=Symbol("handlePromise"),n=Symbol("stream"),B=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((v={get stream(){return this[n]},next:function(){var w=this,G=this[f];if(null!==G)return Promise.reject(G);if(this[D])return Promise.resolve(h(void 0,!0));if(this[n].destroyed)return new Promise(function(H,L){C.nextTick(function(){w[f]?L(w[f]):H(h(void 0,!0))})});if(G=this[t])G=new Promise(u(G,
this));else{G=this[n].read();if(null!==G)return Promise.resolve(h(G,!1));G=new Promise(this[z])}return this[t]=G}},q(v,Symbol.asyncIterator,function(){return this}),q(v,"return",function(){var w=this;return new Promise(function(G,H){w[n].destroy(null,function(L){L?H(L):G(h(void 0,!0))})})}),v),B);J.exports=function(w){var G,H=Object.create(p,(G={},q(G,n,{value:w,writable:!0}),q(G,g,{value:null,writable:!0}),q(G,m,{value:null,writable:!0}),q(G,f,{value:null,writable:!0}),q(G,D,{value:w._readableState.endEmitted,
writable:!0}),q(G,z,{value:function(L,I){var N=H[n].read();N?(H[t]=null,H[g]=null,H[m]=null,L(h(N,!1))):(H[g]=L,H[m]=I)},writable:!0}),G));H[t]=null;l(w,function(L){if(L&&"ERR_STREAM_PREMATURE_CLOSE"!==L.code){var I=H[m];null!==I&&(H[t]=null,H[g]=null,H[m]=null,I(L));H[f]=L}else L=H[g],null!==L&&(H[t]=null,H[g]=null,H[m]=null,L(h(void 0,!0))),H[D]=!0});w.on("readable",e.bind(null,H));return H}}).call(this)}).call(this,x("_process"))},{"./end-of-stream":46,_process:27}],44:[function(x,J,E){function C(l,
g){var m=Object.keys(l);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);g&&(f=f.filter(function(D){return Object.getOwnPropertyDescriptor(l,D).enumerable}));m.push.apply(m,f)}return m}function q(l){for(var g=1;g<arguments.length;g++){var m=null!=arguments[g]?arguments[g]:{};g%2?C(Object(m),!0).forEach(function(f){var D=m[f];f in l?Object.defineProperty(l,f,{value:D,enumerable:!0,configurable:!0,writable:!0}):l[f]=D}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,
Object.getOwnPropertyDescriptors(m)):C(Object(m)).forEach(function(f){Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(m,f))})}return l}function h(l,g){for(var m=0;m<g.length;m++){var f=g[m];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(l,f.key,f)}}function A(l,g,m){g&&h(l.prototype,g);m&&h(l,m);return l}var e=x("buffer").Buffer,u=x("util").inspect,v=u&&u.custom||"inspect";J.exports=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");
this.tail=this.head=null;this.length=0}A(l,[{key:"push",value:function(g){g={data:g,next:null};0<this.length?this.tail.next=g:this.head=g;this.tail=g;++this.length}},{key:"unshift",value:function(g){g={data:g,next:this.head};0===this.length&&(this.tail=g);this.head=g;++this.length}},{key:"shift",value:function(){if(0!==this.length){var g=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return g}}},{key:"clear",value:function(){this.head=this.tail=null;this.length=
0}},{key:"join",value:function(g){if(0===this.length)return"";for(var m=this.head,f=""+m.data;m=m.next;)f+=g+m.data;return f}},{key:"concat",value:function(g){if(0===this.length)return e.alloc(0);g=e.allocUnsafe(g>>>0);for(var m=this.head,f=0;m;)e.prototype.copy.call(m.data,g,f),f+=m.data.length,m=m.next;return g}},{key:"consume",value:function(g,m){g<this.head.data.length?(m=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):m=g===this.head.data.length?this.shift():m?this._getString(g):
this._getBuffer(g);return m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var m=this.head,f=1,D=m.data;for(g-=D.length;m=m.next;){var t=m.data,z=g>t.length?t.length:g;D=z===t.length?D+t:D+t.slice(0,g);g-=z;if(0===g){z===t.length?(++f,this.head=m.next?m.next:this.tail=null):(this.head=m,m.data=t.slice(z));break}++f}this.length-=f;return D}},{key:"_getBuffer",value:function(g){var m=e.allocUnsafe(g),f=this.head,D=1;f.data.copy(m);for(g-=f.data.length;f=
f.next;){var t=f.data,z=g>t.length?t.length:g;t.copy(m,m.length-g,0,z);g-=z;if(0===g){z===t.length?(++D,this.head=f.next?f.next:this.tail=null):(this.head=f,f.data=t.slice(z));break}++D}this.length-=D;return m}},{key:v,value:function(g,m){return u(this,q({},m,{depth:0,customInspect:!1}))}}]);return l}()},{buffer:15,util:14}],45:[function(x,J,E){(function(C){(function(){function q(e,u){A(e,u);h(e)}function h(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||
e.emit("close")}function A(e,u){e.emit("error",u)}J.exports={destroy:function(e,u){var v=this,l=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||l)return u?u(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(A,this,e)):C.nextTick(A,this,e)),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(e||null,function(g){!u&&
g?v._writableState?v._writableState.errorEmitted?C.nextTick(h,v):(v._writableState.errorEmitted=!0,C.nextTick(q,v,g)):C.nextTick(q,v,g):u?(C.nextTick(h,v),u(g)):C.nextTick(h,v)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=
!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,u){var v=e._readableState,l=e._writableState;v&&v.autoDestroy||l&&l.autoDestroy?e.destroy(u):e.emit("error",u)}}}).call(this)}).call(this,x("_process"))},{_process:27}],46:[function(x,J,E){function C(e){var u=!1;return function(){if(!u){u=!0;for(var v=arguments.length,l=Array(v),g=0;g<v;g++)l[g]=arguments[g];e.apply(this,l)}}}function q(){}function h(e,u,v){if("function"===
typeof u)return h(e,null,u);u||={};v=C(v||q);var l=u.readable||!1!==u.readable&&e.readable,g=u.writable||!1!==u.writable&&e.writable,m=function(){e.writable||D()},f=e._writableState&&e._writableState.finished,D=function(){g=!1;f=!0;l||v.call(e)},t=e._readableState&&e._readableState.endEmitted,z=function(){l=!1;t=!0;g||v.call(e)},n=function(w){v.call(e,w)},B=function(){var w;if(l&&!t)return e._readableState&&e._readableState.ended||(w=new A),v.call(e,w);if(g&&!f)return e._writableState&&e._writableState.ended||
(w=new A),v.call(e,w)},p=function(){e.req.on("finish",D)};if(e.setHeader&&"function"===typeof e.abort)if(e.on("complete",D),e.on("abort",B),e.req)p();else e.on("request",p);else g&&!e._writableState&&(e.on("end",m),e.on("close",m));e.on("end",z);e.on("finish",D);if(!1!==u.error)e.on("error",n);e.on("close",B);return function(){e.removeListener("complete",D);e.removeListener("abort",B);e.removeListener("request",p);e.req&&e.req.removeListener("finish",D);e.removeListener("end",m);e.removeListener("close",
m);e.removeListener("finish",D);e.removeListener("end",z);e.removeListener("error",n);e.removeListener("close",B)}}var A=x("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;J.exports=h},{"../../../errors":37}],47:[function(x,J,E){J.exports=function(){throw Error("Readable.from is not available in the browser");}},{}],48:[function(x,J,E){function C(g){var m=!1;return function(){m||(m=!0,g.apply(void 0,arguments))}}function q(g){if(g)throw g;}function h(g,m,f,D){D=C(D);var t=!1;g.on("close",function(){t=
!0});void 0===u&&(u=x("./end-of-stream"));u(g,{readable:m,writable:f},function(n){if(n)return D(n);t=!0;D()});var z=!1;return function(n){if(!t&&!z){z=!0;if(g.setHeader&&"function"===typeof g.abort)return g.abort();if("function"===typeof g.destroy)return g.destroy();D(n||new l("pipe"))}}}function A(g){g()}function e(g,m){return g.pipe(m)}var u;E=x("../../../errors").codes;var v=E.ERR_MISSING_ARGS,l=E.ERR_STREAM_DESTROYED;J.exports=function(){for(var g=arguments.length,m=Array(g),f=0;f<g;f++)m[f]=
arguments[f];var D=m.length?"function"!==typeof m[m.length-1]?q:m.pop():q;Array.isArray(m[0])&&(m=m[0]);if(2>m.length)throw new v("streams");var t,z=m.map(function(n,B){var p=B<m.length-1;return h(n,p,0<B,function(w){t||=w;w&&z.forEach(A);p||(z.forEach(A),D(t))})});return m.reduce(e)}},{"../../../errors":37,"./end-of-stream":46}],49:[function(x,J,E){var C=x("../../../errors").codes.ERR_INVALID_OPT_VALUE;J.exports={getHighWaterMark:function(q,h,A,e){h=null!=h.highWaterMark?h.highWaterMark:e?h[A]:null;
if(null!=h){if(!isFinite(h)||Math.floor(h)!==h||0>h)throw new C(e?A:"highWaterMark",h);return Math.floor(h)}return q.objectMode?16:16384}}},{"../../../errors":37}],50:[function(x,J,E){J.exports=x("events").EventEmitter},{events:17}],51:[function(x,J,E){(function(C){(function(){var q=x("./lib/request"),h=x("./lib/response"),A=x("xtend"),e=x("builtin-status-codes"),u=x("url");E.request=function(v,l){v="string"===typeof v?u.parse(v):A(v);var g=-1===C.location.protocol.search(/^https?:$/)?"http:":"";
g=v.protocol||g;var m=v.hostname||v.host,f=v.port,D=v.path||"/";m&&-1!==m.indexOf(":")&&(m="["+m+"]");v.url=(m?g+"//"+m:"")+(f?":"+f:"")+D;v.method=(v.method||"GET").toUpperCase();v.headers=v.headers||{};v=new q(v);if(l)v.on("response",l);return v};E.get=function(v,l){v=E.request(v,l);v.end();return v};E.ClientRequest=q;E.IncomingMessage=h.IncomingMessage;E.Agent=function(){};E.Agent.defaultMaxSockets=4;E.globalAgent=new E.Agent;E.STATUS_CODES=e;E.METHODS="CHECKOUT CONNECT COPY DELETE GET HEAD LOCK M-SEARCH MERGE MKACTIVITY MKCOL MOVE NOTIFY OPTIONS PATCH POST PROPFIND PROPPATCH PURGE PUT REPORT SEARCH SUBSCRIBE TRACE UNLOCK UNSUBSCRIBE".split(" ")}).call(this)}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./lib/request":53,"./lib/response":54,"builtin-status-codes":16,url:72,xtend:76}],52:[function(x,J,E){(function(C){(function(){function q(){if(void 0!==e)return e;if(C.XMLHttpRequest){e=new C.XMLHttpRequest;try{e.open("GET",C.XDomainRequest?"/":"https://example.com")}catch(u){e=null}}else e=null;return e}function h(u){var v=q();if(!v)return!1;try{return v.responseType=u,v.responseType===u}catch(l){}return!1}
function A(u){return"function"===typeof u}E.fetch=A(C.fetch)&&A(C.ReadableStream);E.writableStream=A(C.WritableStream);E.abortController=A(C.AbortController);E.arraybuffer=E.fetch||h("arraybuffer");E.msstream=!E.fetch&&h("ms-stream");E.mozchunkedarraybuffer=!E.fetch&&h("moz-chunked-arraybuffer");E.overrideMimeType=E.fetch||(q()?A(q().overrideMimeType):!1);var e=null}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],
53:[function(x,J,E){(function(C,q,h){(function(){var A=x("./capability"),e=x("inherits"),u=x("./response"),v=x("readable-stream"),l=u.IncomingMessage,g=u.readyStates;u=J.exports=function(f){var D=this;v.Writable.call(D);D._opts=f;D._body=[];D._headers={};f.auth&&D.setHeader("Authorization","Basic "+h.from(f.auth).toString("base64"));Object.keys(f.headers).forEach(function(n){D.setHeader(n,f.headers[n])});var t=!0;if("disable-fetch"===f.mode||"requestTimeout"in f&&!A.abortController){t=!1;var z=!0}else if("prefer-streaming"===
f.mode)z=!1;else if("allow-wrong-content-type"===f.mode)z=!A.overrideMimeType;else{if(f.mode&&"default"!==f.mode&&"prefer-fast"!==f.mode)throw Error("Invalid value for opts.mode");z=!0}D._mode=A.fetch&&t?"fetch":A.mozchunkedarraybuffer?"moz-chunked-arraybuffer":A.msstream?"ms-stream":A.arraybuffer&&z?"arraybuffer":"text";D._fetchTimer=null;D._socketTimeout=null;D._socketTimer=null;D.on("finish",function(){D._onFinish()})};e(u,v.Writable);u.prototype.setHeader=function(f,D){var t=f.toLowerCase();-1===
m.indexOf(t)&&(this._headers[t]={name:f,value:D})};u.prototype.getHeader=function(f){return(f=this._headers[f.toLowerCase()])?f.value:null};u.prototype.removeHeader=function(f){delete this._headers[f.toLowerCase()]};u.prototype._onFinish=function(){var f=this;if(!f._destroyed){var D=f._opts;"timeout"in D&&0!==D.timeout&&f.setTimeout(D.timeout);var t=f._headers,z=null;"GET"!==D.method&&"HEAD"!==D.method&&(z=new Blob(f._body,{type:(t["content-type"]||{}).value||""}));var n=[];Object.keys(t).forEach(function(G){var H=
t[G].name;G=t[G].value;Array.isArray(G)?G.forEach(function(L){n.push([H,L])}):n.push([H,G])});if("fetch"===f._mode){var B=null;if(A.abortController){var p=new AbortController;B=p.signal;f._fetchAbortController=p;"requestTimeout"in D&&0!==D.requestTimeout&&(f._fetchTimer=q.setTimeout(function(){f.emit("requestTimeout");f._fetchAbortController&&f._fetchAbortController.abort()},D.requestTimeout))}q.fetch(f._opts.url,{method:f._opts.method,headers:n,body:z||void 0,mode:"cors",credentials:D.withCredentials?
"include":"same-origin",signal:B}).then(function(G){f._fetchResponse=G;f._resetTimers(!1);f._connect()},function(G){f._resetTimers(!0);f._destroyed||f.emit("error",G)})}else{var w=f._xhr=new q.XMLHttpRequest;try{w.open(f._opts.method,f._opts.url,!0)}catch(G){C.nextTick(function(){f.emit("error",G)});return}"responseType"in w&&(w.responseType=f._mode);"withCredentials"in w&&(w.withCredentials=!!D.withCredentials);"text"===f._mode&&"overrideMimeType"in w&&w.overrideMimeType("text/plain; charset=x-user-defined");
"requestTimeout"in D&&(w.timeout=D.requestTimeout,w.ontimeout=function(){f.emit("requestTimeout")});n.forEach(function(G){w.setRequestHeader(G[0],G[1])});f._response=null;w.onreadystatechange=function(){switch(w.readyState){case g.LOADING:case g.DONE:f._onXHRProgress()}};"moz-chunked-arraybuffer"===f._mode&&(w.onprogress=function(){f._onXHRProgress()});w.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",Error("XHR error")))};try{w.send(z)}catch(G){C.nextTick(function(){f.emit("error",
G)})}}}};u.prototype._onXHRProgress=function(){this._resetTimers(!1);try{var f=this._xhr.status;var D=null!==f&&0!==f}catch(t){D=!1}D&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))};u.prototype._connect=function(){var f=this;f._destroyed||(f._response=new l(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(D){f.emit("error",D)}),f.emit("response",f._response))};u.prototype._write=function(f,D,t){this._body.push(f);
t()};u.prototype._resetTimers=function(f){var D=this;q.clearTimeout(D._socketTimer);D._socketTimer=null;f?(q.clearTimeout(D._fetchTimer),D._fetchTimer=null):D._socketTimeout&&(D._socketTimer=q.setTimeout(function(){D.emit("timeout")},D._socketTimeout))};u.prototype.abort=u.prototype.destroy=function(f){this._destroyed=!0;this._resetTimers(!0);this._response&&(this._response._destroyed=!0);this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort();f&&this.emit("error",
f)};u.prototype.end=function(f,D,t){"function"===typeof f&&(t=f,f=void 0);v.Writable.prototype.end.call(this,f,D,t)};u.prototype.setTimeout=function(f,D){if(D)this.once("timeout",D);this._socketTimeout=f;this._resetTimers(!1)};u.prototype.flushHeaders=function(){};u.prototype.setNoDelay=function(){};u.prototype.setSocketKeepAlive=function(){};var m="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 date dnt expect host keep-alive origin referer te trailer transfer-encoding upgrade via".split(" ")}).call(this)}).call(this,
x("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},x("buffer").Buffer)},{"./capability":52,"./response":54,_process:27,buffer:15,inherits:20,"readable-stream":69}],54:[function(x,J,E){(function(C,q,h){(function(){var A=x("./capability"),e=x("inherits"),u=x("readable-stream"),v=E.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=E.IncomingMessage=function(g,m,f,D){var t=this;u.Readable.call(t);t._mode=f;t.headers=
{};t.rawHeaders=[];t.trailers={};t.rawTrailers=[];t.on("end",function(){C.nextTick(function(){t.emit("close")})});if("fetch"===f){t._fetchResponse=m;t.url=m.url;t.statusCode=m.status;t.statusMessage=m.statusText;m.headers.forEach(function(B,p){t.headers[p.toLowerCase()]=B;t.rawHeaders.push(p,B)});if(A.writableStream){g=new WritableStream({write:function(B){D(!1);return new Promise(function(p,w){t._destroyed?w():t.push(h.from(B))?p():t._resumeFetch=p})},close:function(){D(!0);t._destroyed||t.push(null)},
abort:function(B){D(!0);t._destroyed||t.emit("error",B)}});try{m.body.pipeTo(g).catch(function(B){D(!0);t._destroyed||t.emit("error",B)});return}catch(B){}}var z=m.body.getReader();function n(){z.read().then(function(B){t._destroyed||(D(B.done),B.done?t.push(null):(t.push(h.from(B.value)),n()))}).catch(function(B){D(!0);t._destroyed||t.emit("error",B)})}n()}else if(t._xhr=g,t._pos=0,t.url=g.responseURL,t.statusCode=g.status,t.statusMessage=g.statusText,g.getAllResponseHeaders().split(/\r?\n/).forEach(function(n){if(n=
n.match(/^([^:]+):\s*(.*)/)){var B=n[1].toLowerCase();"set-cookie"===B?(void 0===t.headers[B]&&(t.headers[B]=[]),t.headers[B].push(n[2])):t.headers[B]=void 0!==t.headers[B]?t.headers[B]+(", "+n[2]):n[2];t.rawHeaders.push(n[1],n[2])}}),t._charset="x-user-defined",!A.overrideMimeType){if(m=t.rawHeaders["mime-type"])if(m=m.match(/;\s*charset=([^;])(;|$)/))t._charset=m[1].toLowerCase();t._charset||(t._charset="utf-8")}};e(l,u.Readable);l.prototype._read=function(){var g=this._resumeFetch;g&&(this._resumeFetch=
null,g())};l.prototype._onXHRProgress=function(g){var m=this,f=m._xhr,D=null;switch(m._mode){case "text":D=f.responseText;if(D.length>m._pos){f=D.substr(m._pos);if("x-user-defined"===m._charset){for(var t=h.alloc(f.length),z=0;z<f.length;z++)t[z]=f.charCodeAt(z)&255;m.push(t)}else m.push(f,m._charset);m._pos=D.length}break;case "arraybuffer":if(f.readyState!==v.DONE||!f.response)break;D=f.response;m.push(h.from(new Uint8Array(D)));break;case "moz-chunked-arraybuffer":D=f.response;if(f.readyState!==
v.LOADING||!D)break;m.push(h.from(new Uint8Array(D)));break;case "ms-stream":if(D=f.response,f.readyState===v.LOADING){var n=new q.MSStreamReader;n.onprogress=function(){n.result.byteLength>m._pos&&(m.push(h.from(new Uint8Array(n.result.slice(m._pos)))),m._pos=n.result.byteLength)};n.onload=function(){g(!0);m.push(null)};n.readAsArrayBuffer(D)}}m._xhr.readyState===v.DONE&&"ms-stream"!==m._mode&&(g(!0),m.push(null))}}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?global:"undefined"!==
typeof self?self:"undefined"!==typeof window?window:{},x("buffer").Buffer)},{"./capability":52,_process:27,buffer:15,inherits:20,"readable-stream":69}],55:[function(x,J,E){arguments[4][37][0].apply(E,arguments)},{dup:37}],56:[function(x,J,E){arguments[4][38][0].apply(E,arguments)},{"./_stream_readable":58,"./_stream_writable":60,_process:27,dup:38,inherits:20}],57:[function(x,J,E){arguments[4][39][0].apply(E,arguments)},{"./_stream_transform":59,dup:39,inherits:20}],58:[function(x,J,E){arguments[4][40][0].apply(E,
arguments)},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:27,buffer:15,dup:40,events:17,inherits:20,"string_decoder/":70,util:14}],59:[function(x,J,E){arguments[4][41][0].apply(E,arguments)},{"../errors":55,"./_stream_duplex":56,dup:41,inherits:20}],60:[function(x,J,E){arguments[4][42][0].apply(E,arguments)},
{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:27,buffer:15,dup:42,inherits:20,"util-deprecate":74}],61:[function(x,J,E){arguments[4][43][0].apply(E,arguments)},{"./end-of-stream":64,_process:27,dup:43}],62:[function(x,J,E){arguments[4][44][0].apply(E,arguments)},{buffer:15,dup:44,util:14}],63:[function(x,J,E){arguments[4][45][0].apply(E,arguments)},{_process:27,dup:45}],64:[function(x,J,E){arguments[4][46][0].apply(E,
arguments)},{"../../../errors":55,dup:46}],65:[function(x,J,E){arguments[4][47][0].apply(E,arguments)},{dup:47}],66:[function(x,J,E){arguments[4][48][0].apply(E,arguments)},{"../../../errors":55,"./end-of-stream":64,dup:48}],67:[function(x,J,E){arguments[4][49][0].apply(E,arguments)},{"../../../errors":55,dup:49}],68:[function(x,J,E){arguments[4][50][0].apply(E,arguments)},{dup:50,events:17}],69:[function(x,J,E){E=J.exports=x("./lib/_stream_readable.js");E.Stream=E;E.Readable=E;E.Writable=x("./lib/_stream_writable.js");
E.Duplex=x("./lib/_stream_duplex.js");E.Transform=x("./lib/_stream_transform.js");E.PassThrough=x("./lib/_stream_passthrough.js");E.finished=x("./lib/internal/streams/end-of-stream.js");E.pipeline=x("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(x,J,E){function C(z){if(!z)return"utf8";
for(var n;;)switch(z){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return z;default:if(n)return;z=(""+z).toLowerCase();n=!0}}function q(z){var n=C(z);if("string"!==typeof n&&(D.isEncoding===t||!t(z)))throw Error("Unknown encoding: "+z);this.encoding=n||z;switch(this.encoding){case "utf16le":this.text=u;this.end=v;z=4;break;case "utf8":this.fillLast=e;z=
4;break;case "base64":this.text=l;this.end=g;z=3;break;default:this.write=m;this.end=f;return}this.lastTotal=this.lastNeed=0;this.lastChar=D.allocUnsafe(z)}function h(z){return 127>=z?0:6===z>>5?2:14===z>>4?3:30===z>>3?4:2===z>>6?-1:-2}function A(z,n,B){var p=n.length-1;if(p<B)return 0;var w=h(n[p]);if(0<=w)return 0<w&&(z.lastNeed=w-1),w;if(--p<B||-2===w)return 0;w=h(n[p]);if(0<=w)return 0<w&&(z.lastNeed=w-2),w;if(--p<B||-2===w)return 0;w=h(n[p]);return 0<=w?(0<w&&(2===w?w=0:z.lastNeed=w-3),w):0}
function e(z){var n=this.lastTotal-this.lastNeed;a:if(128!==(z[0]&192)){this.lastNeed=0;var B="\ufffd"}else{if(1<this.lastNeed&&1<z.length){if(128!==(z[1]&192)){this.lastNeed=1;B="\ufffd";break a}if(2<this.lastNeed&&2<z.length&&128!==(z[2]&192)){this.lastNeed=2;B="\ufffd";break a}}B=void 0}if(void 0!==B)return B;if(this.lastNeed<=z.length)return z.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);z.copy(this.lastChar,n,0,z.length);this.lastNeed-=z.length}
function u(z,n){if(0===(z.length-n)%2){if(n=z.toString("utf16le",n)){var B=n.charCodeAt(n.length-1);if(55296<=B&&56319>=B)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1],n.slice(0,-1)}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=z[z.length-1];return z.toString("utf16le",n,z.length-1)}function v(z){z=z&&z.length?this.write(z):"";return this.lastNeed?z+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):z}function l(z,
n){var B=(z.length-n)%3;if(0===B)return z.toString("base64",n);this.lastNeed=3-B;this.lastTotal=3;1===B?this.lastChar[0]=z[z.length-1]:(this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1]);return z.toString("base64",n,z.length-B)}function g(z){z=z&&z.length?this.write(z):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function m(z){return z.toString(this.encoding)}function f(z){return z&&z.length?this.write(z):""}var D=x("safe-buffer").Buffer,t=D.isEncoding||
function(z){z=""+z;switch(z&&z.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};E.StringDecoder=q;q.prototype.write=function(z){if(0===z.length)return"";if(this.lastNeed){var n=this.fillLast(z);if(void 0===n)return"";var B=this.lastNeed;this.lastNeed=0}else B=0;return B<z.length?n?n+this.text(z,B):this.text(z,B):n||""};q.prototype.end=function(z){z=z&&z.length?
this.write(z):"";return this.lastNeed?z+"\ufffd":z};q.prototype.text=function(z,n){var B=A(this,z,n);if(!this.lastNeed)return z.toString("utf8",n);this.lastTotal=B;B=z.length-(B-this.lastNeed);z.copy(this.lastChar,0,B);return z.toString("utf8",n,B)};q.prototype.fillLast=function(z){if(this.lastNeed<=z.length)return z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,z.length);
this.lastNeed-=z.length}},{"safe-buffer":34}],71:[function(x,J,E){(function(C,q){(function(){function h(g,m){this._id=g;this._clearFn=m}var A=x("process/browser.js").nextTick,e=Function.prototype.apply,u=Array.prototype.slice,v={},l=0;E.setTimeout=function(){return new h(e.call(setTimeout,window,arguments),clearTimeout)};E.setInterval=function(){return new h(e.call(setInterval,window,arguments),clearInterval)};E.clearTimeout=E.clearInterval=function(g){g.close()};h.prototype.unref=h.prototype.ref=
function(){};h.prototype.close=function(){this._clearFn.call(window,this._id)};E.enroll=function(g,m){clearTimeout(g._idleTimeoutId);g._idleTimeout=m};E.unenroll=function(g){clearTimeout(g._idleTimeoutId);g._idleTimeout=-1};E._unrefActive=E.active=function(g){clearTimeout(g._idleTimeoutId);var m=g._idleTimeout;0<=m&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},m))};E.setImmediate="function"===typeof C?C:function(g){var m=l++,f=2>arguments.length?!1:u.call(arguments,1);v[m]=
!0;A(function(){v[m]&&(f?g.apply(null,f):g.call(null),E.clearImmediate(m))});return m};E.clearImmediate="function"===typeof q?q:function(g){delete v[g]}}).call(this)}).call(this,x("timers").setImmediate,x("timers").clearImmediate)},{"process/browser.js":27,timers:71}],72:[function(x,J,E){function C(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function q(p,w,G){if(p&&A.isObject(p)&&p instanceof C)return p;
var H=new C;H.parse(p,w,G);return H}var h=x("punycode"),A=x("./util");E.parse=q;E.resolve=function(p,w){return q(p,!1,!0).resolve(w)};E.resolveObject=function(p,w){return p?q(p,!1,!0).resolveObject(w):w};E.format=function(p){A.isString(p)&&(p=q(p));return p instanceof C?p.format():C.prototype.format.call(p)};E.Url=C;var e=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;J="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var l=["'"].concat(J),g=["%","/","?",";","#"].concat(l),
m=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,D=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,t={javascript:!0,"javascript:":!0},z={javascript:!0,"javascript:":!0},n={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=x("querystring");C.prototype.parse=function(p,w,G){if(!A.isString(p))throw new TypeError("Parameter 'url' must be a string, not "+typeof p);var H=p.indexOf("?");H=-1!==H&&H<p.indexOf("#")?"?":"#";p=p.split(H);p[0]=p[0].replace(/\\/g,"/");p=p.join(H);
H=p.trim();if(!G&&1===p.split("#").length&&(p=v.exec(H)))return this.href=this.path=H,this.pathname=p[1],p[2]?(this.search=p[2],this.query=w?B.parse(this.search.substr(1)):this.search.substr(1)):w&&(this.search="",this.query={}),this;if(p=e.exec(H)){p=p[0];var L=p.toLowerCase();this.protocol=L;H=H.substr(p.length)}if(G||p||H.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===H.substr(0,2);!I||p&&z[p]||(H=H.substr(2),this.slashes=!0)}if(!z[p]&&(I||p&&!n[p])){I=-1;for(G=0;G<m.length;G++)p=H.indexOf(m[G]),
-1!==p&&(-1===I||p<I)&&(I=p);I=-1===I?H.lastIndexOf("@"):H.lastIndexOf("@",I);-1!==I&&(G=H.slice(0,I),H=H.slice(I+1),this.auth=decodeURIComponent(G));I=-1;for(G=0;G<g.length;G++)p=H.indexOf(g[G]),-1!==p&&(-1===I||p<I)&&(I=p);-1===I&&(I=H.length);this.host=H.slice(0,I);H=H.slice(I);this.parseHost();this.hostname=this.hostname||"";I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I){var N=this.hostname.split(/\./);G=0;for(p=N.length;G<p;G++){var M=N[G];if(M&&!M.match(f)){for(var T=
"",S=0,O=M.length;S<O;S++)T=127<M.charCodeAt(S)?T+"x":T+M[S];if(!T.match(f)){p=N.slice(0,G);G=N.slice(G+1);if(M=M.match(D))p.push(M[1]),G.unshift(M[2]);G.length&&(H="/"+G.join(".")+H);this.hostname=p.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();I||(this.hostname=h.toASCII(this.hostname));G=this.port?":"+this.port:"";this.host=(this.hostname||"")+G;this.href+=this.host;I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==H[0]&&(H="/"+H))}if(!t[L])for(G=
0,p=l.length;G<p;G++)I=l[G],-1!==H.indexOf(I)&&(M=encodeURIComponent(I),M===I&&(M=escape(I)),H=H.split(I).join(M));G=H.indexOf("#");-1!==G&&(this.hash=H.substr(G),H=H.slice(0,G));G=H.indexOf("?");-1!==G?(this.search=H.substr(G),this.query=H.substr(G+1),w&&(this.query=B.parse(this.query)),H=H.slice(0,G)):w&&(this.search="",this.query={});H&&(this.pathname=H);n[L]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)G=this.pathname||"",this.path=G+(this.search||"");this.href=
this.format();return this};C.prototype.format=function(){var p=this.auth||"";p&&(p=encodeURIComponent(p),p=p.replace(/%3A/i,":"),p+="@");var w=this.protocol||"",G=this.pathname||"",H=this.hash||"",L=!1,I="";this.host?L=p+this.host:this.hostname&&(L=p+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(L+=":"+this.port));this.query&&A.isObject(this.query)&&Object.keys(this.query).length&&(I=B.stringify(this.query));p=this.search||I&&"?"+I||"";w&&":"!==w.substr(-1)&&(w+=
":");this.slashes||(!w||n[w])&&!1!==L?(L="//"+(L||""),G&&"/"!==G.charAt(0)&&(G="/"+G)):L||="";H&&"#"!==H.charAt(0)&&(H="#"+H);p&&"?"!==p.charAt(0)&&(p="?"+p);G=G.replace(/[?#]/g,function(N){return encodeURIComponent(N)});p=p.replace("#","%23");return w+L+G+p+H};C.prototype.resolve=function(p){return this.resolveObject(q(p,!1,!0)).format()};C.prototype.resolveObject=function(p){if(A.isString(p)){var w=new C;w.parse(p,!1,!0);p=w}w=new C;for(var G=Object.keys(this),H=0;H<G.length;H++){var L=G[H];w[L]=
this[L]}w.hash=p.hash;if(""===p.href)return w.href=w.format(),w;if(p.slashes&&!p.protocol){G=Object.keys(p);for(H=0;H<G.length;H++)L=G[H],"protocol"!==L&&(w[L]=p[L]);n[w.protocol]&&w.hostname&&!w.pathname&&(w.path=w.pathname="/");w.href=w.format();return w}if(p.protocol&&p.protocol!==w.protocol){if(!n[p.protocol]){G=Object.keys(p);for(H=0;H<G.length;H++)L=G[H],w[L]=p[L];w.href=w.format();return w}w.protocol=p.protocol;if(p.host||z[p.protocol])w.pathname=p.pathname;else{for(var I=(p.pathname||"").split("/");I.length&&
!(p.host=I.shift()););p.host||(p.host="");p.hostname||(p.hostname="");""!==I[0]&&I.unshift("");2>I.length&&I.unshift("");w.pathname=I.join("/")}w.search=p.search;w.query=p.query;w.host=p.host||"";w.auth=p.auth;w.hostname=p.hostname||p.host;w.port=p.port;if(w.pathname||w.search)w.path=(w.pathname||"")+(w.search||"");w.slashes=w.slashes||p.slashes;w.href=w.format();return w}G=w.pathname&&"/"===w.pathname.charAt(0);var N=p.host||p.pathname&&"/"===p.pathname.charAt(0),M=G=N||G||w.host&&p.pathname;H=w.pathname&&
w.pathname.split("/")||[];I=p.pathname&&p.pathname.split("/")||[];if(L=w.protocol&&!n[w.protocol])w.hostname="",w.port=null,w.host&&(""===H[0]?H[0]=w.host:H.unshift(w.host)),w.host="",p.protocol&&(p.hostname=null,p.port=null,p.host&&(""===I[0]?I[0]=p.host:I.unshift(p.host)),p.host=null),G=G&&(""===I[0]||""===H[0]);if(N)w.host=p.host||""===p.host?p.host:w.host,w.hostname=p.hostname||""===p.hostname?p.hostname:w.hostname,w.search=p.search,w.query=p.query,H=I;else if(I.length)H||=[],H.pop(),H=H.concat(I),
w.search=p.search,w.query=p.query;else if(!A.isNullOrUndefined(p.search))return L&&(w.hostname=w.host=H.shift(),L=w.host&&0<w.host.indexOf("@")?w.host.split("@"):!1)&&(w.auth=L.shift(),w.host=w.hostname=L.shift()),w.search=p.search,w.query=p.query,A.isNull(w.pathname)&&A.isNull(w.search)||(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w;if(!H.length)return w.pathname=null,w.path=w.search?"/"+w.search:null,w.href=w.format(),w;N=H.slice(-1)[0];I=(w.host||p.host||1<H.length)&&
("."===N||".."===N)||""===N;for(var T=0,S=H.length;0<=S;S--)N=H[S],"."===N?H.splice(S,1):".."===N?(H.splice(S,1),T++):T&&(H.splice(S,1),T--);if(!G&&!M)for(;T--;T)H.unshift("..");!G||""===H[0]||H[0]&&"/"===H[0].charAt(0)||H.unshift("");I&&"/"!==H.join("/").substr(-1)&&H.push("");M=""===H[0]||H[0]&&"/"===H[0].charAt(0);L&&(w.hostname=w.host=M?"":H.length?H.shift():"",L=w.host&&0<w.host.indexOf("@")?w.host.split("@"):!1)&&(w.auth=L.shift(),w.host=w.hostname=L.shift());(G=G||w.host&&H.length)&&!M&&H.unshift("");
H.length?w.pathname=H.join("/"):(w.pathname=null,w.path=null);A.isNull(w.pathname)&&A.isNull(w.search)||(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:""));w.auth=p.auth||w.auth;w.slashes=w.slashes||p.slashes;w.href=w.format();return w};C.prototype.parseHost=function(){var p=this.host,w=u.exec(p);w&&(w=w[0],":"!==w&&(this.port=w.substr(1)),p=p.substr(0,p.length-w.length));p&&(this.hostname=p)}},{"./util":73,punycode:28,querystring:31}],73:[function(x,J,E){J.exports={isString:function(C){return"string"===
typeof C},isObject:function(C){return"object"===typeof C&&null!==C},isNull:function(C){return null===C},isNullOrUndefined:function(C){return null==C}}},{}],74:[function(x,J,E){(function(C){(function(){function q(h){try{if(!C.localStorage)return!1}catch(A){return!1}h=C.localStorage[h];return null==h?!1:"true"===String(h).toLowerCase()}J.exports=function(h,A){if(q("noDeprecation"))return h;var e=!1;return function(){if(!e){if(q("throwDeprecation"))throw Error(A);q("traceDeprecation")?console.trace(A):
console.warn(A);e=!0}return h.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],75:[function(x,J,E){function C(){}var q=function(v){if(Object.keys)return Object.keys(v);var l=[],g;for(g in v)l.push(g);return l},h=function(v,l){if(v.forEach)return v.forEach(l);for(var g=0;g<v.length;g++)l(v[g],g,v)},A=function(){try{return Object.defineProperty({},"_",{}),function(v,l,g){Object.defineProperty(v,
l,{writable:!0,enumerable:!1,configurable:!0,value:g})}}catch(v){return function(l,g,m){l[g]=m}}}(),e="Array Boolean Date Error EvalError Function Infinity JSON Math NaN Number Object RangeError ReferenceError RegExp String SyntaxError TypeError URIError decodeURI decodeURIComponent encodeURI encodeURIComponent escape eval isFinite isNaN parseFloat parseInt undefined unescape".split(" ");C.prototype={};var u=E.Script=function(v){if(!(this instanceof u))return new u(v);this.code=v};u.prototype.runInContext=
function(v){if(!(v instanceof C))throw new TypeError("needs a 'context' argument.");var l=document.createElement("iframe");l.style||(l.style={});l.style.display="none";document.body.appendChild(l);var g=l.contentWindow,m=g.eval,f=g.execScript;!m&&f&&(f.call(g,"null"),m=g.eval);h(q(v),function(t){g[t]=v[t]});h(e,function(t){v[t]&&(g[t]=v[t])});var D=q(g);m=m.call(g,this.code);h(q(g),function(t){var z;if(!(z=t in v)){a:if(D.indexOf)z=D.indexOf(t);else{for(z=0;z<D.length;z++)if(D[z]===t)break a;z=-1}z=
-1===z}z&&(v[t]=g[t])});h(e,function(t){t in v||A(v,t,g[t])});document.body.removeChild(l);return m};u.prototype.runInThisContext=function(){return eval(this.code)};u.prototype.runInNewContext=function(v){var l=u.createContext(v),g=this.runInContext(l);v&&h(q(l),function(m){v[m]=l[m]});return g};h(q(u.prototype),function(v){E[v]=u[v]=function(l){var g=u(l);return g[v].apply(g,[].slice.call(arguments,1))}});E.isContext=function(v){return v instanceof C};E.createScript=function(v){return E.Script(v)};
E.createContext=u.createContext=function(v){var l=new C;"object"===typeof v&&h(q(v),function(g){l[g]=v[g]});return l}},{}],76:[function(x,J,E){J.exports=function(){for(var q={},h=0;h<arguments.length;h++){var A=arguments[h],e;for(e in A)C.call(A,e)&&(q[e]=A[e])}return q};var C=Object.prototype.hasOwnProperty},{}],77:[function(x,J,E){const {setTimeout:C}=x("timers");J.exports=class extends Map{constructor(q=1E3){super();this.timeout=q}set(q,h){this.has(q)&&clearTimeout(super.get(q).tid);super.set(q,
{tid:C(this.delete.bind(this,q),this.timeout).unref(),value:h})}get(q){return(q=super.get(q))?q.value:null}getOrSet(q,h){if(this.has(q))return this.get(q);let A=h();this.set(q,A);(async()=>{try{await A}catch(e){this.delete(q)}})();return A}delete(q){let h=super.get(q);h&&(clearTimeout(h.tid),super.delete(q))}clear(){for(let q of this.values())clearTimeout(q.tid);super.clear()}}},{timers:71}],78:[function(x,J,E){const C=x("./utils"),q=x("./formats"),h="mp4a mp3 vorbis aac opus flac".split(" "),A="mp4v;avc1;Sorenson H.283;MPEG-4 Visual;VP8;VP9;H.264".split(";"),
e=t=>t.bitrate||0,u=t=>A.findIndex(z=>t.codecs&&t.codecs.includes(z)),v=t=>t.audioBitrate||0,l=t=>h.findIndex(z=>t.codecs&&t.codecs.includes(z)),g=(t,z,n)=>{let B=0;for(let p of n)if(B=p(z)-p(t),0!==B)break;return B},m=(t,z)=>g(t,z,[n=>parseInt(n.qualityLabel),e,u]),f=(t,z)=>g(t,z,[v,l]);E.sortFormats=(t,z)=>g(t,z,[n=>+!!n.isHLS,n=>+!!n.isDashMPD,n=>+(0<n.contentLength),n=>+(n.hasVideo&&n.hasAudio),n=>+n.hasVideo,n=>parseInt(n.qualityLabel)||0,e,v,u,l]);E.chooseFormat=(t,z)=>{if("object"===typeof z.format){if(!z.format.url)throw Error("Invalid format given, did you use `ytdl.getInfo()`?");
return z.format}z.filter&&(t=E.filterFormats(t,z.filter));t.some(n=>n.isHLS)&&(t=t.filter(n=>n.isHLS||!n.isLive));z=z.quality||"highest";switch(z){case "highest":t=t[0];break;case "lowest":t=t[t.length-1];break;case "highestaudio":t=E.filterFormats(t,"audio");t.sort(f);const n=t[0];t=t.filter(G=>0===g(n,G,[v,l]));const B=t.map(G=>parseInt(G.qualityLabel)||0).sort((G,H)=>G-H)[0];t=t.find(G=>(parseInt(G.qualityLabel)||0)===B);break;case "lowestaudio":t=E.filterFormats(t,"audio");t.sort(f);t=t[t.length-
1];break;case "highestvideo":t=E.filterFormats(t,"video");t.sort(m);const p=t[0];t=t.filter(G=>0===m(p,G));const w=t.map(G=>G.audioBitrate||0).sort((G,H)=>G-H)[0];t=t.find(G=>(G.audioBitrate||0)===w);break;case "lowestvideo":t=E.filterFormats(t,"video");t.sort(m);t=t[t.length-1];break;default:t=D(z,t)}if(!t)throw Error(`No such format found: ${z}`);return t};const D=(t,z)=>{let n=B=>z.find(p=>`${p.itag}`===`${B}`);return Array.isArray(t)?n(t.find(B=>n(B))):n(t)};E.filterFormats=(t,z)=>{let n;switch(z){case "videoandaudio":case "audioandvideo":n=
B=>B.hasVideo&&B.hasAudio;break;case "video":n=B=>B.hasVideo;break;case "videoonly":n=B=>B.hasVideo&&!B.hasAudio;break;case "audio":n=B=>B.hasAudio;break;case "audioonly":n=B=>!B.hasVideo&&B.hasAudio;break;default:if("function"===typeof z)n=z;else throw TypeError(`Given filter (${z}) is not supported`);}return t.filter(B=>!!B.url&&n(B))};E.addFormatMeta=t=>{t=Object.assign({},q[t.itag],t);t.hasVideo=!!t.qualityLabel;t.hasAudio=!!t.audioBitrate;t.container=t.mimeType?t.mimeType.split(";")[0].split("/")[1]:
null;t.codecs=t.mimeType?C.between(t.mimeType,'codecs="','"'):null;t.videoCodec=t.hasVideo&&t.codecs?t.codecs.split(", ")[0]:null;t.audioCodec=t.hasAudio&&t.codecs?t.codecs.split(", ").slice(-1)[0]:null;t.isLive=/\bsource[/=]yt_live_broadcast\b/.test(t.url);t.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(t.url);t.isDashMPD=/\/manifest\/dash\//.test(t.url);return t}},{"./formats":79,"./utils":85}],79:[function(x,J,E){J.exports={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",
bitrate:25E4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8E5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5E5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5E4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,
audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8E5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175E3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3E6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35E5,audioBitrate:192},
43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5E5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1E6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2E6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',
qualityLabel:"240p",bitrate:5E5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3E6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1E5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15E4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,
audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8E5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15E5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25E5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},
102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15E4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',
qualityLabel:"240p",bitrate:2E5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3E5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5E5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1E6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25E5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135E5,
audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5E4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1E5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',
qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1E5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25E4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5E5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7E5,audioBitrate:null},
248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15E5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4E6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',
qualityLabel:"2160p",bitrate:125E5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9E6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2E7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8E4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3E6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55E5,
audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318E3,audioBitrate:48},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25E5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5E6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1E7,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13E6,audioBitrate:null},
315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2E7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8E4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1E5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25E4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5E5,audioBitrate:null},
334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1E6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15E5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5E6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12E6,audioBitrate:null}}},{}],80:[function(x,J,E){(function(C){(function(){const q=x("stream").PassThrough,h=x("./info"),
A=x("./utils"),e=x("./format-utils"),u=x("./url-utils"),v=x("./sig"),l=x("miniget"),g=x("m3u8stream"),{parseTimestamp:m}=x("m3u8stream"),f=(n,B)=>{const p=D(B);f.getInfo(n,B).then(w=>{z(p,w,B)},p.emit.bind(p,"error"));return p};J.exports=f;f.getBasicInfo=h.getBasicInfo;f.getInfo=h.getInfo;f.chooseFormat=e.chooseFormat;f.filterFormats=e.filterFormats;f.validateID=u.validateID;f.validateURL=u.validateURL;f.getURLVideoID=u.getURLVideoID;f.getVideoID=u.getVideoID;f.cache={sig:v.cache,info:h.cache,watch:h.watchPageCache,
cookie:h.cookieCache};f.version=x("../package.json").version;const D=n=>{const B=new q({highWaterMark:n&&n.highWaterMark||524288});B._destroy=()=>{B.destroyed=!0};return B},t=(n,B,p)=>{"abort request response error redirect retry reconnect".split(" ").forEach(w=>{n.prependListener(w,B.emit.bind(B,w))});n.pipe(B,{end:p})},z=(n,B,p)=>{p=p||{};let w=A.playError(B.player_response,["UNPLAYABLE","LIVE_STREAM_OFFLINE","LOGIN_REQUIRED"]);if(w)n.emit("error",w);else if(B.formats.length){try{var G=e.chooseFormat(B.formats,
p)}catch(S){n.emit("error",S);return}n.emit("info",B,G);if(!n.destroyed){var H=0,L=S=>{H+=S.length;n.emit("progress",S.length,H,T)};p.IPv6Block&&(p.requestOptions=Object.assign({},p.requestOptions,{family:6,localAddress:A.getRandomIPv6(p.IPv6Block)}));var I=p.dlChunkSize||10485760,N=!0;if(G.isHLS||G.isDashMPD){var M=g(G.url,{chunkReadahead:+B.live_chunk_readahead,begin:p.begin||G.isLive&&Date.now(),liveBuffer:p.liveBuffer,requestOptions:p.requestOptions,parser:G.isDashMPD?"dash-mpd":"m3u8",id:G.itag});
M.on("progress",(S,O)=>{n.emit("progress",S.size,S.num,O)});t(M,n,N)}else{const S=Object.assign({},p.requestOptions,{maxReconnects:6,maxRetries:3,backoff:{inc:500,max:1E4}});if(0===I||G.hasAudio&&G.hasVideo)p.begin&&(G.url+=`&begin=${m(p.begin)}`),p.range&&(p.range.start||p.range.end)&&(S.headers=Object.assign({},S.headers,{Range:`bytes=${p.range.start||"0"}-${p.range.end||""}`})),M=l(G.url,S),M.on("response",O=>{n.destroyed||(T=T||parseInt(O.headers["content-length"]))}),M.on("data",L),t(M,n,N);
else{let O=p.range&&p.range.start||0,V=O+I;const W=p.range&&p.range.end;var T=p.range?(W?W+1:parseInt(G.contentLength))-O:parseInt(G.contentLength);const U=()=>{!W&&V>=T&&(V=0);W&&V>W&&(V=W);N=!V||V===W;S.headers=Object.assign({},S.headers,{Range:`bytes=${O}-${V||""}`});M=l(G.url,S);M.on("data",L);M.on("end",()=>{!n.destroyed&&V&&V!==W&&(O=V+1,V+=I,U())});t(M,n,N)};U()}}n._destroy=()=>{n.destroyed=!0;M.destroy();M.end()}}}else n.emit("error",Error("This video is unavailable"))};f.downloadFromInfo=
(n,B)=>{const p=D(B);if(!n.full)throw Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");C(()=>{z(p,n,B)});return p}}).call(this)}).call(this,x("timers").setImmediate)},{"../package.json":86,"./format-utils":78,"./info":82,"./sig":83,"./url-utils":84,"./utils":85,m3u8stream:22,miniget:26,stream:36,timers:71}],81:[function(x,J,E){const C=x("./utils"),q=x("querystring"),{parseTimestamp:h}=x("m3u8stream"),A={song:{name:"Music",url:"https://music.youtube.com/"}},
e=l=>l?l.runs?l.runs[0].text:l.simpleText:null;E.getMedia=l=>{let g={},m=[];try{m=l.response.contents.twoColumnWatchNextResults.results.results.contents}catch(D){}l=m.find(D=>D.videoSecondaryInfoRenderer);if(!l)return{};try{var f=(l.metadataRowContainer||l.videoSecondaryInfoRenderer.metadataRowContainer).metadataRowContainerRenderer.rows;for(let D of f)if(D.metadataRowRenderer){let t=e(D.metadataRowRenderer.title).toLowerCase(),z=D.metadataRowRenderer.contents[0];g[t]=e(z);let n=z.runs;n&&n[0].navigationEndpoint&&
(g[`${t}_url`]=(new URL(n[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,"https://www.youtube.com/watch?v=")).toString());t in A&&(g.category=A[t].name,g.category_url=A[t].url)}else if(D.richMetadataRowRenderer){let t=D.richMetadataRowRenderer.contents,z=t.filter(B=>"RICH_METADATA_RENDERER_STYLE_BOX_ART"===B.richMetadataRenderer.style);for(let {richMetadataRenderer:B}of z){f=B;g.year=e(f.subtitle);let p=e(f.callToAction).split(" ")[1];g[p]=e(f.title);g[`${p}_url`]=(new URL(f.endpoint.commandMetadata.webCommandMetadata.url,
"https://www.youtube.com/watch?v=")).toString();g.thumbnails=f.thumbnail.thumbnails}let n=t.filter(B=>"RICH_METADATA_RENDERER_STYLE_TOPIC"===B.richMetadataRenderer.style);for(let {richMetadataRenderer:B}of n)f=B,g.category=e(f.title),g.category_url=(new URL(f.endpoint.commandMetadata.webCommandMetadata.url,"https://www.youtube.com/watch?v=")).toString()}}catch(D){}return g};const u=l=>!(!l||!l.find(g=>"Verified"===g.metadataBadgeRenderer.tooltip));E.getAuthor=l=>{let g,m=[],f,D=!1;try{let t=l.response.contents.twoColumnWatchNextResults.results.results.contents.find(z=>
z.videoSecondaryInfoRenderer&&z.videoSecondaryInfoRenderer.owner&&z.videoSecondaryInfoRenderer.owner.videoOwnerRenderer).videoSecondaryInfoRenderer.owner.videoOwnerRenderer;g=t.navigationEndpoint.browseEndpoint.browseId;m=t.thumbnail.thumbnails.map(z=>{z.url=(new URL(z.url,"https://www.youtube.com/watch?v=")).toString();return z});f=C.parseAbbreviatedNumber(e(t.subscriberCountText));D=u(t.badges)}catch(t){}try{let t=l.player_response.microformat&&l.player_response.microformat.playerMicroformatRenderer,
z=t&&t.channelId||g||l.player_response.videoDetails.channelId,n={id:z,name:t?t.ownerChannelName:l.player_response.videoDetails.author,user:t?t.ownerProfileUrl.split("/").slice(-1)[0]:null,channel_url:`https://www.youtube.com/channel/${z}`,external_channel_url:t?`https://www.youtube.com/channel/${t.externalChannelId}`:"",user_url:t?(new URL(t.ownerProfileUrl,"https://www.youtube.com/watch?v=")).toString():"",thumbnails:m,verified:D,subscriber_count:f};m.length&&C.deprecate(n,"avatar",n.thumbnails[0].url,
"author.avatar","author.thumbnails[0].url");return n}catch(t){return{}}};const v=(l,g)=>{if(l)try{let m=e(l.viewCountText),f=e(l.shortViewCountText),D=g.find(w=>w.id===l.videoId);/^\d/.test(f)||(f=D&&D.short_view_count_text||"");m=(/^\d/.test(m)?m:f).split(" ")[0];let t=l.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,z=t.browseId,n=e(l.shortBylineText),B=(t.canonicalBaseUrl||"").split("/").slice(-1)[0],p={id:l.videoId,title:e(l.title),published:e(l.publishedTimeText),author:{id:z,name:n,
user:B,channel_url:`https://www.youtube.com/channel/${z}`,user_url:`https://www.youtube.com/user/${B}`,thumbnails:l.channelThumbnail.thumbnails.map(w=>{w.url=(new URL(w.url,"https://www.youtube.com/watch?v=")).toString();return w}),verified:u(l.ownerBadges),[Symbol.toPrimitive](){console.warn("`relatedVideo.author` will be removed in a near future release, use `relatedVideo.author.name` instead.");return p.author.name}},short_view_count_text:f.split(" ")[0],view_count:m.replace(/,/g,""),length_seconds:l.lengthText?
Math.floor(h(e(l.lengthText))/1E3):g&&`${g.length_seconds}`,thumbnails:l.thumbnail.thumbnails,richThumbnails:l.richThumbnail?l.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails:[],isLive:!(!l.badges||!l.badges.find(w=>"LIVE NOW"===w.metadataBadgeRenderer.label))};C.deprecate(p,"author_thumbnail",p.author.thumbnails[0].url,"relatedVideo.author_thumbnail","relatedVideo.author.thumbnails[0].url");C.deprecate(p,"ucid",p.author.id,"relatedVideo.ucid","relatedVideo.author.id");C.deprecate(p,
"video_thumbnail",p.thumbnails[0].url,"relatedVideo.video_thumbnail","relatedVideo.thumbnails[0].url");return p}catch(m){}};E.getRelatedVideos=l=>{let g=[];var m=[];try{g=l.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(",").map(f=>q.parse(f))}catch(f){}try{m=l.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch(f){return[]}l=[];for(let f of m||[])if(m=f.compactVideoRenderer)(m=v(m,g))&&l.push(m);else if((m=f.compactAutoplayRenderer||f.itemSectionRenderer)&&
Array.isArray(m.contents))for(let D of m.contents)(m=v(D.compactVideoRenderer,g))&&l.push(m);return l};E.getLikes=l=>{try{let g=l.response.contents.twoColumnWatchNextResults.results.results.contents.find(m=>m.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(m=>m.toggleButtonRenderer&&"LIKE"===m.toggleButtonRenderer.defaultIcon.iconType);return parseInt(g.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(g){return null}};
E.getDislikes=l=>{try{let g=l.response.contents.twoColumnWatchNextResults.results.results.contents.find(m=>m.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(m=>m.toggleButtonRenderer&&"DISLIKE"===m.toggleButtonRenderer.defaultIcon.iconType);return parseInt(g.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(g){return null}};E.cleanVideoDetails=(l,g)=>{l.thumbnails=l.thumbnail.thumbnails;delete l.thumbnail;
C.deprecate(l,"thumbnail",{thumbnails:l.thumbnails},"videoDetails.thumbnail.thumbnails","videoDetails.thumbnails");l.description=l.shortDescription||e(l.description);delete l.shortDescription;C.deprecate(l,"shortDescription",l.description,"videoDetails.shortDescription","videoDetails.description");l.lengthSeconds=g.player_response.microformat&&g.player_response.microformat.playerMicroformatRenderer.lengthSeconds||g.player_response.videoDetails.lengthSeconds;return l};E.getStoryboards=l=>{l=l.player_response.storyboards&&
l.player_response.storyboards.playerStoryboardSpecRenderer&&l.player_response.storyboards.playerStoryboardSpecRenderer.spec&&l.player_response.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!l)return[];const g=new URL(l.shift());return l.map((m,f)=>{let [D,t,z,n,B,p,w,G]=m.split("#");g.searchParams.set("sigh",G);z=parseInt(z,10);n=parseInt(n,10);B=parseInt(B,10);m=Math.ceil(z/(n*B));return{templateUrl:g.toString().replace("$L",f).replace("$N",w),thumbnailWidth:parseInt(D,10),thumbnailHeight:parseInt(t,
10),thumbnailCount:z,interval:parseInt(p,10),columns:n,rows:B,storyboardCount:m}})};E.getChapters=l=>{l=(l=(l=l.response&&l.response.playerOverlays&&l.response.playerOverlays.playerOverlayRenderer)&&l.decoratedPlayerBarRenderer&&l.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&l.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar)&&l.multiMarkersPlayerBarRenderer&&l.multiMarkersPlayerBarRenderer.markersMap;return(l=Array.isArray(l)&&l.find(g=>g.value&&Array.isArray(g.value.chapters)))?
l.value.chapters.map(g=>({title:e(g.chapterRenderer.title),start_time:g.chapterRenderer.timeRangeStartMillis/1E3})):[]}},{"./utils":85,m3u8stream:22,querystring:31}],82:[function(x,J,E){const C=x("querystring"),q=x("sax"),h=x("miniget"),A=x("./utils"),{setTimeout:e}=x("timers"),u=x("./format-utils"),v=x("./url-utils"),l=x("./info-extras"),g=x("./sig");x=x("./cache");E.cache=new x;E.cookieCache=new x(864E5);E.watchPageCache=new x;let m="2.20210622.10.00";class f extends Error{}const D=["support.google.com/youtube/?p=age_restrictions",
"youtube.com/t/community_guidelines"];E.getBasicInfo=async(b,a)=>{a.IPv6Block&&(a.requestOptions=Object.assign({},a.requestOptions,{family:6,localAddress:A.getRandomIPv6(a.IPv6Block)}));const d=Object.assign({},h.defaultOptions,a.requestOptions);a.requestOptions=Object.assign({},a.requestOptions,{});a.requestOptions.headers=Object.assign({},{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"},a.requestOptions.headers);
a=await w([b,a],k=>{var r=A.playError(k.player_response,["ERROR"],f);let K=t(k.player_response);if(r||K)throw r||K;if(r=k&&k.player_response)(r=k.player_response.streamingData)||(r=(r=k.player_response.playabilityStatus)&&"UNPLAYABLE"===r.status&&r.errorScreen&&r.errorScreen.playerLegacyDesktopYpcOfferRenderer),r||(r=(k=k.player_response.playabilityStatus)&&"LIVE_STREAM_OFFLINE"===k.status);return r},d,[S,T,O]);Object.assign(a,{formats:V(a.player_response),related_videos:l.getRelatedVideos(a)});const c=
l.getMedia(a);b={author:l.getAuthor(a),media:c,likes:l.getLikes(a),dislikes:l.getDislikes(a),age_restricted:!(!c||!D.some(k=>Object.values(c).some(r=>"string"===typeof r&&r.includes(k)))),video_url:"https://www.youtube.com/watch?v="+b,storyboards:l.getStoryboards(a),chapters:l.getChapters(a)};a.videoDetails=l.cleanVideoDetails(Object.assign({},a.player_response&&a.player_response.microformat&&a.player_response.microformat.playerMicroformatRenderer,a.player_response&&a.player_response.videoDetails,
b),a);return a};const t=b=>(b=b&&b.playabilityStatus)&&"LOGIN_REQUIRED"===b.status&&b.messages&&b.messages.filter(a=>/This is a private video/.test(a)).length?new f(b.reason||b.messages&&b.messages[0]):null,z=(b,a)=>`${"https://www.youtube.com/watch?v="+b}&hl=${a.lang||"en"}`,n=(b,a)=>{const d=z(b,a);return E.watchPageCache.getOrSet(d,()=>A.exposedMiniget(d,a).text())},B=b=>(b=/<script\s+src="([^"]+)"(?:\s+type="text\/javascript")?\s+name="player_ias\/base"\s*>|"jsUrl":"([^"]+)"/.exec(b))?b[1]||b[2]:
null,p=(b,a,d,c)=>E.cookieCache.getOrSet(d,async()=>{let k=(await n(b,a)).match(/(["'])ID_TOKEN\1[:,]\s?"([^"]+)"/);if(!k&&c)throw new f("Cookie header used in request, but unable to find YouTube identity token");return k&&k[2]}),w=async(b,a,d,c)=>{let k;for(let r of c)try{const K=await H(r,b.concat([k]),d);K.player_response&&(K.player_response.videoDetails=G(k&&k.player_response&&k.player_response.videoDetails,K.player_response.videoDetails),K.player_response=G(k&&k.player_response,K.player_response));
k=G(k,K);if(a(k,!1))break}catch(K){if(K instanceof f||r===c[c.length-1])throw K;}return k},G=(b,a)=>{if(!b||!a)return b||a;for(let [d,c]of Object.entries(a))null!==c&&void 0!==c&&(b[d]=c);return b},H=async(b,a,d)=>{let c=0,k;for(;c<=d.maxRetries;)try{k=await b(...a);break}catch(r){if(r instanceof f||r instanceof h.MinigetError&&500>r.statusCode||c>=d.maxRetries)throw r;let K=Math.min(++c*d.backoff.inc,d.backoff.max);await new Promise(R=>e(R,K))}return k},L=/^[)\]}'\s]+/,I=(b,a,d)=>{if(d&&"object"!==
typeof d)try{return d=d.replace(L,""),JSON.parse(d)}catch(c){throw Error(`Error parsing ${a} in ${b}: ${c.message}`);}else return d},N=(b,a,d,c,k,r)=>{d=A.between(d,c,k);if(!d)throw Error(`Could not find ${a} in ${b}`);return I(b,a,A.cutAfterJS(`${r}${d}`))},M=(b,a)=>I(b,"player_response",a&&(a.args&&a.args.player_response||a.player_response||a.playerResponse||a.embedded_player_response)),T=async(b,a)=>{const d=Object.assign({headers:{}},a.requestOptions);var c=d.headers.Cookie||d.headers.cookie;
d.headers=Object.assign({"x-youtube-client-name":"1","x-youtube-client-version":m,"x-youtube-identity-token":E.cookieCache.get(c||"browser")||""},d.headers);var k=async(r,K)=>{d.headers["x-youtube-identity-token"]||(d.headers["x-youtube-identity-token"]=await p(b,a,r,K))};c&&await k(c,!0);c=`${z(b,a)}&pbj=1`;c=await A.exposedMiniget(c,a,d).text();c=I("watch.json","body",c);"now"===c.reload&&await k("browser",!1);if("now"===c.reload||!Array.isArray(c))throw Error("Unable to retrieve video metadata in watch.json");
k=c.reduce((r,K)=>Object.assign(K,r),{});k.player_response=M("watch.json",k);k.html5player=k.player&&k.player.assets&&k.player.assets.js;return k},S=async(b,a)=>{b=await n(b,a);a={page:"watch"};try{m=A.between(b,'{"key":"cver","value":"','"}'),a.player_response=N("watch.html","player_response",b,/\bytInitialPlayerResponse\s*=\s*\{/i,"\x3c/script>","{")}catch(d){let c=N("watch.html","player_response",b,/\bytplayer\.config\s*=\s*{/,"\x3c/script>","{");a.player_response=M("watch.html",c)}a.response=
N("watch.html","response",b,/\bytInitialData("\])?\s*=\s*\{/i,"\x3c/script>","{");a.html5player=B(b);return a},O=async(b,a)=>{const d=new URL("https://www.youtube.com/get_video_info");d.searchParams.set("video_id",b);d.searchParams.set("c","TVHTML5");d.searchParams.set("cver",`7${m.substr(1)}`);d.searchParams.set("eurl","https://youtube.googleapis.com/v/"+b);d.searchParams.set("ps","default");d.searchParams.set("gl","US");d.searchParams.set("hl",a.lang||"en");d.searchParams.set("html5","1");b=await A.exposedMiniget(d.toString(),
a).text();b=C.parse(b);b.player_response=M("get_video_info",b);return b},V=b=>{let a=[];b&&b.streamingData&&(a=a.concat(b.streamingData.formats||[]).concat(b.streamingData.adaptiveFormats||[]));return a};E.getInfo=async(b,a)=>{let d=await E.getBasicInfo(b,a);const c=d.player_response&&d.player_response.streamingData&&(d.player_response.streamingData.dashManifestUrl||d.player_response.streamingData.hlsManifestUrl);let k=[];if(d.formats.length){var r;(r=d.html5player||B(await n(b,a)))||(b=A.exposedMiniget(`${"https://www.youtube.com/embed/"+
b}?hl=${a.lang||"en"}`,a).text(),r=B(await b));d.html5player=r;if(!d.html5player)throw Error("Unable to find html5player file");b=(new URL(d.html5player,"https://www.youtube.com/watch?v=")).toString();k.push(g.decipherFormats(d.formats,b,a))}c&&d.player_response.streamingData.dashManifestUrl&&k.push(W(d.player_response.streamingData.dashManifestUrl,a));c&&d.player_response.streamingData.hlsManifestUrl&&k.push(U(d.player_response.streamingData.hlsManifestUrl,a));a=await Promise.all(k);d.formats=Object.values(Object.assign({},
...a));d.formats=d.formats.map(u.addFormatMeta);d.formats.sort(u.sortFormats);d.full=!0;return d};const W=(b,a)=>new Promise((d,c)=>{let k={};const r=q.parser(!1);r.onerror=c;let K;r.onopentag=P=>{if("ADAPTATIONSET"===P.name)K=P.attributes;else if("REPRESENTATION"===P.name){const F=parseInt(P.attributes.ID);isNaN(F)||(k[b]=Object.assign({itag:F,url:b,bitrate:parseInt(P.attributes.BANDWIDTH),mimeType:`${K.MIMETYPE}; codecs="${P.attributes.CODECS}"`},P.attributes.HEIGHT?{width:parseInt(P.attributes.WIDTH),
height:parseInt(P.attributes.HEIGHT),fps:parseInt(P.attributes.FRAMERATE)}:{audioSampleRate:P.attributes.AUDIOSAMPLINGRATE}))}};r.onend=()=>{d(k)};const R=A.exposedMiniget((new URL(b,"https://www.youtube.com/watch?v=")).toString(),a);R.setEncoding("utf8");R.on("error",c);R.on("data",P=>{r.write(P)});R.on("end",r.close.bind(r))}),U=async(b,a)=>{b=new URL(b,"https://www.youtube.com/watch?v=");let d={};(await A.exposedMiniget(b.toString(),a).text()).split("\n").filter(c=>/^https?:\/\//.test(c)).forEach(c=>
{const k=parseInt(c.match(/\/itag\/(\d+)\//)[1]);d[c]={itag:k,url:c}});return d};for(let b of["getBasicInfo","getInfo"]){const a=E[b];E[b]=async(d,c={})=>{A.checkForUpdates();let k=await v.getVideoID(d);d=[b,k,c.lang].join("-");return E.cache.getOrSet(d,()=>a(k,c))}}E.validateID=v.validateID;E.validateURL=v.validateURL;E.getURLVideoID=v.getURLVideoID;E.getVideoID=v.getVideoID},{"./cache":77,"./format-utils":78,"./info-extras":81,"./sig":83,"./url-utils":84,"./utils":85,miniget:26,querystring:31,sax:35,
timers:71}],83:[function(x,J,E){const C=x("querystring");J=x("./cache");const q=x("./utils"),h=x("vm");E.cache=new J;E.getFunctions=(A,e)=>E.cache.getOrSet(A,async()=>{var u=await q.exposedMiniget(A,e).text();u=E.extractFunctions(u);if(!u||!u.length)throw Error("Could not extract functions");E.cache.set(A,u);return u});E.extractFunctions=A=>{const e=[];(()=>{const u=q.between(A,'a.set("alr","yes");c&&(c=',"(decodeURIC");if(u&&u.length){var v=`${u}=function(a)`,l=A.indexOf(v);if(0<=l){l=A.slice(l+
v.length);v=`var ${v}${q.cutAfterJS(l)}`;if(l=q.between(v,'a=a.split("");',".")){var g=`var ${l}={`,m=A.indexOf(g);0>m?l="":(g=A.slice(m+g.length-1),l=`var ${l}=${q.cutAfterJS(g)}`)}else l="";e.push(`${l};${v};${u}(sig);`)}}})();(()=>{var u=q.between(A,'&&(b=a.get("n"))&&(b=',"(b)");u.includes("[")&&(u=q.between(A,`var ${u.split("[")[0]}=[`,"]"));if(u&&u.length){const l=`${u}=function(a)`;var v=A.indexOf(l);0<=v&&(v=A.slice(v+l.length),u=`var ${l}${q.cutAfterJS(v)};${u}(ncode);`,e.push(u))}})();return e};
E.setDownloadURL=(A,e,u)=>{const v=m=>{m=C.parse(m);if(!m.s||!e)return m.url;const f=new URL(decodeURIComponent(m.url));f.searchParams.set(m.sp?m.sp:"signature",e.runInNewContext({sig:decodeURIComponent(m.s)}));return f.toString()},l=m=>{const f=new URL(decodeURIComponent(m)),D=f.searchParams.get("n");if(!D||!u)return m;f.searchParams.set("n",u.runInNewContext({ncode:D}));return f.toString()},g=A.url||A.signatureCipher||A.cipher;A.url=A.url?l(g):l(v(g));delete A.signatureCipher;delete A.cipher};E.decipherFormats=
async(A,e,u)=>{let v={};e=await E.getFunctions(e,u);const l=e.length?new h.Script(e[0]):null,g=1<e.length?new h.Script(e[1]):null;A.forEach(m=>{E.setDownloadURL(m,l,g);v[m.url]=m});return v}},{"./cache":77,"./utils":85,querystring:31,vm:75}],84:[function(x,J,E){const C=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),q=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/;E.getURLVideoID=e=>{const u=new URL(e.trim());var v=u.searchParams.get("v");
if(q.test(e.trim())&&!v)v=u.pathname.split("/"),v="youtu.be"===u.host?v[1]:v[2];else if(u.hostname&&!C.has(u.hostname))throw Error("Not a YouTube domain");if(!v)throw Error(`No video id found: "${e}"`);v=v.substring(0,11);if(!E.validateID(v))throw TypeError(`Video id (${v}) does not match expected `+`format (${A.toString()})`);return v};const h=/^https?:\/\//;E.getVideoID=e=>{if(E.validateID(e))return e;if(h.test(e.trim()))return E.getURLVideoID(e);throw Error(`No video id found: ${e}`);};const A=
/^[a-zA-Z0-9-_]{11}$/;E.validateID=e=>A.test(e.trim());E.validateURL=e=>{try{return E.getURLVideoID(e),!0}catch(u){return!1}}},{}],85:[function(x,J,E){(function(C){(function(){const q=x("miniget");E.between=(l,g,m)=>{let f;if(g instanceof RegExp){g=l.match(g);if(!g)return"";f=g.index+g[0].length}else{f=l.indexOf(g);if(-1===f)return"";f+=g.length}l=l.slice(f);f=l.indexOf(m);return-1===f?"":l=l.slice(0,f)};E.parseAbbreviatedNumber=l=>{if(l=l.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/)){let [,
g,m]=l;g=parseFloat(g);return Math.round("M"===m?1E6*g:"K"===m?1E3*g:g)}return null};const h=[{start:'"',end:'"'},{start:"'",end:"'"},{start:"`",end:"`"},{start:"/",end:"/",startPrefix:/(^|[[{:;,/])\s?$/}];E.cutAfterJS=l=>{let g,m;"["===l[0]?(g="[",m="]"):"{"===l[0]&&(g="{",m="}");if(!g)throw Error(`Can't cut unsupported JSON (need to begin with [ or { ) but got: ${l[0]}`);let f=null,D=!1,t=0,z;for(z=0;z<l.length;z++)if(D||null===f||l[z]!==f.end){if(!D&&null===f){for(const n of h)if(l[z]===n.start&&
(!n.startPrefix||l.substring(z-10,z).match(n.startPrefix))){f=n;break}if(null!==f)continue}D="\\"===l[z]&&!D;if(null===f&&(l[z]===g?t++:l[z]===m&&t--,0===t))return l.substring(0,z+1)}else f=null;throw Error("Can't cut unsupported JSON (no matching closing bracket found)");};E.playError=(l,g,m=Error)=>(l=l&&l.playabilityStatus)&&g.includes(l.status)?new m(l.reason||l.messages&&l.messages[0]):null;E.exposedMiniget=(l,g={},m)=>{l=q(l,m||g.requestOptions);"function"===typeof g.requestCallback&&g.requestCallback(l);
return l};E.deprecate=(l,g,m,f,D)=>{Object.defineProperty(l,g,{get:()=>{console.warn(`\`${f}\` will be removed in a near future release, `+`use \`${D}\` instead.`);return m}})};const A=x("../package.json");E.lastUpdateCheck=0;E.checkForUpdates=()=>!C.env.YTDL_NO_UPDATE&&!A.version.startsWith("0.0.0-")&&432E5<=Date.now()-E.lastUpdateCheck?(E.lastUpdateCheck=Date.now(),q("https://api.github.com/repos/fent/node-ytdl-core/releases/latest",{headers:{"User-Agent":"ytdl-core"}}).text().then(l=>{JSON.parse(l).tag_name!==
`v${A.version}`&&console.warn('\u001b[33mWARNING:\u001b[0m ytdl-core is out of date! Update with "npm install ytdl-core@latest".')},l=>{console.warn("Error checking for updates:",l.message);console.warn("You can disable this check by setting the `YTDL_NO_UPDATE` env variable.")})):null;E.getRandomIPv6=l=>{if(!u(l))throw Error("Invalid IPv6 format");const [g,m]=l.split("/");let f=parseInt(m);if(!f||128<f||24>f)throw Error("Invalid IPv6 subnet");const D=v(g);return Array(8).fill(1).map(()=>Math.floor(65535*
Math.random())).map((t,z)=>{var n=Math.min(f,16);f-=n;n=65535-(2**(16-n)-1);return(D[z]&n)+(t&(n^65535))}).map(t=>t.toString("16")).join(":")};const e=/^(([0-9a-f]{1,4}:)(:[0-9a-f]{1,4}){1,6}|([0-9a-f]{1,4}:){1,2}(:[0-9a-f]{1,4}){1,5}|([0-9a-f]{1,4}:){1,3}(:[0-9a-f]{1,4}){1,4}|([0-9a-f]{1,4}:){1,4}(:[0-9a-f]{1,4}){1,3}|([0-9a-f]{1,4}:){1,5}(:[0-9a-f]{1,4}){1,2}|([0-9a-f]{1,4}:){1,6}(:[0-9a-f]{1,4})|([0-9a-f]{1,4}:){1,7}(([0-9a-f]{1,4})|:))\/(1[0-1]\d|12[0-8]|\d{1,2})$/,u=E.isIPv6=l=>e.test(l),v=E.normalizeIP=
l=>{var g=l.split("::").map(f=>f.split(":"));l=g[0]||[];g=g[1]||[];g.reverse();const m=Array(8).fill(0);for(let f=0;f<Math.min(l.length,8);f++)m[f]=parseInt(l[f],16)||0;for(l=0;l<Math.min(g.length,8);l++)m[7-l]=parseInt(g[l],16)||0;return m}}).call(this)}).call(this,x("_process"))},{"../package.json":86,_process:27,miniget:26}],86:[function(x,J,E){J.exports={name:"ytdl-core",description:"YouTube video downloader in pure javascript.",keywords:["youtube","video","download"],version:"4.11.5",repository:{type:"git",
url:"git://github.com/fent/node-ytdl-core.git"},author:"fent <fentbox@gmail.com> (https://github.com/fent)",contributors:"Tobias Kutscha (https://github.com/TimeForANinja);Andrew Kelley (https://github.com/andrewrk);Mauricio Allende (https://github.com/mallendeo);Rodrigo Altamirano (https://github.com/raltamirano);Jim Buck (https://github.com/JimmyBoh);Pawe\u0142 Ruci\u0144ski (https://github.com/Roki100);Alexander Paolini (https://github.com/Million900o)".split(";"),main:"./lib/index.js",types:"./typings/index.d.ts",
files:["lib","typings"],scripts:{test:"nyc --reporter=lcov --reporter=text-summary npm run test:unit","test:unit":"mocha --ignore test/irl-test.js test/*-test.js --timeout 4000","test:irl":"mocha --timeout 16000 test/irl-test.js",lint:"eslint ./","lint:fix":"eslint --fix ./","lint:typings":"tslint typings/index.d.ts","lint:typings:fix":"tslint --fix typings/index.d.ts"},dependencies:{m3u8stream:"^0.8.6",miniget:"^4.2.2",sax:"^1.1.3"},devDependencies:{"@types/node":"^13.1.0","assert-diff":"^3.0.1",
dtslint:"^3.6.14",eslint:"^6.8.0",mocha:"^7.0.0","muk-require":"^1.2.0",nock:"^13.0.4",nyc:"^15.0.0",sinon:"^9.0.0","stream-equal":"~1.1.0",typescript:"^3.9.7"},engines:{node:">=12"},license:"MIT"}},{}]},{},[1])(1)});
