/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource>  https://mths.be/punycode v1.4.1 by @mathias  safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */
(function(x){"object"===typeof exports&&"undefined"!==typeof module?module.exports=x():"function"===typeof define&&define.amd?define([],x):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).script=x()})(function(){return function(){function x(J,E,C){function r(e,v){if(!E[e]){if(!J[e]){var m="function"==typeof require&&require;if(!v&&m)return m(e,!0);if(f)return f(e,!0);v=Error("Cannot find module '"+e+"'");throw v.code="MODULE_NOT_FOUND",v;
}v=E[e]={exports:{}};J[e][0].call(v.exports,function(n){return r(J[e][1][n]||n)},v,v.exports,x,J,E,C)}return E[e].exports}for(var f="function"==typeof require&&require,A=0;A<C.length;A++)r(C[A]);return r}return x}()({1:[function(x,J,E){const C=x("ytdl-core"),{createFFmpeg:r,fetchFile:f}=x("@ffmpeg/ffmpeg"),A=r({log:!0});(async()=>{await A.load()})();const e=()=>{console.log("[info] unlinking old data");try{A.FS("unlink","output.mp3")}catch{}try{A.FS("unlink","output.mp4")}catch{}},v=g=>"https://proxy.darenliang.com/?url="+
encodeURIComponent(g),m={requestOptions:{maxRetries:5,backoff:{inc:2E3,max:2E3},transform:g=>{const D=g.protocol+"//"+g.hostname+g.path;g.host="proxy.darenliang.com";g.hostname="proxy.darenliang.com";g.path="/?url="+encodeURIComponent(D);g.protocol="https:";return g}}},n=async g=>{console.log("[info] getting info");return await C.getInfo(g,m)},k=async g=>{e();console.log("[info] fetching data");const D=await f(v(g.url));console.log("[info] writing data");g=`audio.${g.container}`;A.FS("writeFile",
g,D);console.log("[info] encoding as mp3");await A.run("-i",g,"output.mp3");console.log("[info] unlink temporary file");A.FS("unlink",g);console.log("[info] sending final data");return A.FS("readFile","output.mp3").buffer},l=async(g,D=null)=>{e();console.log("[info] fetching data");let t,B,p;D?([t,B]=await Promise.all([f(v(g.url)),f(v(D.url))]),p=`audio.${D.container}`,A.FS("writeFile",p,B)):t=await f(v(g.url));console.log("[info] writing data");g=`video.${g.container}`;A.FS("writeFile",g,t);console.log("[info] encoding as mp4");
D?(await A.run("-i",g,"-i",p,"-c:v","copy","-c:a","copy","-shortest","output.mp4"),A.FS("unlink",p)):await A.run("-i",g,"output.mp4");console.log("[info] unlink temporary files");A.FS("unlink",g);console.log("[info] sending final data");return A.FS("readFile","output.mp4").buffer};J.exports={getInfo:n,getAudioBuffer:k,getVideoBuffer:l,getFastVideoBuffer:async g=>{g=await n(g);console.log("[info] choosing formats");g=C.chooseFormat(g.formats,{quality:"highest",filter:D=>"mp4"===D.container});console.log("[info] fetching data");
g=await f(v(g.url));console.log("[info] sending data");return g.buffer},getBestVideoBuffer:async g=>{var D=await n(g);console.log("[info] choosing formats");g=C.chooseFormat(D.formats,{quality:"highestvideo"});D=C.chooseFormat(D.formats,{quality:"highestaudio",filter:"audioonly"});return await l(g,D)},getBestAudioBuffer:async g=>{g=await n(g);console.log("[info] choosing format");g=C.chooseFormat(g.formats,{quality:"highestaudio",filter:"audioonly"});return await k(g)}}},{"@ffmpeg/ffmpeg":9,"ytdl-core":80}],
2:[function(x,J,E){J.exports={name:"@ffmpeg/ffmpeg",version:"0.10.1",description:"FFmpeg WebAssembly version",main:"src/index.js",types:"src/index.d.ts",directories:{example:"examples"},scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all",
"test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},browser:{"./src/node/index.js":"./src/browser/index.js"},repository:{type:"git",
url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},keywords:["ffmpeg","WebAssembly","video"],author:"Jerome Wu <jeromewus@gmail.com>",license:"MIT",bugs:{url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},engines:{node:">=12.16.1"},homepage:"https://github.com/ffmpegwasm/ffmpeg.wasm#readme",dependencies:{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},devDependencies:{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0",
"@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}},{}],3:[function(x,J,E){E=x("_process");const C=x("resolve-url");({devDependencies:x}=x("../../package.json"));J.exports={corePath:"development"===
E.env.NODE_ENV?C("/node_modules/@ffmpeg/core/dist/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@${x["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}},{"../../package.json":2,_process:27,"resolve-url":33}],4:[function(x,J,E){const C=x("resolve-url"),r=f=>new Promise((A,e)=>{const v=new FileReader;v.onload=()=>{A(v.result)};v.onerror=({target:{error:{code:m}}})=>{e(Error(`File could not be read! Code=${m}`))};v.readAsArrayBuffer(f)});J.exports=async f=>{let A=f;if("undefined"===typeof f)return new Uint8Array;
if("string"===typeof f)A=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(f)?atob(f.split(",")[1]).split("").map(e=>e.charCodeAt(0)):await (await fetch(C(f))).arrayBuffer();else if(f instanceof File||f instanceof Blob)A=await r(f);return new Uint8Array(A)}},{"resolve-url":33}],5:[function(x,J,E){const C=x("resolve-url"),{log:r}=x("../utils/log"),f=async(A,e)=>{r("info",`fetch ${A}`);const v=await (await fetch(A)).arrayBuffer();r("info",`${A} file size = ${v.byteLength} bytes`);e=new Blob([v],{type:e});
e=URL.createObjectURL(e);r("info",`${A} blob URL = ${e}`);return e};J.exports=async({corePath:A})=>{if("string"!==typeof A)throw Error("corePath should be a string!");A=C(A);const e=await f(A,"application/javascript"),v=await f(A.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),m=await f(A.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");if("undefined"===typeof createFFmpegCore)return new Promise(n=>{const k=document.createElement("script"),l=()=>{k.removeEventListener("load",
l);r("info","ffmpeg-core.js script loaded");n({createFFmpegCore,corePath:e,wasmPath:v,workerPath:m})};k.src=e;k.type="text/javascript";k.addEventListener("load",l);document.getElementsByTagName("head")[0].appendChild(k)});r("info","ffmpeg-core.js script is loaded already");return Promise.resolve({createFFmpegCore,corePath:e,wasmPath:v,workerPath:m})}},{"../utils/log":10,"resolve-url":33}],6:[function(x,J,E){E=x("./defaultOptions");const C=x("./getCreateFFmpegCore");x=x("./fetchFile");J.exports={defaultOptions:E,
getCreateFFmpegCore:C,fetchFile:x}},{"./defaultOptions":3,"./fetchFile":4,"./getCreateFFmpegCore":5}],7:[function(x,J,E){J.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},{}],8:[function(x,J,E){const {defaultArgs:C,baseOptions:r}=x("./config"),{setLogging:f,setCustomLogger:A,log:e}=x("./utils/log"),v=x("./utils/parseProgress"),m=x("./utils/parseArgs"),{defaultOptions:n,getCreateFFmpegCore:k}=x("./node"),{version:l}=x("../package.json"),
g=Error("ffmpeg.wasm is not ready, make sure you have completed load().");J.exports=(D={})=>{const {log:t,logger:B,progress:p,...z}={...r,...n,...D};let q=null,w=null,G=null,H=!1,L=p;const I=({type:N,message:M})=>{e(N,M);v(M,L);"FFMPEG_END"===M&&null!==G&&(G(),G=null,H=!1)};f(t);A(B);e("info",`use ffmpeg.wasm v${l}`);return{setProgress:N=>{L=N},setLogger:N=>{A(N)},setLogging:f,load:async()=>{e("info","load ffmpeg-core");if(null===q){e("info","loading ffmpeg-core");const {createFFmpegCore:N,corePath:M,
workerPath:T,wasmPath:S}=await k(z);q=await N({mainScriptUrlOrBlob:M,printErr:O=>I({type:"fferr",message:O}),print:O=>I({type:"ffout",message:O}),locateFile:(O,V)=>{if("undefined"!==typeof window){if("undefined"!==typeof S&&O.endsWith("ffmpeg-core.wasm"))return S;if("undefined"!==typeof T&&O.endsWith("ffmpeg-core.worker.js"))return T}return V+O}});w=q.cwrap("proxy_main","number",["number","number"]);e("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");
},isLoaded:()=>null!==q,run:(...N)=>{e("info",`run ffmpeg command: ${N.join(" ")}`);if(null===q)throw g;if(H)throw Error("ffmpeg.wasm can only run one command at a time");H=!0;return new Promise(M=>{const T=[...C,...N].filter(S=>0!==S.length);G=M;w(...m(q,T))})},exit:()=>{if(null===q)throw g;H=!1;q.exit(1);G=w=q=null},FS:(N,...M)=>{e("info",`run FS.${N} ${M.map(S=>"string"===typeof S?S:`<${S.length} bytes binary file>`).join(" ")}`);if(null===q)throw g;let T=null;try{T=q.FS[N](...M)}catch(S){if("readdir"===
N)throw Error(`ffmpeg.FS('readdir', '${M[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`);if("readFile"===N)throw Error(`ffmpeg.FS('readFile', '${M[0]}') error. Check if the path exists`);throw Error("Oops, something went wrong in FS operation.");}return T}}}},{"../package.json":2,"./config":7,"./node":6,"./utils/log":10,"./utils/parseArgs":11,"./utils/parseProgress":12}],9:[function(x,J,E){x("regenerator-runtime/runtime");E=x("./createFFmpeg");({fetchFile:x}=x("./node"));J.exports=
{createFFmpeg:E,fetchFile:x}},{"./createFFmpeg":8,"./node":6,"regenerator-runtime/runtime":32}],10:[function(x,J,E){let C=!1,r=()=>{};J.exports={logging:C,setLogging:f=>{C=f},setCustomLogger:f=>{r=f},log:(f,A)=>{r({type:f,message:A});C&&console.log(`[${f}] ${A}`)}}},{}],11:[function(x,J,E){J.exports=(C,r)=>{const f=C._malloc(r.length*Uint32Array.BYTES_PER_ELEMENT);r.forEach((A,e)=>{const v=C._malloc(A.length+1);C.writeAsciiToMemory(A,v);C.setValue(f+Uint32Array.BYTES_PER_ELEMENT*e,v,"i32")});return[r.length,
f]}},{}],12:[function(x,J,E){let C=0,r=0;const f=A=>{const [e,v,m]=A.split(":");return 3600*parseFloat(e)+60*parseFloat(v)+parseFloat(m)};J.exports=(A,e)=>{if("string"===typeof A)if(A.startsWith("  Duration")){if(A=A.split(", ")[0].split(": ")[1],A=f(A),e({duration:A,ratio:r}),0===C||C>A)C=A}else A.startsWith("frame")||A.startsWith("size")?(A=A.split("time=")[1].split(" ")[0],A=f(A),r=A/C,e({ratio:r,time:A})):A.startsWith("video:")&&(e({ratio:1}),C=0)}},{}],13:[function(x,J,E){function C(e){var v=
e.length;if(0<v%4)throw Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");-1===e&&(e=v);return[e,e===v?0:4-e%4]}E.byteLength=function(e){e=C(e);var v=e[1];return 3*(e[0]+v)/4-v};E.toByteArray=function(e){var v=C(e);var m=v[0];v=v[1];var n=new A(3*(m+v)/4-v),k=0,l=0<v?m-4:m,g;for(g=0;g<l;g+=4)m=f[e.charCodeAt(g)]<<18|f[e.charCodeAt(g+1)]<<12|f[e.charCodeAt(g+2)]<<6|f[e.charCodeAt(g+3)],n[k++]=m>>16&255,n[k++]=m>>8&255,n[k++]=m&255;2===v&&(m=f[e.charCodeAt(g)]<<2|f[e.charCodeAt(g+
1)]>>4,n[k++]=m&255);1===v&&(m=f[e.charCodeAt(g)]<<10|f[e.charCodeAt(g+1)]<<4|f[e.charCodeAt(g+2)]>>2,n[k++]=m>>8&255,n[k++]=m&255);return n};E.fromByteArray=function(e){for(var v=e.length,m=v%3,n=[],k=0,l=v-m;k<l;k+=16383){for(var g=n,D=g.push,t,B=e,p=k+16383>l?l:k+16383,z=[],q=k;q<p;q+=3)t=(B[q]<<16&16711680)+(B[q+1]<<8&65280)+(B[q+2]&255),z.push(r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[t&63]);t=z.join("");D.call(g,t)}1===m?(e=e[v-1],n.push(r[e>>2]+r[e<<4&63]+"==")):2===m&&(e=(e[v-2]<<8)+e[v-1],n.push(r[e>>
10]+r[e>>4&63]+r[e<<2&63]+"="));return n.join("")};var r=[],f=[],A="undefined"!==typeof Uint8Array?Uint8Array:Array;for(x=0;64>x;++x)r[x]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[x],f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(x)]=x;f[45]=62;f[95]=63},{}],14:[function(x,J,E){},{}],15:[function(x,J,E){(function(C){(function(){function r(b){if(b>V)throw new RangeError('The value "'+b+'" is invalid for option "size"');b=new Uint8Array(b);b.__proto__=
f.prototype;return b}function f(b,a,d){if("number"===typeof b){if("string"===typeof a)throw new TypeError('The "string" argument must be of type string. Received type number');return v(b)}return A(b,a,d)}function A(b,a,d){if("string"===typeof b){var c=a;if("string"!==typeof c||""===c)c="utf8";if(!f.isEncoding(c))throw new TypeError("Unknown encoding: "+c);a=l(b,c)|0;d=r(a);b=d.write(b,c);b!==a&&(d=d.slice(0,b));return d}if(ArrayBuffer.isView(b))return m(b);if(null==b)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof b);if(T(b,ArrayBuffer)||b&&T(b.buffer,ArrayBuffer)){if(0>a||b.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<a+(d||0))throw new RangeError('"length" is outside of buffer bounds');b=void 0===a&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,a):new Uint8Array(b,a,d);b.__proto__=f.prototype;return b}if("number"===typeof b)throw new TypeError('The "value" argument must not be of type number. Received type number');c=b.valueOf&&b.valueOf();if(null!=
c&&c!==b)return f.from(c,a,d);if(c=n(b))return c;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof b[Symbol.toPrimitive])return f.from(b[Symbol.toPrimitive]("string"),a,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);}function e(b){if("number"!==typeof b)throw new TypeError('"size" argument must be of type number');if(0>b)throw new RangeError('The value "'+b+'" is invalid for option "size"');
}function v(b){e(b);return r(0>b?0:k(b)|0)}function m(b){for(var a=0>b.length?0:k(b.length)|0,d=r(a),c=0;c<a;c+=1)d[c]=b[c]&255;return d}function n(b){if(f.isBuffer(b)){var a=k(b.length)|0,d=r(a);if(0===d.length)return d;b.copy(d,0,0,a);return d}if(void 0!==b.length)return(a="number"!==typeof b.length)||(a=b.length,a=a!==a),a?r(0):m(b);if("Buffer"===b.type&&Array.isArray(b.data))return m(b.data)}function k(b){if(b>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+
" bytes");return b|0}function l(b,a){if(f.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||T(b,ArrayBuffer))return b.byteLength;if("string"!==typeof b)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var d=b.length,c=2<arguments.length&&!0===arguments[2];if(!c&&0===d)return 0;for(var h=!1;;)switch(a){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":return L(b).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
d;case "hex":return d>>>1;case "base64":return N(b).length;default:if(h)return c?-1:L(b).length;a=(""+a).toLowerCase();h=!0}}function g(b,a,d){var c=!1;if(void 0===a||0>a)a=0;if(a>this.length)return"";if(void 0===d||d>this.length)d=this.length;if(0>=d)return"";d>>>=0;a>>>=0;if(d<=a)return"";for(b||="utf8";;)switch(b){case "hex":b=a;a=d;d=this.length;if(!b||0>b)b=0;if(!a||0>a||a>d)a=d;c="";for(d=b;d<a;++d)b=c,c=this[d],c=16>c?"0"+c.toString(16):c.toString(16),c=b+c;return c;case "utf8":case "utf-8":return p(this,
a,d);case "ascii":b="";for(d=Math.min(this.length,d);a<d;++a)b+=String.fromCharCode(this[a]&127);return b;case "latin1":case "binary":b="";for(d=Math.min(this.length,d);a<d;++a)b+=String.fromCharCode(this[a]);return b;case "base64":return a=0===a&&d===this.length?S.fromByteArray(this):S.fromByteArray(this.slice(a,d)),a;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=this.slice(a,d);d="";for(b=0;b<a.length;b+=2)d+=String.fromCharCode(a[b]+256*a[b+1]);return d;default:if(c)throw new TypeError("Unknown encoding: "+
b);b=(b+"").toLowerCase();c=!0}}function D(b,a,d){var c=b[a];b[a]=b[d];b[d]=c}function t(b,a,d,c,h){if(0===b.length)return-1;"string"===typeof d?(c=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);d=+d;d!==d&&(d=h?0:b.length-1);0>d&&(d=b.length+d);if(d>=b.length){if(h)return-1;d=b.length-1}else if(0>d)if(h)d=0;else return-1;"string"===typeof a&&(a=f.from(a,c));if(f.isBuffer(a))return 0===a.length?-1:B(b,a,d,c,h);if("number"===typeof a)return a&=255,"function"===typeof Uint8Array.prototype.indexOf?
h?Uint8Array.prototype.indexOf.call(b,a,d):Uint8Array.prototype.lastIndexOf.call(b,a,d):B(b,[a],d,c,h);throw new TypeError("val must be string, number or Buffer");}function B(b,a,d,c,h){function u(F,y){return 1===K?F[y]:F.readUInt16BE(y*K)}var K=1,R=b.length,P=a.length;if(void 0!==c&&(c=String(c).toLowerCase(),"ucs2"===c||"ucs-2"===c||"utf16le"===c||"utf-16le"===c)){if(2>b.length||2>a.length)return-1;K=2;R/=2;P/=2;d/=2}if(h)for(c=-1;d<R;d++)if(u(b,d)===u(a,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===
P)return c*K}else-1!==c&&(d-=d-c),c=-1;else for(d+P>R&&(d=R-P);0<=d;d--){R=!0;for(c=0;c<P;c++)if(u(b,d+c)!==u(a,c)){R=!1;break}if(R)return d}return-1}function p(b,a,d){d=Math.min(b.length,d);for(var c=[];a<d;){var h=b[a],u=null,K=239<h?4:223<h?3:191<h?2:1;if(a+K<=d)switch(K){case 1:128>h&&(u=h);break;case 2:var R=b[a+1];128===(R&192)&&(h=(h&31)<<6|R&63,127<h&&(u=h));break;case 3:R=b[a+1];var P=b[a+2];128===(R&192)&&128===(P&192)&&(h=(h&15)<<12|(R&63)<<6|P&63,2047<h&&(55296>h||57343<h)&&(u=h));break;
case 4:R=b[a+1];P=b[a+2];var F=b[a+3];128===(R&192)&&128===(P&192)&&128===(F&192)&&(h=(h&15)<<18|(R&63)<<12|(P&63)<<6|F&63,65535<h&&1114112>h&&(u=h))}null===u?(u=65533,K=1):65535<u&&(u-=65536,c.push(u>>>10&1023|55296),u=56320|u&1023);c.push(u);a+=K}b=c.length;if(b<=W)c=String.fromCharCode.apply(String,c);else{d="";for(a=0;a<b;)d+=String.fromCharCode.apply(String,c.slice(a,a+=W));c=d}return c}function z(b,a,d){if(0!==b%1||0>b)throw new RangeError("offset is not uint");if(b+a>d)throw new RangeError("Trying to access beyond buffer length");
}function q(b,a,d,c,h,u){if(!f.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>h||a<u)throw new RangeError('"value" argument is out of bounds');if(d+c>b.length)throw new RangeError("Index out of range");}function w(b,a,d,c,h,u){if(d+c>b.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function G(b,a,d,c,h){a=+a;d>>>=0;h||w(b,a,d,4,3.4028234663852886E38,-3.4028234663852886E38);O.write(b,a,d,c,23,4);return d+4}function H(b,
a,d,c,h){a=+a;d>>>=0;h||w(b,a,d,8,1.7976931348623157E308,-1.7976931348623157E308);O.write(b,a,d,c,52,8);return d+8}function L(b,a){a=a||Infinity;for(var d,c=b.length,h=null,u=[],K=0;K<c;++K){d=b.charCodeAt(K);if(55295<d&&57344>d){if(!h){if(56319<d){-1<(a-=3)&&u.push(239,191,189);continue}else if(K+1===c){-1<(a-=3)&&u.push(239,191,189);continue}h=d;continue}if(56320>d){-1<(a-=3)&&u.push(239,191,189);h=d;continue}d=(h-55296<<10|d-56320)+65536}else h&&-1<(a-=3)&&u.push(239,191,189);h=null;if(128>d){if(0>
--a)break;u.push(d)}else if(2048>d){if(0>(a-=2))break;u.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(a-=3))break;u.push(d>>12|224,d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(a-=4))break;u.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");}return u}function I(b){for(var a=[],d=0;d<b.length;++d)a.push(b.charCodeAt(d)&255);return a}function N(b){var a=S,d=a.toByteArray;b=b.split("=")[0];b=b.trim().replace(U,"");if(2>b.length)b="";else for(;0!==b.length%4;)b+=
"=";return d.call(a,b)}function M(b,a,d,c){for(var h=0;h<c&&!(h+d>=a.length||h>=b.length);++h)a[h+d]=b[h];return h}function T(b,a){return b instanceof a||null!=b&&null!=b.constructor&&null!=b.constructor.name&&b.constructor.name===a.name}var S=x("base64-js"),O=x("ieee754");E.Buffer=f;E.SlowBuffer=function(b){+b!=b&&(b=0);return f.alloc(+b)};E.INSPECT_MAX_BYTES=50;var V=2147483647;E.kMaxLength=V;f.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);b.__proto__={__proto__:Uint8Array.prototype,
foo:function(){return 42}};return 42===b.foo()}catch(a){return!1}}();f.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});
"undefined"!==typeof Symbol&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});f.poolSize=8192;f.from=function(b,a,d){return A(b,a,d)};f.prototype.__proto__=Uint8Array.prototype;f.__proto__=Uint8Array;f.alloc=function(b,a,d){e(b);b=0>=b?r(b):void 0!==a?"string"===typeof d?r(b).fill(a,d):r(b).fill(a):r(b);return b};f.allocUnsafe=function(b){return v(b)};f.allocUnsafeSlow=function(b){return v(b)};f.isBuffer=function(b){return null!=
b&&!0===b._isBuffer&&b!==f.prototype};f.compare=function(b,a){T(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength));T(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength));if(!f.isBuffer(b)||!f.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===a)return 0;for(var d=b.length,c=a.length,h=0,u=Math.min(d,c);h<u;++h)if(b[h]!==a[h]){d=b[h];c=a[h];break}return d<c?-1:c<d?1:0};f.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};f.concat=function(b,a){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(0===b.length)return f.alloc(0);var d;if(void 0===a)for(d=a=0;d<b.length;++d)a+=b[d].length;a=f.allocUnsafe(a);var c=0;for(d=0;d<b.length;++d){var h=b[d];T(h,Uint8Array)&&(h=f.from(h));if(!f.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(a,c);c+=h.length}return a};f.byteLength=l;f.prototype._isBuffer=!0;f.prototype.swap16=function(){var b=
this.length;if(0!==b%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<b;a+=2)D(this,a,a+1);return this};f.prototype.swap32=function(){var b=this.length;if(0!==b%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<b;a+=4)D(this,a,a+3),D(this,a+1,a+2);return this};f.prototype.swap64=function(){var b=this.length;if(0!==b%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<b;a+=8)D(this,a,a+7),D(this,a+1,a+6),
D(this,a+2,a+5),D(this,a+3,a+4);return this};f.prototype.toString=function(){var b=this.length;return 0===b?"":0===arguments.length?p(this,0,b):g.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===f.compare(this,b)};f.prototype.inspect=function(){var b=E.INSPECT_MAX_BYTES;var a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim();this.length>b&&(a+=" ... ");
return"<Buffer "+a+">"};f.prototype.compare=function(b,a,d,c,h){T(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength));if(!f.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);void 0===a&&(a=0);void 0===d&&(d=b?b.length:0);void 0===c&&(c=0);void 0===h&&(h=this.length);if(0>a||d>b.length||0>c||h>this.length)throw new RangeError("out of range index");if(c>=h&&a>=d)return 0;if(c>=h)return-1;if(a>=d)return 1;a>>>=0;d>>>=0;c>>>=0;h>>>=
0;if(this===b)return 0;var u=h-c,K=d-a,R=Math.min(u,K);c=this.slice(c,h);b=b.slice(a,d);for(a=0;a<R;++a)if(c[a]!==b[a]){u=c[a];K=b[a];break}return u<K?-1:K<u?1:0};f.prototype.includes=function(b,a,d){return-1!==this.indexOf(b,a,d)};f.prototype.indexOf=function(b,a,d){return t(this,b,a,d,!0)};f.prototype.lastIndexOf=function(b,a,d){return t(this,b,a,d,!1)};f.prototype.write=function(b,a,d,c){if(void 0===a)c="utf8",d=this.length,a=0;else if(void 0===d&&"string"===typeof a)c=a,d=this.length,a=0;else if(isFinite(a))a>>>=
0,isFinite(d)?(d>>>=0,void 0===c&&(c="utf8")):(c=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var h=this.length-a;if(void 0===d||d>h)d=h;if(0<b.length&&(0>d||0>a)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||="utf8";for(h=!1;;)switch(c){case "hex":a:{a=Number(a)||0;c=this.length-a;d?(d=Number(d),d>c&&(d=c)):d=c;c=b.length;d>c/2&&(d=c/2);for(c=0;c<d;++c){h=parseInt(b.substr(2*c,2),16);if(h!==h){b=c;break a}this[a+
c]=h}b=c}return b;case "utf8":case "utf-8":return M(L(b,this.length-a),this,a,d);case "ascii":return M(I(b),this,a,d);case "latin1":case "binary":return M(I(b),this,a,d);case "base64":return M(N(b),this,a,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=b;h=this.length-a;for(var u=[],K=0;K<c.length&&!(0>(h-=2));++K){var R=c.charCodeAt(K);b=R>>8;R%=256;u.push(R);u.push(b)}return M(u,this,a,d);default:if(h)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();h=!0}};f.prototype.toJSON=
function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;f.prototype.slice=function(b,a){var d=this.length;b=~~b;a=void 0===a?d:~~a;0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d);0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);a<b&&(a=b);b=this.subarray(b,a);b.__proto__=f.prototype;return b};f.prototype.readUIntLE=function(b,a,d){b>>>=0;a>>>=0;d||z(b,a,this.length);d=this[b];for(var c=1,h=0;++h<a&&(c*=256);)d+=this[b+h]*c;return d};f.prototype.readUIntBE=function(b,a,d){b>>>=0;a>>>=0;d||
z(b,a,this.length);d=this[b+--a];for(var c=1;0<a&&(c*=256);)d+=this[b+--a]*c;return d};f.prototype.readUInt8=function(b,a){b>>>=0;a||z(b,1,this.length);return this[b]};f.prototype.readUInt16LE=function(b,a){b>>>=0;a||z(b,2,this.length);return this[b]|this[b+1]<<8};f.prototype.readUInt16BE=function(b,a){b>>>=0;a||z(b,2,this.length);return this[b]<<8|this[b+1]};f.prototype.readUInt32LE=function(b,a){b>>>=0;a||z(b,4,this.length);return(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};f.prototype.readUInt32BE=
function(b,a){b>>>=0;a||z(b,4,this.length);return 16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};f.prototype.readIntLE=function(b,a,d){b>>>=0;a>>>=0;d||z(b,a,this.length);d=this[b];for(var c=1,h=0;++h<a&&(c*=256);)d+=this[b+h]*c;d>=128*c&&(d-=Math.pow(2,8*a));return d};f.prototype.readIntBE=function(b,a,d){b>>>=0;a>>>=0;d||z(b,a,this.length);d=a;for(var c=1,h=this[b+--d];0<d&&(c*=256);)h+=this[b+--d]*c;h>=128*c&&(h-=Math.pow(2,8*a));return h};f.prototype.readInt8=function(b,a){b>>>=0;a||
z(b,1,this.length);return this[b]&128?-1*(255-this[b]+1):this[b]};f.prototype.readInt16LE=function(b,a){b>>>=0;a||z(b,2,this.length);b=this[b]|this[b+1]<<8;return b&32768?b|4294901760:b};f.prototype.readInt16BE=function(b,a){b>>>=0;a||z(b,2,this.length);b=this[b+1]|this[b]<<8;return b&32768?b|4294901760:b};f.prototype.readInt32LE=function(b,a){b>>>=0;a||z(b,4,this.length);return this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};f.prototype.readInt32BE=function(b,a){b>>>=0;a||z(b,4,this.length);return this[b]<<
24|this[b+1]<<16|this[b+2]<<8|this[b+3]};f.prototype.readFloatLE=function(b,a){b>>>=0;a||z(b,4,this.length);return O.read(this,b,!0,23,4)};f.prototype.readFloatBE=function(b,a){b>>>=0;a||z(b,4,this.length);return O.read(this,b,!1,23,4)};f.prototype.readDoubleLE=function(b,a){b>>>=0;a||z(b,8,this.length);return O.read(this,b,!0,52,8)};f.prototype.readDoubleBE=function(b,a){b>>>=0;a||z(b,8,this.length);return O.read(this,b,!1,52,8)};f.prototype.writeUIntLE=function(b,a,d,c){b=+b;a>>>=0;d>>>=0;c||q(this,
b,a,d,Math.pow(2,8*d)-1,0);c=1;var h=0;for(this[a]=b&255;++h<d&&(c*=256);)this[a+h]=b/c&255;return a+d};f.prototype.writeUIntBE=function(b,a,d,c){b=+b;a>>>=0;d>>>=0;c||q(this,b,a,d,Math.pow(2,8*d)-1,0);c=d-1;var h=1;for(this[a+c]=b&255;0<=--c&&(h*=256);)this[a+c]=b/h&255;return a+d};f.prototype.writeUInt8=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,1,255,0);this[a]=b&255;return a+1};f.prototype.writeUInt16LE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,2,65535,0);this[a]=b&255;this[a+1]=b>>>8;return a+
2};f.prototype.writeUInt16BE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,2,65535,0);this[a]=b>>>8;this[a+1]=b&255;return a+2};f.prototype.writeUInt32LE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,4,4294967295,0);this[a+3]=b>>>24;this[a+2]=b>>>16;this[a+1]=b>>>8;this[a]=b&255;return a+4};f.prototype.writeUInt32BE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,4,4294967295,0);this[a]=b>>>24;this[a+1]=b>>>16;this[a+2]=b>>>8;this[a+3]=b&255;return a+4};f.prototype.writeIntLE=function(b,a,d,c){b=+b;a>>>=0;c||(c=
Math.pow(2,8*d-1),q(this,b,a,d,c-1,-c));c=0;var h=1,u=0;for(this[a]=b&255;++c<d&&(h*=256);)0>b&&0===u&&0!==this[a+c-1]&&(u=1),this[a+c]=(b/h>>0)-u&255;return a+d};f.prototype.writeIntBE=function(b,a,d,c){b=+b;a>>>=0;c||(c=Math.pow(2,8*d-1),q(this,b,a,d,c-1,-c));c=d-1;var h=1,u=0;for(this[a+c]=b&255;0<=--c&&(h*=256);)0>b&&0===u&&0!==this[a+c+1]&&(u=1),this[a+c]=(b/h>>0)-u&255;return a+d};f.prototype.writeInt8=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,1,127,-128);0>b&&(b=255+b+1);this[a]=b&255;return a+
1};f.prototype.writeInt16LE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,2,32767,-32768);this[a]=b&255;this[a+1]=b>>>8;return a+2};f.prototype.writeInt16BE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,2,32767,-32768);this[a]=b>>>8;this[a+1]=b&255;return a+2};f.prototype.writeInt32LE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,4,2147483647,-2147483648);this[a]=b&255;this[a+1]=b>>>8;this[a+2]=b>>>16;this[a+3]=b>>>24;return a+4};f.prototype.writeInt32BE=function(b,a,d){b=+b;a>>>=0;d||q(this,b,a,4,2147483647,
-2147483648);0>b&&(b=4294967295+b+1);this[a]=b>>>24;this[a+1]=b>>>16;this[a+2]=b>>>8;this[a+3]=b&255;return a+4};f.prototype.writeFloatLE=function(b,a,d){return G(this,b,a,!0,d)};f.prototype.writeFloatBE=function(b,a,d){return G(this,b,a,!1,d)};f.prototype.writeDoubleLE=function(b,a,d){return H(this,b,a,!0,d)};f.prototype.writeDoubleBE=function(b,a,d){return H(this,b,a,!1,d)};f.prototype.copy=function(b,a,d,c){if(!f.isBuffer(b))throw new TypeError("argument should be a Buffer");d||=0;c||0===c||(c=
this.length);a>=b.length&&(a=b.length);a||=0;0<c&&c<d&&(c=d);if(c===d||0===b.length||0===this.length)return 0;if(0>a)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length);b.length-a<c-d&&(c=b.length-a+d);var h=c-d;if(this===b&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(a,d,c);else if(this===b&&d<a&&a<c)for(c=h-1;0<=c;--c)b[c+a]=
this[c+d];else Uint8Array.prototype.set.call(b,this.subarray(d,c),a);return h};f.prototype.fill=function(b,a,d,c){if("string"===typeof b){"string"===typeof a?(c=a,a=0,d=this.length):"string"===typeof d&&(c=d,d=this.length);if(void 0!==c&&"string"!==typeof c)throw new TypeError("encoding must be a string");if("string"===typeof c&&!f.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(1===b.length){var h=b.charCodeAt(0);if("utf8"===c&&128>h||"latin1"===c)b=h}}else"number"===typeof b&&(b&=255);
if(0>a||this.length<a||this.length<d)throw new RangeError("Out of range index");if(d<=a)return this;a>>>=0;d=void 0===d?this.length:d>>>0;b||=0;if("number"===typeof b)for(c=a;c<d;++c)this[c]=b;else{h=f.isBuffer(b)?b:f.from(b,c);var u=h.length;if(0===u)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(c=0;c<d-a;++c)this[c+a]=h[c%u]}return this};var U=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,x("buffer").Buffer)},{"base64-js":13,buffer:15,ieee754:19}],16:[function(x,J,
E){J.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",
405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",
431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],17:[function(x,J,E){function C(){C.init.call(this)}function r(p){if("function"!==typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type '+
typeof p);}function f(p,z,q,w){r(q);var G=p._events;if(void 0===G)G=p._events=Object.create(null),p._eventsCount=0;else{void 0!==G.newListener&&(p.emit("newListener",z,q.listener?q.listener:q),G=p._events);var H=G[z]}void 0===H?(G[z]=q,++p._eventsCount):("function"===typeof H?H=G[z]=w?[q,H]:[H,q]:w?H.unshift(q):H.push(q),q=void 0===p._maxListeners?C.defaultMaxListeners:p._maxListeners,0<q&&H.length>q&&!H.warned&&(H.warned=!0,q=Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(z)+
" listeners added. Use emitter.setMaxListeners() to increase limit"),q.name="MaxListenersExceededWarning",q.emitter=p,q.type=z,q.count=H.length,console&&console.warn&&console.warn(q)));return p}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e(p,z,q){p={fired:!1,wrapFn:void 0,target:p,type:z,listener:q};z=A.bind(p);z.listener=q;return p.wrapFn=
z}function v(p,z,q){p=p._events;if(void 0===p)return[];z=p[z];if(void 0===z)return[];if("function"===typeof z)return q?[z.listener||z]:[z];if(q)for(q=Array(z.length),p=0;p<q.length;++p)q[p]=z[p].listener||z[p];else q=n(z,z.length);return q}function m(p){var z=this._events;if(void 0!==z){p=z[p];if("function"===typeof p)return 1;if(void 0!==p)return p.length}return 0}function n(p,z){for(var q=Array(z),w=0;w<z;++w)q[w]=p[w];return q}function k(p,z,q){"function"===typeof p.on&&l(p,"error",z,q)}function l(p,
z,q,w){if("function"===typeof p.on)if(w.once)p.once(z,q);else p.on(z,q);else if("function"===typeof p.addEventListener)p.addEventListener(z,function L(H){w.once&&p.removeEventListener(z,L);q(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);}var g=(x="object"===typeof Reflect?Reflect:null)&&"function"===typeof x.apply?x.apply:function(p,z,q){return Function.prototype.apply.call(p,z,q)};var D=x&&"function"===typeof x.ownKeys?x.ownKeys:Object.getOwnPropertySymbols?
function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var t=Number.isNaN||function(p){return p!==p};J.exports=C;J.exports.once=function(p,z){return new Promise(function(q,w){function G(L){p.removeListener(z,H);w(L)}function H(){"function"===typeof p.removeListener&&p.removeListener("error",G);q([].slice.call(arguments))}l(p,z,H,{once:!0});"error"!==z&&k(p,G,{once:!0})})};C.EventEmitter=C;C.prototype._events=void 0;
C.prototype._eventsCount=0;C.prototype._maxListeners=void 0;var B=10;Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(p){if("number"!==typeof p||0>p||t(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");B=p}});C.init=function(){if(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)this._events=Object.create(null),this._eventsCount=0;this._maxListeners=
this._maxListeners||void 0};C.prototype.setMaxListeners=function(p){if("number"!==typeof p||0>p||t(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");this._maxListeners=p;return this};C.prototype.getMaxListeners=function(){return void 0===this._maxListeners?C.defaultMaxListeners:this._maxListeners};C.prototype.emit=function(p){for(var z=[],q=1;q<arguments.length;q++)z.push(arguments[q]);q="error"===p;var w=this._events;if(void 0!==w)q=q&&
void 0===w.error;else if(!q)return!1;if(q){var G;0<z.length&&(G=z[0]);if(G instanceof Error)throw G;z=Error("Unhandled error."+(G?" ("+G.message+")":""));z.context=G;throw z;}q=w[p];if(void 0===q)return!1;if("function"===typeof q)g(q,this,z);else for(G=q.length,w=n(q,G),q=0;q<G;++q)g(w[q],this,z);return!0};C.prototype.addListener=function(p,z){return f(this,p,z,!1)};C.prototype.on=C.prototype.addListener;C.prototype.prependListener=function(p,z){return f(this,p,z,!0)};C.prototype.once=function(p,
z){r(z);this.on(p,e(this,p,z));return this};C.prototype.prependOnceListener=function(p,z){r(z);this.prependListener(p,e(this,p,z));return this};C.prototype.removeListener=function(p,z){var q;r(z);var w=this._events;if(void 0===w)return this;var G=w[p];if(void 0===G)return this;if(G===z||G.listener===z)0===--this._eventsCount?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,G.listener||z));else if("function"!==typeof G){var H=-1;for(q=G.length-1;0<=q;q--)if(G[q]===
z||G[q].listener===z){var L=G[q].listener;H=q;break}if(0>H)return this;if(0===H)G.shift();else{for(;H+1<G.length;H++)G[H]=G[H+1];G.pop()}1===G.length&&(w[p]=G[0]);void 0!==w.removeListener&&this.emit("removeListener",p,L||z)}return this};C.prototype.off=C.prototype.removeListener;C.prototype.removeAllListeners=function(p){var z=this._events;if(void 0===z)return this;if(void 0===z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==z[p]&&(0===
--this._eventsCount?this._events=Object.create(null):delete z[p]),this;if(0===arguments.length){var q=Object.keys(z);for(z=0;z<q.length;++z){var w=q[z];"removeListener"!==w&&this.removeAllListeners(w)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}q=z[p];if("function"===typeof q)this.removeListener(p,q);else if(void 0!==q)for(z=q.length-1;0<=z;z--)this.removeListener(p,q[z]);return this};C.prototype.listeners=function(p){return v(this,p,
!0)};C.prototype.rawListeners=function(p){return v(this,p,!1)};C.listenerCount=function(p,z){return"function"===typeof p.listenerCount?p.listenerCount(z):m.call(p,z)};C.prototype.listenerCount=m;C.prototype.eventNames=function(){return 0<this._eventsCount?D(this._events):[]}},{}],18:[function(x,J,E){function C(e){"string"===typeof e&&(e=f.parse(e));e.protocol||(e.protocol="https:");if("https:"!==e.protocol)throw Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var r=x("http"),
f=x("url");x=J.exports;for(var A in r)r.hasOwnProperty(A)&&(x[A]=r[A]);x.request=function(e,v){e=C(e);return r.request.call(this,e,v)};x.get=function(e,v){e=C(e);return r.get.call(this,e,v)}},{http:51,url:72}],19:[function(x,J,E){E.read=function(C,r,f,A,e){var v=8*e-A-1;var m=(1<<v)-1,n=m>>1,k=-7;e=f?e-1:0;var l=f?-1:1,g=C[r+e];e+=l;f=g&(1<<-k)-1;g>>=-k;for(k+=v;0<k;f=256*f+C[r+e],e+=l,k-=8);v=f&(1<<-k)-1;f>>=-k;for(k+=A;0<k;v=256*v+C[r+e],e+=l,k-=8);if(0===f)f=1-n;else{if(f===m)return v?NaN:Infinity*
(g?-1:1);v+=Math.pow(2,A);f-=n}return(g?-1:1)*v*Math.pow(2,f-A)};E.write=function(C,r,f,A,e,v){var m,n=8*v-e-1,k=(1<<n)-1,l=k>>1,g=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;v=A?0:v-1;var D=A?1:-1,t=0>r||0===r&&0>1/r?1:0;r=Math.abs(r);isNaN(r)||Infinity===r?(r=isNaN(r)?1:0,A=k):(A=Math.floor(Math.log(r)/Math.LN2),1>r*(m=Math.pow(2,-A))&&(A--,m*=2),r=1<=A+l?r+g/m:r+g*Math.pow(2,1-l),2<=r*m&&(A++,m/=2),A+l>=k?(r=0,A=k):1<=A+l?(r=(r*m-1)*Math.pow(2,e),A+=l):(r=r*Math.pow(2,l-1)*Math.pow(2,e),A=0));for(;8<=
e;C[f+v]=r&255,v+=D,r/=256,e-=8);A=A<<e|r;for(n+=e;0<n;C[f+v]=A&255,v+=D,A/=256,n-=8);C[f+v-D]|=128*t}},{}],20:[function(x,J,E){J.exports="function"===typeof Object.create?function(C,r){r&&(C.super_=r,C.prototype=Object.create(r.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:function(C,r){if(r){C.super_=r;var f=function(){};f.prototype=r.prototype;C.prototype=new f;C.prototype.constructor=C}}},{}],21:[function(x,J,E){J=this&&this.__importDefault||function(e){return e&&
e.__esModule?e:{"default":e}};Object.defineProperty(E,"__esModule",{value:!0});const C=x("stream"),r=J(x("sax")),f=x("./parse-time");class A extends C.Writable{constructor(e){super();this._parser=r.default.createStream(!1,{lowercase:!0});this._parser.on("error",this.destroy.bind(this));let v,m=0,n=0,k,l,g,D,t,B=[],p=!1,z=!1,q,w,G;const H=I=>{const N={RepresentationID:e,Number:n,Time:m};return I.replace(/\$(\w+)\$/g,(M,T)=>`${N[T]}`)};this._parser.on("opentag",I=>{switch(I.name){case "mpd":m=I.attributes.availabilitystarttime?
(new Date(I.attributes.availabilitystarttime)).getTime():0;q="dynamic"!==I.attributes.type;break;case "period":n=0;l=1E3;g=D=0;t=[];w=0;G=f.durationStr(I.attributes.start)||0;break;case "segmentlist":n=parseInt(I.attributes.startnumber)||n;l=parseInt(I.attributes.timescale)||l;D=parseInt(I.attributes.duration)||D;g=parseInt(I.attributes.presentationtimeoffset)||g;break;case "segmenttemplate":k=I.attributes;n=parseInt(I.attributes.startnumber)||n;l=parseInt(I.attributes.timescale)||l;break;case "segmenttimeline":case "baseurl":v=
I.name;break;case "s":B.push({duration:parseInt(I.attributes.d),repeat:parseInt(I.attributes.r),time:parseInt(I.attributes.t)});break;case "adaptationset":case "representation":w++;e||(e=I.attributes.id);if(p=I.attributes.id===`${e}`)G&&(m+=G),g&&(m-=g/l*1E3),this.emit("starttime",m);break;case "initialization":p&&this.emit("item",{url:t.filter(M=>!!M).join("")+I.attributes.sourceurl,seq:n,init:!0,duration:0});break;case "segmenturl":if(p){z=!0;var N=B.shift();N=((null===N||void 0===N?void 0:N.duration)||
D)/l*1E3;this.emit("item",{url:t.filter(M=>!!M).join("")+I.attributes.media,seq:n++,duration:N});m+=N}}});const L=()=>{q&&this.emit("endlist");p?this.emit("end"):this.destroy(Error(`Representation '${e}' not found`))};this._parser.on("closetag",I=>{switch(I){case "adaptationset":case "representation":w--;if(k&&B.length){z=!0;k.initialization&&this.emit("item",{url:t.filter(N=>!!N).join("")+H(k.initialization),seq:n,init:!0,duration:0});for(let {duration:N,repeat:M,time:T}of B)for(N=N/l*1E3,M=M||1,
m=T||m,I=0;I<M;I++)this.emit("item",{url:t.filter(S=>!!S).join("")+H(k.media),seq:n++,duration:N}),m+=N}z&&(this.emit("endearly"),L(),this._parser.removeAllListeners(),this.removeAllListeners("finish"))}});this._parser.on("text",I=>{"baseurl"===v&&(t[w]=I,v=null)});this.on("finish",L)}_write(e,v,m){this._parser.write(e);m()}}E.default=A},{"./parse-time":24,sax:35,stream:36}],22:[function(x,J,E){var C=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};const r=x("stream"),
f=C(x("miniget"));E=C(x("./m3u8-parser"));C=C(x("./dash-mpd-parser"));const A=x("./queue"),e=x("./parse-time"),v={m3u8:E.default,"dash-mpd":C.default};x=(m,n={})=>{const k=new r.PassThrough({highWaterMark:n.highWaterMark}),l=n.chunkReadahead||3,g=n.liveBuffer||2E4,D=n.requestOptions,t=v[n.parser||(/\.mpd$/.test(m)?"dash-mpd":"m3u8")];if(!t)throw TypeError(`parser '${n.parser}' not supported`);let B=0;"undefined"!==typeof n.begin&&(B="string"===typeof n.begin?e.humanStr(n.begin):Math.max(n.begin-g,
0));const p=c=>{for(let h of"abort request response redirect retry reconnect".split(" "))c.on(h,k.emit.bind(k,h))};let z;const q=new A.Queue((c,h)=>{z=c;let u=0;c.on("data",K=>u+=K.length);c.pipe(k,{end:!1});c.on("end",()=>h(null,u))},{concurrency:1});let w=0,G=0;const H=new A.Queue((c,h)=>{var u=Object.assign({},D);c.range&&(u.headers=Object.assign({},u.headers,{Range:`bytes=${c.range.start}-${c.range.end}`}));u=f.default((new URL(c.url,m)).toString(),u);u.on("error",h);p(u);q.push(u,(K,R)=>{G+=
+R;k.emit("progress",{num:++w,size:R,duration:c.duration,url:c.url},H.total,G);h(null)})},{concurrency:l}),L=c=>{k.emit("error",c);k.end()};let I,N,M,T=!0,S=!1,O=!1,V;const W=c=>{z=null;c?L(c):!T&&!S&&!O&&H.tasks.length+H.active<=I?(c=Math.max(0,N-(Date.now()-V)),T=!0,M=setTimeout(d,c)):!S&&!O||H.tasks.length||H.active||k.end()};let U,b,a=0;const d=()=>{V=Date.now();U=f.default(m,D);U.on("error",L);p(U);const c=U.pipe(new t(n.id));c.on("starttime",P=>{a||(a=P,"string"===typeof n.begin&&0<=B&&(B+=
a))});c.on("endlist",()=>{O=!0});c.on("endearly",U.unpipe.bind(U,c));let h=[];const u=P=>{if(!P.init){if(P.seq<=b)return;b=P.seq}B=P.time;H.push(P,W);h.push(P)};let K=[],R=0;c.on("item",P=>{P=Object.assign({time:a},P);if(B<=P.time)u(P);else for(K.push(P),R+=P.duration;1<K.length&&R-K[0].duration>g;){const F=K.shift();R-=F.duration}a+=P.duration});c.on("end",()=>{U=null;!h.length&&K.length&&K.forEach(P=>{u(P)});I=Math.max(1,Math.ceil(.01*h.length));N=h.reduce((P,F)=>F.duration+P,0);T=!1;W(null)})};
d();k.end=()=>{S=!0;q.die();H.die();clearTimeout(M);null===U||void 0===U?void 0:U.destroy();null===z||void 0===z?void 0:z.destroy();r.PassThrough.prototype.end.call(k,null);return k};return k};x.parseTimestamp=e.humanStr;J.exports=x},{"./dash-mpd-parser":21,"./m3u8-parser":23,"./parse-time":24,"./queue":25,miniget:26,stream:36}],23:[function(x,J,E){Object.defineProperty(E,"__esModule",{value:!0});x=x("stream");class C extends x.Writable{constructor(){super();this._lastLine="";this._seq=0;this._nextItemRange=
this._nextItemDuration=null;this._lastItemRangeEnd=0;this.on("finish",()=>{this._parseLine(this._lastLine);this.emit("end")})}_parseAttrList(r){let f={},A=/([A-Z0-9-]+)=(?:"([^"]*?)"|([^,]*?))/g,e;for(;null!==(e=A.exec(r));)f[e[1]]=e[2]||e[3];return f}_parseRange(r){if(!r)return null;var f=r.split("@");r=f[1]?parseInt(f[1]):this._lastItemRangeEnd+1;f=r+parseInt(f[0])-1;r={start:r,end:f};this._lastItemRangeEnd=r.end;return r}_parseLine(r){var f=r.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(f)switch(r=
f[2]||"",f[1]){case "EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",(new Date(r)).getTime());break;case "EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(r);break;case "EXT-X-MAP":f=this._parseAttrList(r);if(!f.URI){this.destroy(Error("`EXT-X-MAP` found without required attribute `URI`"));break}this.emit("item",{url:f.URI,seq:this._seq,init:!0,duration:0,range:this._parseRange(f.BYTERANGE)});break;case "EXT-X-BYTERANGE":this._nextItemRange=this._parseRange(r);break;case "EXTINF":this._nextItemDuration=Math.round(1E3*
parseFloat(r.split(",")[0]));break;case "EXT-X-ENDLIST":this.emit("endlist")}else!/^#/.test(r)&&r.trim()&&(this.emit("item",{url:r.trim(),seq:this._seq++,duration:this._nextItemDuration,range:this._nextItemRange}),this._nextItemRange=null)}_write(r,f,A){let e=r.toString("utf8").split("\n");this._lastLine&&(e[0]=this._lastLine+e[0]);e.forEach((v,m)=>{this.destroyed||(m<e.length-1?this._parseLine(v):this._lastLine=v)});A()}}E.default=C},{stream:36}],24:[function(x,J,E){Object.defineProperty(E,"__esModule",
{value:!0});E.durationStr=E.humanStr=void 0;const C=/^\d+$/,r=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,f={ms:1,s:1E3,m:6E4,h:36E5};E.humanStr=A=>{if("number"===typeof A)return A;if(C.test(A))return+A;var e=r.exec(A);if(e)return+(e[1]||0)*f.h+ +(e[2]||0)*f.m+ +e[3]*f.s+ +(e[4]||0);e=0;const v=/(-?\d+)(ms|s|m|h)/g;let m;for(;null!==(m=v.exec(A));)e+=+m[1]*f[m[2]];return e};E.durationStr=A=>{let e=0;const v=/(\d+(?:\.\d+)?)(S|M|H)/g;let m;for(;null!==(m=v.exec(A));)e+=+m[1]*f[m[2].toLowerCase()];
return e}},{}],25:[function(x,J,E){Object.defineProperty(E,"__esModule",{value:!0});E.Queue=void 0;class C{constructor(r,f={}){this._worker=r;this._concurrency=f.concurrency||1;this.tasks=[];this.active=this.total=0}push(r,f){this.tasks.push({item:r,callback:f});this.total++;this._next()}_next(){if(!(this.active>=this._concurrency)&&this.tasks.length){var {item:r,callback:f}=this.tasks.shift(),A=!1;this.active++;this._worker(r,(e,v)=>{A||(this.active--,A=!0,null===f||void 0===f?void 0:f(e,v),this._next())})}}die(){this.tasks=
[]}}E.Queue=C},{}],26:[function(x,J,E){(function(C){(function(){function r(g,D={}){var t;const B=Object.assign({},r.defaultOptions,D),p=new e.PassThrough({highWaterMark:B.highWaterMark});p.destroyed=p.aborted=!1;let z,q,w,G=0,H=0,L,I=0,N,M=!1,T=0,S,O=0;if(null===(t=B.headers)||void 0===t?0:t.Range)if(t=/bytes=(\d+)-(\d+)?/.exec(`${B.headers.Range}`))T=parseInt(t[1],10),S=parseInt(t[2],10);B.acceptEncoding&&(B.headers=Object.assign({"Accept-Encoding":Object.keys(B.acceptEncoding).join(", ")},B.headers));
const V=c=>"HEAD"!==D.method&&M&&O!==N&&I++<B.maxReconnects?(w=null,H=0,L=setTimeout(b,Math.min(B.backoff.inc,B.backoff.max)),p.emit("reconnect",I,c),!0):!1,W=c=>p.destroyed?!1:w&&0<O?V(c.err):(!c.err||"ENOTFOUND"===c.err.message)&&H++<B.maxRetries?(L=setTimeout(b,c.retryAfter||Math.min(H*B.backoff.inc,B.backoff.max)),p.emit("retry",H,c.err),!0):!1,U=(c,h)=>{for(let u of h)c.on(u,p.emit.bind(p,u))},b=()=>{let c={},h;try{let y="string"===typeof g?new URL(g):g;c=Object.assign({},{host:y.host,hostname:y.hostname,
path:y.pathname+y.search+y.hash,port:y.port,protocol:y.protocol});y.username&&(c.auth=`${y.username}:${y.password}`);h=v[String(c.protocol)]}catch(y){}if(h){Object.assign(c,B);M&&0<O&&(c.headers=Object.assign({},c.headers,{Range:`bytes=${O+T}-${S||""}`}));if(B.transform){try{c=B.transform(c)}catch(y){p.emit("error",y);return}if(!c||c.protocol)if(h=v[String(null===c||void 0===c?void 0:c.protocol)],!h){p.emit("error",new r.MinigetError("Invalid URL object from `transform` function"));return}}var u=
y=>{p.destroyed||p.readableEnded||(R(),W({err:y})?z.removeListener("close",K):p.emit("error",y))},K=()=>{R();W({})},R=()=>{z.removeListener("close",K);null===q||void 0===q?void 0:q.removeListener("data",P);null===w||void 0===w?void 0:w.removeListener("end",F)},P=y=>{O+=y.length},F=()=>{R();V()||p.end()};z=h.request(c,y=>{if(!p.destroyed)if(m.has(y.statusCode)){if(G++>=B.maxRedirects)p.emit("error",new r.MinigetError("Too many redirects"));else{if(y.headers.location)g=y.headers.location;else{y=new r.MinigetError("Redirect status code given with no location",
y.statusCode);p.emit("error",y);R();return}setTimeout(b,1E3*parseInt(y.headers["retry-after"]||"0",10));p.emit("redirect",g)}R()}else if(n.has(y.statusCode))W({retryAfter:parseInt(y.headers["retry-after"]||"0",10)})||(y=new r.MinigetError(`Status code: ${y.statusCode}`,y.statusCode),p.emit("error",y)),R();else if(y.statusCode&&(200>y.statusCode||400<=y.statusCode)){var Q=new r.MinigetError(`Status code: ${y.statusCode}`,y.statusCode);500<=y.statusCode?u(Q):p.emit("error",Q);R()}else{w=y;if(B.acceptEncoding&&
y.headers["content-encoding"])for(Q of y.headers["content-encoding"].split(", ").reverse()){let Y=B.acceptEncoding[Q];Y&&(w=w.pipe(Y()),w.on("error",u))}N||(N=parseInt(`${y.headers["content-length"]}`,10),M="bytes"===y.headers["accept-ranges"]&&0<N&&0<B.maxReconnects);y.on("data",P);w.on("end",F);w.pipe(p,{end:!M});q=y;p.emit("response",y);y.on("error",u);U(y,l)}});z.on("error",u);z.on("close",K);U(z,k);p.destroyed&&d(...a);p.emit("request",z);z.end()}else p.emit("error",new r.MinigetError(`Invalid URL: ${g}`))};
p.abort=c=>{console.warn("`MinigetStream#abort()` has been deprecated in favor of `MinigetStream#destroy()`");p.aborted=!0;p.emit("abort");p.destroy(c)};let a;const d=c=>{z.destroy(c);null===w||void 0===w?void 0:w.unpipe(p);null===w||void 0===w?void 0:w.destroy();clearTimeout(L)};p._destroy=(...c)=>{p.destroyed=!0;z?d(...c):a=c};p.text=()=>new Promise((c,h)=>{let u="";p.setEncoding("utf8");p.on("data",K=>u+=K);p.on("end",()=>c(u));p.on("error",h)});C.nextTick(b);return p}var f=this&&this.__importDefault||
function(g){return g&&g.__esModule?g:{"default":g}};const A=f(x("http"));f=f(x("https"));const e=x("stream"),v={"http:":A.default,"https:":f.default},m=new Set([301,302,303,307,308]),n=new Set([429,503]),k="connect continue information socket timeout upgrade".split(" "),l=["aborted"];r.MinigetError=class extends Error{constructor(g,D){super(g);this.statusCode=D}};r.defaultOptions={maxRedirects:10,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1E4}};J.exports=r}).call(this)}).call(this,x("_process"))},
{_process:27,http:51,https:18,stream:36}],27:[function(x,J,E){function C(){throw Error("setTimeout has not been defined");}function r(){throw Error("clearTimeout has not been defined");}function f(p){if(k===setTimeout)return setTimeout(p,0);if((k===C||!k)&&setTimeout)return k=setTimeout,setTimeout(p,0);try{return k(p,0)}catch(z){try{return k.call(null,p,0)}catch(q){return k.call(this,p,0)}}}function A(p){if(l===clearTimeout)return clearTimeout(p);if((l===r||!l)&&clearTimeout)return l=clearTimeout,
clearTimeout(p);try{return l(p)}catch(z){try{return l.call(null,p)}catch(q){return l.call(this,p)}}}function e(){D&&t&&(D=!1,t.length?g=t.concat(g):B=-1,g.length&&v())}function v(){if(!D){var p=f(e);D=!0;for(var z=g.length;z;){t=g;for(g=[];++B<z;)t&&t[B].run();B=-1;z=g.length}t=null;D=!1;A(p)}}function m(p,z){this.fun=p;this.array=z}function n(){}x=J.exports={};try{var k="function"===typeof setTimeout?setTimeout:C}catch(p){k=C}try{var l="function"===typeof clearTimeout?clearTimeout:r}catch(p){l=r}var g=
[],D=!1,t,B=-1;x.nextTick=function(p){var z=Array(arguments.length-1);if(1<arguments.length)for(var q=1;q<arguments.length;q++)z[q-1]=arguments[q];g.push(new m(p,z));1!==g.length||D||f(v)};m.prototype.run=function(){this.fun.apply(null,this.array)};x.title="browser";x.browser=!0;x.env={};x.argv=[];x.version="";x.versions={};x.on=n;x.addListener=n;x.once=n;x.off=n;x.removeListener=n;x.removeAllListeners=n;x.emit=n;x.prependListener=n;x.prependOnceListener=n;x.listeners=function(p){return[]};x.binding=
function(p){throw Error("process.binding is not supported");};x.cwd=function(){return"/"};x.chdir=function(p){throw Error("process.chdir is not supported");};x.umask=function(){return 0}},{}],28:[function(x,J,E){(function(C){(function(){(function(r){function f(L){throw new RangeError(q[L]);}function A(L,I){for(var N=L.length,M=[];N--;)M[N]=I(L[N]);return M}function e(L,I){var N=L.split("@"),M="";1<N.length&&(M=N[0]+"@",L=N[1]);L=L.replace(z,".");L=L.split(".");I=A(L,I).join(".");return M+I}function v(L){for(var I=
[],N=0,M=L.length,T,S;N<M;)T=L.charCodeAt(N++),55296<=T&&56319>=T&&N<M?(S=L.charCodeAt(N++),56320==(S&64512)?I.push(((T&1023)<<10)+(S&1023)+65536):(I.push(T),N--)):I.push(T);return I}function m(L){return A(L,function(I){var N="";65535<I&&(I-=65536,N+=G(I>>>10&1023|55296),I=56320|I&1023);return N+=G(I)}).join("")}function n(L,I,N){var M=0;L=N?w(L/700):L>>1;for(L+=w(L/I);455<L;M+=36)L=w(L/35);return w(M+36*L/(L+38))}function k(L){var I=[],N=L.length,M=0,T=128,S=72,O,V;var W=L.lastIndexOf("-");0>W&&
(W=0);for(O=0;O<W;++O)128<=L.charCodeAt(O)&&f("not-basic"),I.push(L.charCodeAt(O));for(W=0<W?W+1:0;W<N;){O=M;var U=1;for(V=36;;V+=36){W>=N&&f("invalid-input");var b=L.charCodeAt(W++);b=10>b-48?b-22:26>b-65?b-65:26>b-97?b-97:36;(36<=b||b>w((2147483647-M)/U))&&f("overflow");M+=b*U;var a=V<=S?1:V>=S+26?26:V-S;if(b<a)break;b=36-a;U>w(2147483647/b)&&f("overflow");U*=b}U=I.length+1;S=n(M-O,U,0==O);w(M/U)>2147483647-T&&f("overflow");T+=w(M/U);M%=U;I.splice(M++,0,T)}return m(I)}function l(L){var I,N,M,T=
[];L=v(L);var S=L.length;var O=128;var V=0;var W=72;for(M=0;M<S;++M){var U=L[M];128>U&&T.push(G(U))}for((I=N=T.length)&&T.push("-");I<S;){var b=2147483647;for(M=0;M<S;++M)U=L[M],U>=O&&U<b&&(b=U);var a=I+1;b-O>w((2147483647-V)/a)&&f("overflow");V+=(b-O)*a;O=b;for(M=0;M<S;++M)if(U=L[M],U<O&&2147483647<++V&&f("overflow"),U==O){var d=V;for(b=36;;b+=36){U=b<=W?1:b>=W+26?26:b-W;if(d<U)break;var c=d-U;d=36-U;var h=T;U+=c%d;h.push.call(h,G(U+22+75*(26>U)-0));d=w(c/d)}T.push(G(d+22+75*(26>d)-0));W=n(V,a,I==
N);V=0;++I}++V;++O}return T.join("")}var g="object"==typeof E&&E&&!E.nodeType&&E,D="object"==typeof J&&J&&!J.nodeType&&J,t="object"==typeof C&&C;if(t.global===t||t.window===t||t.self===t)r=t;var B=/^xn--/,p=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=Math.floor,G=String.fromCharCode,H;t={version:"1.4.1",ucs2:{decode:v,encode:m},decode:k,encode:l,
toASCII:function(L){return e(L,function(I){return p.test(I)?"xn--"+l(I):I})},toUnicode:function(L){return e(L,function(I){return B.test(I)?k(I.slice(4).toLowerCase()):I})}};if(g&&D)if(J.exports==g)D.exports=t;else for(H in t)t.hasOwnProperty(H)&&(g[H]=t[H]);else r.punycode=t})(this)}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],29:[function(x,J,E){J.exports=function(r,f,A,e){A=A||"=";var v={};if("string"!==typeof r||
0===r.length)return v;var m=/\+/g;r=r.split(f||"&");f=1E3;e&&"number"===typeof e.maxKeys&&(f=e.maxKeys);e=r.length;0<f&&e>f&&(e=f);for(f=0;f<e;++f){var n=r[f].replace(m,"%20"),k=n.indexOf(A);if(0<=k){var l=n.substr(0,k);n=n.substr(k+1)}else l=n,n="";l=decodeURIComponent(l);n=decodeURIComponent(n);Object.prototype.hasOwnProperty.call(v,l)?C(v[l])?v[l].push(n):v[l]=[v[l],n]:v[l]=n}return v};var C=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}},{}],30:[function(x,
J,E){function C(e,v){if(e.map)return e.map(v);for(var m=[],n=0;n<e.length;n++)m.push(v(e[n],n));return m}var r=function(e){switch(typeof e){case "string":return e;case "boolean":return e?"true":"false";case "number":return isFinite(e)?e:"";default:return""}};J.exports=function(e,v,m,n){v=v||"&";m=m||"=";null===e&&(e=void 0);return"object"===typeof e?C(A(e),function(k){var l=encodeURIComponent(r(k))+m;return f(e[k])?C(e[k],function(g){return l+encodeURIComponent(r(g))}).join(v):l+encodeURIComponent(r(e[k]))}).join(v):
n?encodeURIComponent(r(n))+m+encodeURIComponent(r(e)):""};var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},A=Object.keys||function(e){var v=[],m;for(m in e)Object.prototype.hasOwnProperty.call(e,m)&&v.push(m);return v}},{}],31:[function(x,J,E){E.decode=E.parse=x("./decode");E.encode=E.stringify=x("./encode")},{"./decode":29,"./encode":30}],32:[function(x,J,E){x=function(C){function r(b,a,d){Object.defineProperty(b,a,{value:d,enumerable:!0,configurable:!0,
writable:!0});return b[a]}function f(b,a,d,c){a=Object.create((a&&a.prototype instanceof e?a:e).prototype);c=new B(c||[]);a._invoke=l(b,d,c);return a}function A(b,a,d){try{return{type:"normal",arg:b.call(a,d)}}catch(c){return{type:"throw",arg:c}}}function e(){}function v(){}function m(){}function n(b){["next","throw","return"].forEach(function(a){r(b,a,function(d){return this._invoke(a,d)})})}function k(b,a){function d(h,u,K,R){h=A(b[h],b,u);if("throw"===h.type)R(h.arg);else{var P=h.arg;return(h=
P.value)&&"object"===typeof h&&w.call(h,"__await")?a.resolve(h.__await).then(function(F){d("next",F,K,R)},function(F){d("throw",F,K,R)}):a.resolve(h).then(function(F){P.value=F;K(P)},function(F){return d("throw",F,K,R)})}}var c;this._invoke=function(h,u){function K(){return new a(function(R,P){d(h,u,R,P)})}return c=c?c.then(K,K):K()}}function l(b,a,d){var c=M;return function(h,u){if(c===S)throw Error("Generator is already running");if(c===O){if("throw"===h)throw u;return z()}d.method=h;for(d.arg=
u;;){if(h=d.delegate)if(h=g(h,d)){if(h===V)continue;return h}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if(c===M)throw c=O,d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);c=S;h=A(b,a,d);if("normal"===h.type){c=d.done?O:T;if(h.arg===V)continue;return{value:h.arg,done:d.done}}"throw"===h.type&&(c=O,d.method="throw",d.arg=h.arg)}}}function g(b,a){var d=b.iterator[a.method];if(d===G){a.delegate=null;if("throw"===a.method){if(b.iterator["return"]&&
(a.method="return",a.arg=G,g(b,a),"throw"===a.method))return V;a.method="throw";a.arg=new TypeError("The iterator does not provide a 'throw' method")}return V}d=A(d,b.iterator,a.arg);if("throw"===d.type)return a.method="throw",a.arg=d.arg,a.delegate=null,V;d=d.arg;if(!d)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,V;if(d.done)a[b.resultName]=d.value,a.next=b.nextLoc,"return"!==a.method&&(a.method="next",a.arg=G);else return d;a.delegate=null;return V}
function D(b){var a={tryLoc:b[0]};1 in b&&(a.catchLoc=b[1]);2 in b&&(a.finallyLoc=b[2],a.afterLoc=b[3]);this.tryEntries.push(a)}function t(b){var a=b.completion||{};a.type="normal";delete a.arg;b.completion=a}function B(b){this.tryEntries=[{tryLoc:"root"}];b.forEach(D,this);this.reset(!0)}function p(b){if(b){var a=b[L];if(a)return a.call(b);if("function"===typeof b.next)return b;if(!isNaN(b.length)){var d=-1;a=function h(){for(;++d<b.length;)if(w.call(b,d))return h.value=b[d],h.done=!1,h;h.value=
G;h.done=!0;return h};return a.next=a}}return{next:z}}function z(){return{value:G,done:!0}}var q=Object.prototype,w=q.hasOwnProperty,G,H="function"===typeof Symbol?Symbol:{},L=H.iterator||"@@iterator",I=H.asyncIterator||"@@asyncIterator",N=H.toStringTag||"@@toStringTag";try{r({},"")}catch(b){r=function(a,d,c){return a[d]=c}}C.wrap=f;var M="suspendedStart",T="suspendedYield",S="executing",O="completed",V={};H={};r(H,L,function(){return this});var W=Object.getPrototypeOf;(W=W&&W(W(p([]))))&&W!==q&&
w.call(W,L)&&(H=W);var U=m.prototype=e.prototype=Object.create(H);v.prototype=m;r(U,"constructor",m);r(m,"constructor",v);v.displayName=r(m,N,"GeneratorFunction");C.isGeneratorFunction=function(b){return(b="function"===typeof b&&b.constructor)?b===v||"GeneratorFunction"===(b.displayName||b.name):!1};C.mark=function(b){Object.setPrototypeOf?Object.setPrototypeOf(b,m):(b.__proto__=m,r(b,N,"GeneratorFunction"));b.prototype=Object.create(U);return b};C.awrap=function(b){return{__await:b}};n(k.prototype);
r(k.prototype,I,function(){return this});C.AsyncIterator=k;C.async=function(b,a,d,c,h){void 0===h&&(h=Promise);var u=new k(f(b,a,d,c),h);return C.isGeneratorFunction(a)?u:u.next().then(function(K){return K.done?K.value:u.next()})};n(U);r(U,N,"Generator");r(U,L,function(){return this});r(U,"toString",function(){return"[object Generator]"});C.keys=function(b){var a=[],d;for(d in b)a.push(d);a.reverse();return function h(){for(;a.length;){var u=a.pop();if(u in b)return h.value=u,h.done=!1,h}h.done=!0;
return h}};C.values=p;B.prototype={constructor:B,reset:function(b){this.next=this.prev=0;this.sent=this._sent=G;this.done=!1;this.delegate=null;this.method="next";this.arg=G;this.tryEntries.forEach(t);if(!b)for(var a in this)"t"===a.charAt(0)&&w.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=G)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(b){function a(P,F){u.type="throw";u.arg=b;d.next=P;F&&(d.method="next",
d.arg=G);return!!F}if(this.done)throw b;for(var d=this,c=this.tryEntries.length-1;0<=c;--c){var h=this.tryEntries[c],u=h.completion;if("root"===h.tryLoc)return a("end");if(h.tryLoc<=this.prev){var K=w.call(h,"catchLoc"),R=w.call(h,"finallyLoc");if(K&&R){if(this.prev<h.catchLoc)return a(h.catchLoc,!0);if(this.prev<h.finallyLoc)return a(h.finallyLoc)}else if(K){if(this.prev<h.catchLoc)return a(h.catchLoc,!0)}else if(R){if(this.prev<h.finallyLoc)return a(h.finallyLoc)}else throw Error("try statement without catch or finally");
}}},abrupt:function(b,a){for(var d=this.tryEntries.length-1;0<=d;--d){var c=this.tryEntries[d];if(c.tryLoc<=this.prev&&w.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var h=c;break}}h&&("break"===b||"continue"===b)&&h.tryLoc<=a&&a<=h.finallyLoc&&(h=null);d=h?h.completion:{};d.type=b;d.arg=a;return h?(this.method="next",this.next=h.finallyLoc,V):this.complete(d)},complete:function(b,a){if("throw"===b.type)throw b.arg;"break"===b.type||"continue"===b.type?this.next=b.arg:"return"===b.type?(this.rval=
this.arg=b.arg,this.method="return",this.next="end"):"normal"===b.type&&a&&(this.next=a);return V},finish:function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var d=this.tryEntries[a];if(d.finallyLoc===b)return this.complete(d.completion,d.afterLoc),t(d),V}},"catch":function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var d=this.tryEntries[a];if(d.tryLoc===b){b=d.completion;if("throw"===b.type){var c=b.arg;t(d)}return c}}throw Error("illegal catch attempt");},delegateYield:function(b,a,d){this.delegate=
{iterator:p(b),resultName:a,nextLoc:d};"next"===this.method&&(this.arg=G);return V}};return C}("object"===typeof J?J.exports:{});try{regeneratorRuntime=x}catch(C){"object"===typeof globalThis?globalThis.regeneratorRuntime=x:Function("r","regeneratorRuntime = r")(x)}},{}],33:[function(x,J,E){void function(C,r){"object"===typeof E?J.exports=r():C.resolveUrl=r()}(this,function(){return function(){var C=arguments.length;if(0===C)throw Error("resolveUrl requires at least one argument; got none.");var r=
document.createElement("base");r.href=arguments[0];if(1===C)return r.href;var f=document.getElementsByTagName("head")[0];f.insertBefore(r,f.firstChild);for(var A=document.createElement("a"),e,v=1;v<C;v++)A.href=arguments[v],e=A.href,r.href=e;f.removeChild(r);return e}})},{}],34:[function(x,J,E){function C(e,v){for(var m in e)v[m]=e[m]}function r(e,v,m){return A(e,v,m)}var f=x("buffer"),A=f.Buffer;A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?J.exports=f:(C(f,E),E.Buffer=r);r.prototype=Object.create(A.prototype);
C(A,r);r.from=function(e,v,m){if("number"===typeof e)throw new TypeError("Argument must not be a number");return A(e,v,m)};r.alloc=function(e,v,m){if("number"!==typeof e)throw new TypeError("Argument must be a number");e=A(e);void 0!==v?"string"===typeof m?e.fill(v,m):e.fill(v):e.fill(0);return e};r.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return A(e)};r.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");
return f.SlowBuffer(e)}},{buffer:15}],35:[function(x,J,E){(function(C){(function(){(function(r){function f(c,h){if(!(this instanceof f))return new f(c,h);for(var u=0,K=H.length;u<K;u++)this[H[u]]="";this.q=this.c="";this.bufferCheckPosition=r.MAX_BUFFER_LENGTH;this.opt=h||{};this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!c;this.noscript=
!(!c&&!this.opt.noscript);this.state=a.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(O));if(this.trackPosition=!1!==this.opt.position)this.position=this.line=this.column=0;this.onready&&this.onready(void 0)}function A(c,h){if(!(this instanceof A))return new A(c,h);L.apply(this);this._parser=new f(c,h);this.readable=this.writable=!0;var u=this;this._parser.onend=function(){u.emit("end")};
this._parser.onerror=function(K){u.emit("error",K);u._parser.error=null};this._decoder=null;I.forEach(function(K){Object.defineProperty(u,"on"+K,{get:function(){return u._parser["on"+K]},set:function(R){if(!R)return u.removeAllListeners(K),u._parser["on"+K]=R;u.on(K,R)},enumerable:!0,configurable:!1})})}function e(c){return" "===c||"\n"===c||"\r"===c||"\t"===c}function v(c){return'"'===c||"'"===c}function m(c,h,u){c.textNode&&n(c);c[h]&&c[h](u)}function n(c){c.textNode=k(c.opt,c.textNode);c.textNode&&
c.ontext&&c.ontext(c.textNode);c.textNode=""}function k(c,h){c.trim&&(h=h.trim());c.normalize&&(h=h.replace(/\s+/g," "));return h}function l(c,h){n(c);c.trackPosition&&(h+="\nLine: "+c.line+"\nColumn: "+c.column+"\nChar: "+c.c);h=Error(h);c.error=h;c.onerror&&c.onerror(h);return c}function g(c){c.sawRoot&&!c.closedRoot&&D(c,"Unclosed root tag");c.state!==a.BEGIN&&c.state!==a.BEGIN_WHITESPACE&&c.state!==a.TEXT&&l(c,"Unexpected end");n(c);c.c="";c.closed=!0;c.onend&&c.onend(void 0);f.call(c,c.strict,
c.opt);return c}function D(c,h){if("object"!==typeof c||!(c instanceof f))throw Error("bad call to strictFail");c.strict&&l(c,h)}function t(c,h){var u=0>c.indexOf(":")?["",c]:c.split(":"),K=u[0];u=u[1];h&&"xmlns"===c&&(K="xmlns",u="");return{prefix:K,local:u}}function B(c){c.strict||(c.attribName=c.attribName[c.looseCase]());if(-1===c.attribList.indexOf(c.attribName)&&!c.tag.attributes.hasOwnProperty(c.attribName))if(c.opt.xmlns){var h=t(c.attribName,!0),u=h.local;if("xmlns"===h.prefix)if("xml"===
u&&c.attribValue!==T)D(c,"xml: prefix must be bound to "+T+"\nActual: "+c.attribValue);else if("xmlns"===u&&c.attribValue!==S)D(c,"xmlns: prefix must be bound to "+S+"\nActual: "+c.attribValue);else{h=c.tag;var K=c.tags[c.tags.length-1]||c;h.ns===K.ns&&(h.ns=Object.create(K.ns));h.ns[u]=c.attribValue}c.attribList.push([c.attribName,c.attribValue])}else c.tag.attributes[c.attribName]=c.attribValue,m(c,"onattribute",{name:c.attribName,value:c.attribValue});c.attribName=c.attribValue=""}function p(c,
h){if(c.opt.xmlns){var u=c.tag,K=t(c.tagName);u.prefix=K.prefix;u.local=K.local;u.uri=u.ns[K.prefix]||"";u.prefix&&!u.uri&&(D(c,"Unbound namespace prefix: "+JSON.stringify(c.tagName)),u.uri=K.prefix);K=c.tags[c.tags.length-1]||c;u.ns&&K.ns!==u.ns&&Object.keys(u.ns).forEach(function(Z){m(c,"onopennamespace",{prefix:Z,uri:u.ns[Z]})});K=0;for(var R=c.attribList.length;K<R;K++){var P=c.attribList[K],F=P[0],y=P[1],Q=t(F,!0);P=Q.prefix;var Y=""===P?"":u.ns[P]||"";y={name:F,value:y,prefix:P,local:Q.local,
uri:Y};P&&"xmlns"!==P&&!Y&&(D(c,"Unbound namespace prefix: "+JSON.stringify(P)),y.uri=P);c.tag.attributes[F]=y;m(c,"onattribute",y)}c.attribList.length=0}c.tag.isSelfClosing=!!h;c.sawRoot=!0;c.tags.push(c.tag);m(c,"onopentag",c.tag);h||(c.noscript||"script"!==c.tagName.toLowerCase()?c.state=a.TEXT:c.state=a.SCRIPT,c.tag=null,c.tagName="");c.attribName=c.attribValue="";c.attribList.length=0}function z(c){if(c.tagName){if(c.script){if("script"!==c.tagName){c.script+="</"+c.tagName+">";c.tagName="";
c.state=a.SCRIPT;return}m(c,"onscript",c.script);c.script=""}var h=c.tags.length,u=c.tagName;c.strict||(u=u[c.looseCase]());for(var K=u;h--;)if(c.tags[h].name!==K)D(c,"Unexpected close tag");else break;if(0>h)D(c,"Unmatched closing tag: "+c.tagName),c.textNode+="</"+c.tagName+">";else{c.tagName=u;for(u=c.tags.length;u-- >h;){var R=c.tag=c.tags.pop();c.tagName=c.tag.name;m(c,"onclosetag",c.tagName);for(var P in R.ns);K=c.tags[c.tags.length-1]||c;c.opt.xmlns&&R.ns!==K.ns&&Object.keys(R.ns).forEach(function(F){m(c,
"onclosenamespace",{prefix:F,uri:R.ns[F]})})}0===h&&(c.closedRoot=!0);c.tagName=c.attribValue=c.attribName="";c.attribList.length=0}}else D(c,"Weird empty close tag."),c.textNode+="</>";c.state=a.TEXT}function q(c){var h=c.entity,u=h.toLowerCase(),K="";if(c.ENTITIES[h])return c.ENTITIES[h];if(c.ENTITIES[u])return c.ENTITIES[u];h=u;if("#"===h.charAt(0))if("x"===h.charAt(1)){h=h.slice(2);var R=parseInt(h,16);K=R.toString(16)}else h=h.slice(1),R=parseInt(h,10),K=R.toString(10);h=h.replace(/^0+/,"");
return isNaN(R)||K.toLowerCase()!==h?(D(c,"Invalid character entity"),"&"+c.entity+";"):String.fromCodePoint(R)}function w(c,h){"<"===h?(c.state=a.OPEN_WAKA,c.startTagPosition=c.position):e(h)||(D(c,"Non-whitespace before first tag."),c.textNode=h,c.state=a.TEXT)}function G(c,h){var u="";h<c.length&&(u=c.charAt(h));return u}r.parser=function(c,h){return new f(c,h)};r.SAXParser=f;r.SAXStream=A;r.createStream=function(c,h){return new A(c,h)};r.MAX_BUFFER_LENGTH=65536;var H="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");
r.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");Object.create||(Object.create=function(c){function h(){}h.prototype=c;return new h});Object.keys||(Object.keys=function(c){var h=[],u;for(u in c)c.hasOwnProperty(u)&&h.push(u);return h});f.prototype={end:function(){g(this)},write:function(c){if(this.error)throw this.error;if(this.closed)return l(this,
"Cannot write after close. Assign an onready handler.");if(null===c)return g(this);"object"===typeof c&&(c=c.toString());for(var h=0,u;;){this.c=u=G(c,h++);if(!u)break;this.trackPosition&&(this.position++,"\n"===u?(this.line++,this.column=0):this.column++);switch(this.state){case a.BEGIN:this.state=a.BEGIN_WHITESPACE;if("\ufeff"===u)continue;w(this,u);continue;case a.BEGIN_WHITESPACE:w(this,u);continue;case a.TEXT:if(this.sawRoot&&!this.closedRoot){for(var K=h-1;u&&"<"!==u&&"&"!==u;)(u=G(c,h++))&&
this.trackPosition&&(this.position++,"\n"===u?(this.line++,this.column=0):this.column++);this.textNode+=c.substring(K,h-1)}"<"!==u||this.sawRoot&&this.closedRoot&&!this.strict?(e(u)||this.sawRoot&&!this.closedRoot||D(this,"Text data outside of root node."),"&"===u?this.state=a.TEXT_ENTITY:this.textNode+=u):(this.state=a.OPEN_WAKA,this.startTagPosition=this.position);continue;case a.SCRIPT:"<"===u?this.state=a.SCRIPT_ENDING:this.script+=u;continue;case a.SCRIPT_ENDING:"/"===u?this.state=a.CLOSE_TAG:
(this.script+="<"+u,this.state=a.SCRIPT);continue;case a.OPEN_WAKA:"!"===u?(this.state=a.SGML_DECL,this.sgmlDecl=""):e(u)||(V.test(u)?(this.state=a.OPEN_TAG,this.tagName=u):"/"===u?(this.state=a.CLOSE_TAG,this.tagName=""):"?"===u?(this.state=a.PROC_INST,this.procInstName=this.procInstBody=""):(D(this,"Unencoded <"),this.startTagPosition+1<this.position&&(u=Array(this.position-this.startTagPosition).join(" ")+u),this.textNode+="<"+u,this.state=a.TEXT));continue;case a.SGML_DECL:(this.sgmlDecl+u).toUpperCase()===
N?(m(this,"onopencdata"),this.state=a.CDATA,this.cdata=this.sgmlDecl=""):"--"===this.sgmlDecl+u?(this.state=a.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+u).toUpperCase()===M?(this.state=a.DOCTYPE,(this.doctype||this.sawRoot)&&D(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):">"===u?(m(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=a.TEXT):(v(u)&&(this.state=a.SGML_DECL_QUOTED),this.sgmlDecl+=u);continue;case a.SGML_DECL_QUOTED:u===
this.q&&(this.state=a.SGML_DECL,this.q="");this.sgmlDecl+=u;continue;case a.DOCTYPE:">"===u?(this.state=a.TEXT,m(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=u,"["===u?this.state=a.DOCTYPE_DTD:v(u)&&(this.state=a.DOCTYPE_QUOTED,this.q=u));continue;case a.DOCTYPE_QUOTED:this.doctype+=u;u===this.q&&(this.q="",this.state=a.DOCTYPE);continue;case a.DOCTYPE_DTD:this.doctype+=u;"]"===u?this.state=a.DOCTYPE:v(u)&&(this.state=a.DOCTYPE_DTD_QUOTED,this.q=u);continue;case a.DOCTYPE_DTD_QUOTED:this.doctype+=
u;u===this.q&&(this.state=a.DOCTYPE_DTD,this.q="");continue;case a.COMMENT:"-"===u?this.state=a.COMMENT_ENDING:this.comment+=u;continue;case a.COMMENT_ENDING:"-"===u?(this.state=a.COMMENT_ENDED,(this.comment=k(this.opt,this.comment))&&m(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+u,this.state=a.COMMENT);continue;case a.COMMENT_ENDED:">"!==u?(D(this,"Malformed comment"),this.comment+="--"+u,this.state=a.COMMENT):this.state=a.TEXT;continue;case a.CDATA:"]"===u?this.state=a.CDATA_ENDING:
this.cdata+=u;continue;case a.CDATA_ENDING:"]"===u?this.state=a.CDATA_ENDING_2:(this.cdata+="]"+u,this.state=a.CDATA);continue;case a.CDATA_ENDING_2:">"===u?(this.cdata&&m(this,"oncdata",this.cdata),m(this,"onclosecdata"),this.cdata="",this.state=a.TEXT):"]"===u?this.cdata+="]":(this.cdata+="]]"+u,this.state=a.CDATA);continue;case a.PROC_INST:"?"===u?this.state=a.PROC_INST_ENDING:e(u)?this.state=a.PROC_INST_BODY:this.procInstName+=u;continue;case a.PROC_INST_BODY:if(!this.procInstBody&&e(u))continue;
else"?"===u?this.state=a.PROC_INST_ENDING:this.procInstBody+=u;continue;case a.PROC_INST_ENDING:">"===u?(m(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=a.TEXT):(this.procInstBody+="?"+u,this.state=a.PROC_INST_BODY);continue;case a.OPEN_TAG:if(W.test(u))this.tagName+=u;else{this.strict||(this.tagName=this.tagName[this.looseCase]());K=this.tags[this.tags.length-1]||this;var R=this.tag={name:this.tagName,attributes:{}};
this.opt.xmlns&&(R.ns=K.ns);this.attribList.length=0;m(this,"onopentagstart",R);">"===u?p(this):"/"===u?this.state=a.OPEN_TAG_SLASH:(e(u)||D(this,"Invalid character in tag name"),this.state=a.ATTRIB)}continue;case a.OPEN_TAG_SLASH:">"===u?(p(this,!0),z(this)):(D(this,"Forward-slash in opening tag not followed by >"),this.state=a.ATTRIB);continue;case a.ATTRIB:if(e(u))continue;else">"===u?p(this):"/"===u?this.state=a.OPEN_TAG_SLASH:V.test(u)?(this.attribName=u,this.attribValue="",this.state=a.ATTRIB_NAME):
D(this,"Invalid attribute name");continue;case a.ATTRIB_NAME:"="===u?this.state=a.ATTRIB_VALUE:">"===u?(D(this,"Attribute without value"),this.attribValue=this.attribName,B(this),p(this)):e(u)?this.state=a.ATTRIB_NAME_SAW_WHITE:W.test(u)?this.attribName+=u:D(this,"Invalid attribute name");continue;case a.ATTRIB_NAME_SAW_WHITE:if("="===u)this.state=a.ATTRIB_VALUE;else if(e(u))continue;else D(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",m(this,"onattribute",
{name:this.attribName,value:""}),this.attribName="",">"===u?p(this):V.test(u)?(this.attribName=u,this.state=a.ATTRIB_NAME):(D(this,"Invalid attribute name"),this.state=a.ATTRIB);continue;case a.ATTRIB_VALUE:if(e(u))continue;else v(u)?(this.q=u,this.state=a.ATTRIB_VALUE_QUOTED):(D(this,"Unquoted attribute value"),this.state=a.ATTRIB_VALUE_UNQUOTED,this.attribValue=u);continue;case a.ATTRIB_VALUE_QUOTED:if(u!==this.q){"&"===u?this.state=a.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=u;continue}B(this);this.q=
"";this.state=a.ATTRIB_VALUE_CLOSED;continue;case a.ATTRIB_VALUE_CLOSED:e(u)?this.state=a.ATTRIB:">"===u?p(this):"/"===u?this.state=a.OPEN_TAG_SLASH:V.test(u)?(D(this,"No whitespace between attributes"),this.attribName=u,this.attribValue="",this.state=a.ATTRIB_NAME):D(this,"Invalid attribute name");continue;case a.ATTRIB_VALUE_UNQUOTED:if(">"!==u&&!e(u)){"&"===u?this.state=a.ATTRIB_VALUE_ENTITY_U:this.attribValue+=u;continue}B(this);">"===u?p(this):this.state=a.ATTRIB;continue;case a.CLOSE_TAG:if(this.tagName)">"===
u?z(this):W.test(u)?this.tagName+=u:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=a.SCRIPT):(e(u)||D(this,"Invalid tagname in closing tag"),this.state=a.CLOSE_TAG_SAW_WHITE);else if(e(u))continue;else V.test(u)?this.tagName=u:this.script?(this.script+="</"+u,this.state=a.SCRIPT):D(this,"Invalid tagname in closing tag.");continue;case a.CLOSE_TAG_SAW_WHITE:if(e(u))continue;">"===u?z(this):D(this,"Invalid characters in closing tag");continue;case a.TEXT_ENTITY:case a.ATTRIB_VALUE_ENTITY_Q:case a.ATTRIB_VALUE_ENTITY_U:switch(this.state){case a.TEXT_ENTITY:var P=
a.TEXT;var F="textNode";break;case a.ATTRIB_VALUE_ENTITY_Q:P=a.ATTRIB_VALUE_QUOTED;F="attribValue";break;case a.ATTRIB_VALUE_ENTITY_U:P=a.ATTRIB_VALUE_UNQUOTED,F="attribValue"}";"===u?(this[F]+=q(this),this.entity="",this.state=P):(this.entity.length?b:U).test(u)?this.entity+=u:(D(this,"Invalid character in entity name"),this[F]+="&"+this.entity+u,this.entity="",this.state=P);continue;default:throw Error(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){c=Math.max(r.MAX_BUFFER_LENGTH,
10);u=h=0;for(P=H.length;u<P;u++){F=this[H[u]].length;if(F>c)switch(H[u]){case "textNode":n(this);break;case "cdata":m(this,"oncdata",this.cdata);this.cdata="";break;case "script":m(this,"onscript",this.script);this.script="";break;default:l(this,"Max buffer length exceeded: "+H[u])}h=Math.max(h,F)}this.bufferCheckPosition=r.MAX_BUFFER_LENGTH-h+this.position}return this},resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){n(this);""!==this.cdata&&
(m(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(m(this,"onscript",this.script),this.script="")}};try{var L=x("stream").Stream}catch(c){L=function(){}}var I=r.EVENTS.filter(function(c){return"error"!==c&&"end"!==c});A.prototype=Object.create(L.prototype,{constructor:{value:A}});A.prototype.write=function(c){"function"===typeof C&&"function"===typeof C.isBuffer&&C.isBuffer(c)&&(this._decoder||(this._decoder=new (x("string_decoder").StringDecoder)("utf8")),c=this._decoder.write(c));this._parser.write(c.toString());
this.emit("data",c);return!0};A.prototype.end=function(c){c&&c.length&&this.write(c);this._parser.end();return!0};A.prototype.on=function(c,h){var u=this;u._parser["on"+c]||-1===I.indexOf(c)||(u._parser["on"+c]=function(){var K=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);K.splice(0,0,c);u.emit.apply(u,K)});return L.prototype.on.call(u,c,h)};var N="[CDATA[",M="DOCTYPE",T="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",O={xml:T,xmlns:S},V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
W=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,
a=0;r.STATE={BEGIN:a++,BEGIN_WHITESPACE:a++,TEXT:a++,TEXT_ENTITY:a++,OPEN_WAKA:a++,SGML_DECL:a++,SGML_DECL_QUOTED:a++,DOCTYPE:a++,DOCTYPE_QUOTED:a++,DOCTYPE_DTD:a++,DOCTYPE_DTD_QUOTED:a++,COMMENT_STARTING:a++,COMMENT:a++,COMMENT_ENDING:a++,COMMENT_ENDED:a++,CDATA:a++,CDATA_ENDING:a++,CDATA_ENDING_2:a++,PROC_INST:a++,PROC_INST_BODY:a++,PROC_INST_ENDING:a++,OPEN_TAG:a++,OPEN_TAG_SLASH:a++,ATTRIB:a++,ATTRIB_NAME:a++,ATTRIB_NAME_SAW_WHITE:a++,ATTRIB_VALUE:a++,ATTRIB_VALUE_QUOTED:a++,ATTRIB_VALUE_CLOSED:a++,
ATTRIB_VALUE_UNQUOTED:a++,ATTRIB_VALUE_ENTITY_Q:a++,ATTRIB_VALUE_ENTITY_U:a++,CLOSE_TAG:a++,CLOSE_TAG_SAW_WHITE:a++,SCRIPT:a++,SCRIPT_ENDING:a++};r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,
THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,
laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,
Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,
lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,
ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(r.ENTITIES).forEach(function(c){var h=r.ENTITIES[c];h="number"===typeof h?String.fromCharCode(h):h;r.ENTITIES[c]=h});for(var d in r.STATE)r.STATE[r.STATE[d]]=d;a=r.STATE;String.fromCodePoint||function(){var c=String.fromCharCode,h=Math.floor,u=function(){var K=[],R=-1,
P=arguments.length;if(!P)return"";for(var F="";++R<P;){var y=Number(arguments[R]);if(!isFinite(y)||0>y||1114111<y||h(y)!==y)throw RangeError("Invalid code point: "+y);if(65535>=y)K.push(y);else{y-=65536;var Q=(y>>10)+55296;y=y%1024+56320;K.push(Q,y)}if(R+1===P||16384<K.length)F+=c.apply(null,K),K.length=0}return F};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:u,configurable:!0,writable:!0}):String.fromCodePoint=u}()})("undefined"===typeof E?this.sax={}:E)}).call(this)}).call(this,
x("buffer").Buffer)},{buffer:15,stream:36,string_decoder:70}],36:[function(x,J,E){function C(){r.call(this)}J.exports=C;var r=x("events").EventEmitter;x("inherits")(C,r);C.Readable=x("readable-stream/lib/_stream_readable.js");C.Writable=x("readable-stream/lib/_stream_writable.js");C.Duplex=x("readable-stream/lib/_stream_duplex.js");C.Transform=x("readable-stream/lib/_stream_transform.js");C.PassThrough=x("readable-stream/lib/_stream_passthrough.js");C.finished=x("readable-stream/lib/internal/streams/end-of-stream.js");
C.pipeline=x("readable-stream/lib/internal/streams/pipeline.js");C.Stream=C;C.prototype.pipe=function(f,A){function e(t){f.writable&&!1===f.write(t)&&g.pause&&g.pause()}function v(){g.readable&&g.resume&&g.resume()}function m(){D||(D=!0,f.end())}function n(){D||(D=!0,"function"===typeof f.destroy&&f.destroy())}function k(t){l();if(0===r.listenerCount(this,"error"))throw t;}function l(){g.removeListener("data",e);f.removeListener("drain",v);g.removeListener("end",m);g.removeListener("close",n);g.removeListener("error",
k);f.removeListener("error",k);g.removeListener("end",l);g.removeListener("close",l);f.removeListener("close",l)}var g=this;g.on("data",e);f.on("drain",v);f._isStdio||A&&!1===A.end||(g.on("end",m),g.on("close",n));var D=!1;g.on("error",k);f.on("error",k);g.on("end",l);g.on("close",l);f.on("close",l);f.emit("pipe",g);return f}},{events:17,inherits:20,"readable-stream/lib/_stream_duplex.js":38,"readable-stream/lib/_stream_passthrough.js":39,"readable-stream/lib/_stream_readable.js":40,"readable-stream/lib/_stream_transform.js":41,
"readable-stream/lib/_stream_writable.js":42,"readable-stream/lib/internal/streams/end-of-stream.js":46,"readable-stream/lib/internal/streams/pipeline.js":48}],37:[function(x,J,E){function C(e,v){e.prototype=Object.create(v.prototype);e.prototype.constructor=e;e.__proto__=v}function r(e,v,m){m||=Error;var n=function(k){function l(g,D,t){var B=k.call;g="string"===typeof v?v:v(g,D,t);return B.call(k,this,g)||this}C(l,k);return l}(m);n.prototype.name=m.name;n.prototype.code=e;A[e]=n}function f(e,v){if(Array.isArray(e)){var m=
e.length;e=e.map(function(n){return String(n)});return 2<m?"one of ".concat(v," ").concat(e.slice(0,m-1).join(", "),", or ")+e[m-1]:2===m?"one of ".concat(v," ").concat(e[0]," or ").concat(e[1]):"of ".concat(v," ").concat(e[0])}return"of ".concat(v," ").concat(String(e))}var A={};r("ERR_INVALID_OPT_VALUE",function(e,v){return'The value "'+v+'" is invalid for option "'+e+'"'},TypeError);r("ERR_INVALID_ARG_TYPE",function(e,v,m){var n;if(n="string"===typeof v)n="not "===v.substr(0,4);n?(n="must not be",
v=v.replace(/^not /,"")):n="must be";var k=void 0;if(void 0===k||k>e.length)k=e.length;" argument"===e.substring(k-9,k)?e="The ".concat(e," ").concat(n," ").concat(f(v,"type")):(k=void 0,"number"!==typeof k&&(k=0),k=k+1>e.length?!1:-1!==e.indexOf(".",k),k=k?"property":"argument",e='The "'.concat(e,'" ').concat(k," ").concat(n," ").concat(f(v,"type")));return e+=". Received type ".concat(typeof m)},TypeError);r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+
e+" method is not implemented"});r("ERR_STREAM_PREMATURE_CLOSE","Premature close");r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});r("ERR_MULTIPLE_CALLBACK","Callback called multiple times");r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");r("ERR_STREAM_WRITE_AFTER_END","write after end");r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT",
"stream.unshift() after end event");J.exports.codes=A},{}],38:[function(x,J,E){(function(C){(function(){function r(l){if(!(this instanceof r))return new r(l);v.call(this,l);m.call(this,l);this.allowHalfOpen=!0;l&&(!1===l.readable&&(this.readable=!1),!1===l.writable&&(this.writable=!1),!1===l.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||C.nextTick(A,this)}function A(l){l.end()}var e=Object.keys||function(l){var g=[],D;for(D in l)g.push(D);return g};
J.exports=r;var v=x("./_stream_readable"),m=x("./_stream_writable");x("inherits")(r,v);e=e(m.prototype);for(var n=0;n<e.length;n++){var k=e[n];r.prototype[k]||(r.prototype[k]=m.prototype[k])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(r.prototype,
"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}})}).call(this)}).call(this,x("_process"))},{"./_stream_readable":40,
"./_stream_writable":42,_process:27,inherits:20}],39:[function(x,J,E){function C(f){if(!(this instanceof C))return new C(f);r.call(this,f)}J.exports=C;var r=x("./_stream_transform");x("inherits")(C,r);C.prototype._transform=function(f,A,e){e(null,f)}},{"./_stream_transform":41,inherits:20}],40:[function(x,J,E){(function(C,r){(function(){function f(F,y,Q){if("function"===typeof F.prependListener)return F.prependListener(y,Q);if(F._events&&F._events[y])Array.isArray(F._events[y])?F._events[y].unshift(Q):
F._events[y]=[Q,F._events[y]];else F.on(y,Q)}function A(F,y,Q){I=I||x("./_stream_duplex");F=F||{};"boolean"!==typeof Q&&(Q=y instanceof I);this.objectMode=!!F.objectMode;Q&&(this.objectMode=this.objectMode||!!F.readableObjectMode);this.highWaterMark=W(this,F,"readableHighWaterMark",Q);this.buffer=new V;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=
!1;this.paused=!0;this.emitClose=!1!==F.emitClose;this.autoDestroy=!!F.autoDestroy;this.destroyed=!1;this.defaultEncoding=F.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;F.encoding&&(h||(h=x("string_decoder/").StringDecoder),this.decoder=new h(F.encoding),this.encoding=F.encoding)}function e(F){I=I||x("./_stream_duplex");if(!(this instanceof e))return new e(F);this._readableState=new A(F,this,this instanceof I);this.readable=!0;F&&("function"===typeof F.read&&
(this._read=F.read),"function"===typeof F.destroy&&(this._destroy=F.destroy));N.call(this)}function v(F,y,Q,Y,Z){O("readableAddChunk",y);var X=F._readableState;if(null===y)X.reading=!1,O("onEofChunk"),X.ended||(X.decoder&&(y=X.decoder.end())&&y.length&&(X.buffer.push(y),X.length+=X.objectMode?1:y.length),X.ended=!0,X.sync?k(F):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,l(F))));else{if(!Z){Z=y;var da;M.isBuffer(Z)||Z instanceof T||"string"===typeof Z||void 0===Z||X.objectMode||(da=
new b("chunk",["string","Buffer","Uint8Array"],Z));var ea=da}if(ea)R(F,ea);else if(X.objectMode||y&&0<y.length)if("string"===typeof y||X.objectMode||Object.getPrototypeOf(y)===M.prototype||(y=M.from(y)),Y)X.endEmitted?R(F,new c):m(F,X,y,!0);else if(X.ended)R(F,new a);else{if(X.destroyed)return!1;X.reading=!1;X.decoder&&!Q?(y=X.decoder.write(y),X.objectMode||0!==y.length?m(F,X,y,!1):g(F,X)):m(F,X,y,!1)}else Y||(X.reading=!1,g(F,X))}return!X.ended&&(X.length<X.highWaterMark||0===X.length)}function m(F,
y,Q,Y){y.flowing&&0===y.length&&!y.sync?(y.awaitDrain=0,F.emit("data",Q)):(y.length+=y.objectMode?1:Q.length,Y?y.buffer.unshift(Q):y.buffer.push(Q),y.needReadable&&k(F));g(F,y)}function n(F,y){if(0>=F||0===y.length&&y.ended)return 0;if(y.objectMode)return 1;if(F!==F)return y.flowing&&y.length?y.buffer.head.data.length:y.length;if(F>y.highWaterMark){var Q=F;1073741824<=Q?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++);y.highWaterMark=Q}return F<=y.length?F:y.ended?y.length:(y.needReadable=
!0,0)}function k(F){var y=F._readableState;O("emitReadable",y.needReadable,y.emittedReadable);y.needReadable=!1;y.emittedReadable||(O("emitReadable",y.flowing),y.emittedReadable=!0,C.nextTick(l,F))}function l(F){var y=F._readableState;O("emitReadable_",y.destroyed,y.length,y.ended);y.destroyed||!y.length&&!y.ended||(F.emit("readable"),y.emittedReadable=!1);y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark;q(F)}function g(F,y){y.readingMore||(y.readingMore=!0,C.nextTick(D,F,y))}function D(F,
y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&0===y.length);){var Q=y.length;O("maybeReadMore read 0");F.read(0);if(Q===y.length)break}y.readingMore=!1}function t(F){return function(){var y=F._readableState;O("pipeOnDrain",y.awaitDrain);y.awaitDrain&&y.awaitDrain--;0===y.awaitDrain&&F.listeners("data").length&&(y.flowing=!0,q(F))}}function B(F){var y=F._readableState;y.readableListening=0<F.listenerCount("readable");y.resumeScheduled&&!y.paused?y.flowing=!0:0<F.listenerCount("data")&&
F.resume()}function p(F){O("readable nexttick read 0");F.read(0)}function z(F,y){O("resume",y.reading);y.reading||F.read(0);y.resumeScheduled=!1;F.emit("resume");q(F);y.flowing&&!y.reading&&F.read(0)}function q(F){var y=F._readableState;for(O("flow",y.flowing);y.flowing&&null!==F.read(););}function w(F,y){if(0===y.length)return null;y.objectMode?F=y.buffer.shift():!F||F>=y.length?(F=y.decoder?y.buffer.join(""):1===y.buffer.length?y.buffer.first():y.buffer.concat(y.length),y.buffer.clear()):F=y.buffer.consume(F,
y.decoder);return F}function G(F){var y=F._readableState;O("endReadable",y.endEmitted);y.endEmitted||(y.ended=!0,C.nextTick(H,y,F))}function H(F,y){O("endReadableNT",F.endEmitted,F.length);F.endEmitted||0!==F.length||(F.endEmitted=!0,y.readable=!1,y.emit("end"),F.autoDestroy&&(F=y._writableState,(!F||F.autoDestroy&&F.finished)&&y.destroy()))}function L(F,y){for(var Q=0,Y=F.length;Q<Y;Q++)if(F[Q]===y)return Q;return-1}J.exports=e;var I;e.ReadableState=A;x("events");var N=x("./internal/streams/stream"),
M=x("buffer").Buffer,T=r.Uint8Array||function(){},S=x("util");var O=S&&S.debuglog?S.debuglog("stream"):function(){};var V=x("./internal/streams/buffer_list");S=x("./internal/streams/destroy");var W=x("./internal/streams/state").getHighWaterMark,U=x("../errors").codes,b=U.ERR_INVALID_ARG_TYPE,a=U.ERR_STREAM_PUSH_AFTER_EOF,d=U.ERR_METHOD_NOT_IMPLEMENTED,c=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,h,u,K;x("inherits")(e,N);var R=S.errorOrDestroy,P=["error","close","destroy","pause","resume"];Object.defineProperty(e.prototype,
"destroyed",{enumerable:!1,get:function(){return void 0===this._readableState?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}});e.prototype.destroy=S.destroy;e.prototype._undestroy=S.undestroy;e.prototype._destroy=function(F,y){y(F)};e.prototype.push=function(F,y){var Q=this._readableState;if(Q.objectMode)var Y=!0;else"string"===typeof F&&(y=y||Q.defaultEncoding,y!==Q.encoding&&(F=M.from(F,y),y=""),Y=!0);return v(this,F,y,!1,Y)};e.prototype.unshift=
function(F){return v(this,F,null,!0,!1)};e.prototype.isPaused=function(){return!1===this._readableState.flowing};e.prototype.setEncoding=function(F){h||(h=x("string_decoder/").StringDecoder);F=new h(F);this._readableState.decoder=F;this._readableState.encoding=this._readableState.decoder.encoding;for(var y=this._readableState.buffer.head,Q="";null!==y;)Q+=F.write(y.data),y=y.next;this._readableState.buffer.clear();""!==Q&&this._readableState.buffer.push(Q);this._readableState.length=Q.length;return this};
e.prototype.read=function(F){O("read",F);F=parseInt(F,10);var y=this._readableState,Q=F;0!==F&&(y.emittedReadable=!1);if(0===F&&y.needReadable&&((0!==y.highWaterMark?y.length>=y.highWaterMark:0<y.length)||y.ended))return O("read: emitReadable",y.length,y.ended),0===y.length&&y.ended?G(this):k(this),null;F=n(F,y);if(0===F&&y.ended)return 0===y.length&&G(this),null;var Y=y.needReadable;O("need readable",Y);if(0===y.length||y.length-F<y.highWaterMark)Y=!0,O("length less than watermark",Y);y.ended||y.reading?
O("reading or ended",!1):Y&&(O("do read"),y.reading=!0,y.sync=!0,0===y.length&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(F=n(Q,y)));Y=0<F?w(F,y):null;null===Y?(y.needReadable=y.length<=y.highWaterMark,F=0):(y.length-=F,y.awaitDrain=0);0===y.length&&(y.ended||(y.needReadable=!0),Q!==F&&y.ended&&G(this));null!==Y&&this.emit("data",Y);return Y};e.prototype._read=function(F){R(this,new d("_read()"))};e.prototype.pipe=function(F,y){function Q(ca,ha){O("onunpipe");ca===ba&&ha&&
!1===ha.hasUnpiped&&(ha.hasUnpiped=!0,O("cleanup"),F.removeListener("close",da),F.removeListener("finish",ea),F.removeListener("drain",ia),F.removeListener("error",X),F.removeListener("unpipe",Q),ba.removeListener("end",Y),ba.removeListener("end",fa),ba.removeListener("data",Z),ja=!0,!aa.awaitDrain||F._writableState&&!F._writableState.needDrain||ia())}function Y(){O("onend");F.end()}function Z(ca){O("ondata");ca=F.write(ca);O("dest.write",ca);!1===ca&&((1===aa.pipesCount&&aa.pipes===F||1<aa.pipesCount&&
-1!==L(aa.pipes,F))&&!ja&&(O("false write response, pause",aa.awaitDrain),aa.awaitDrain++),ba.pause())}function X(ca){O("onerror",ca);fa();F.removeListener("error",X);0===F.listeners("error").length&&R(F,ca)}function da(){F.removeListener("finish",ea);fa()}function ea(){O("onfinish");F.removeListener("close",da);fa()}function fa(){O("unpipe");ba.unpipe(F)}var ba=this,aa=this._readableState;switch(aa.pipesCount){case 0:aa.pipes=F;break;case 1:aa.pipes=[aa.pipes,F];break;default:aa.pipes.push(F)}aa.pipesCount+=
1;O("pipe count=%d opts=%j",aa.pipesCount,y);y=y&&!1===y.end||F===C.stdout||F===C.stderr?fa:Y;if(aa.endEmitted)C.nextTick(y);else ba.once("end",y);F.on("unpipe",Q);var ia=t(ba);F.on("drain",ia);var ja=!1;ba.on("data",Z);f(F,"error",X);F.once("close",da);F.once("finish",ea);F.emit("pipe",ba);aa.flowing||(O("pipe resume"),ba.resume());return F};e.prototype.unpipe=function(F){var y=this._readableState,Q={hasUnpiped:!1};if(0===y.pipesCount)return this;if(1===y.pipesCount){if(F&&F!==y.pipes)return this;
F||(F=y.pipes);y.pipes=null;y.pipesCount=0;y.flowing=!1;F&&F.emit("unpipe",this,Q);return this}if(!F){F=y.pipes;Q=y.pipesCount;y.pipes=null;y.pipesCount=0;y.flowing=!1;for(y=0;y<Q;y++)F[y].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=L(y.pipes,F);if(-1===Y)return this;y.pipes.splice(Y,1);--y.pipesCount;1===y.pipesCount&&(y.pipes=y.pipes[0]);F.emit("unpipe",this,Q);return this};e.prototype.on=function(F,y){y=N.prototype.on.call(this,F,y);var Q=this._readableState;"data"===F?(Q.readableListening=
0<this.listenerCount("readable"),!1!==Q.flowing&&this.resume()):"readable"!==F||Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,O("on readable",Q.length,Q.reading),Q.length?k(this):Q.reading||C.nextTick(p,this));return y};e.prototype.addListener=e.prototype.on;e.prototype.removeListener=function(F,y){y=N.prototype.removeListener.call(this,F,y);"readable"===F&&C.nextTick(B,this);return y};e.prototype.removeAllListeners=function(F){var y=N.prototype.removeAllListeners.apply(this,
arguments);"readable"!==F&&void 0!==F||C.nextTick(B,this);return y};e.prototype.resume=function(){var F=this._readableState;F.flowing||(O("resume"),F.flowing=!F.readableListening,F.resumeScheduled||(F.resumeScheduled=!0,C.nextTick(z,this,F)));F.paused=!1;return this};e.prototype.pause=function(){O("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause"));this._readableState.paused=!0;return this};e.prototype.wrap=
function(F){var y=this,Q=this._readableState,Y=!1;F.on("end",function(){O("wrapped end");if(Q.decoder&&!Q.ended){var X=Q.decoder.end();X&&X.length&&y.push(X)}y.push(null)});F.on("data",function(X){O("wrapped data");Q.decoder&&(X=Q.decoder.write(X));Q.objectMode&&(null===X||void 0===X)||!(Q.objectMode||X&&X.length)||y.push(X)||(Y=!0,F.pause())});for(var Z in F)void 0===this[Z]&&"function"===typeof F[Z]&&(this[Z]=function(X){return function(){return F[X].apply(F,arguments)}}(Z));for(Z=0;Z<P.length;Z++)F.on(P[Z],
this.emit.bind(this,P[Z]));this._read=function(X){O("wrapped _read",X);Y&&(Y=!1,F.resume())};return this};"function"===typeof Symbol&&(e.prototype[Symbol.asyncIterator]=function(){void 0===u&&(u=x("./internal/streams/async_iterator"));return u(this)});Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});
Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}});e._fromList=w;Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});"function"===typeof Symbol&&(e.from=function(F,y){void 0===K&&(K=x("./internal/streams/from"));return K(e,F,y)})}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?
global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":37,"./_stream_duplex":38,"./internal/streams/async_iterator":43,"./internal/streams/buffer_list":44,"./internal/streams/destroy":45,"./internal/streams/from":47,"./internal/streams/state":49,"./internal/streams/stream":50,_process:27,buffer:15,events:17,inherits:20,"string_decoder/":70,util:14}],41:[function(x,J,E){function C(l,g){var D=this._transformState;D.transforming=!1;var t=D.writecb;if(null===t)return this.emit("error",
new v);D.writechunk=null;D.writecb=null;null!=g&&this.push(g);t(l);l=this._readableState;l.reading=!1;(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function r(l){if(!(this instanceof r))return new r(l);k.call(this,l);this._transformState={afterTransform:C.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;l&&("function"===typeof l.transform&&(this._transform=l.transform),
"function"===typeof l.flush&&(this._flush=l.flush));this.on("prefinish",f)}function f(){var l=this;"function"!==typeof this._flush||this._readableState.destroyed?A(this,null,null):this._flush(function(g,D){A(l,g,D)})}function A(l,g,D){if(g)return l.emit("error",g);null!=D&&l.push(D);if(l._writableState.length)throw new n;if(l._transformState.transforming)throw new m;return l.push(null)}J.exports=r;J=x("../errors").codes;var e=J.ERR_METHOD_NOT_IMPLEMENTED,v=J.ERR_MULTIPLE_CALLBACK,m=J.ERR_TRANSFORM_ALREADY_TRANSFORMING,
n=J.ERR_TRANSFORM_WITH_LENGTH_0,k=x("./_stream_duplex");x("inherits")(r,k);r.prototype.push=function(l,g){this._transformState.needTransform=!1;return k.prototype.push.call(this,l,g)};r.prototype._transform=function(l,g,D){D(new e("_transform()"))};r.prototype._write=function(l,g,D){var t=this._transformState;t.writecb=D;t.writechunk=l;t.writeencoding=g;t.transforming||(l=this._readableState,(t.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark))};r.prototype._read=
function(l){l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))};r.prototype._destroy=function(l,g){k.prototype._destroy.call(this,l,function(D){g(D)})}},{"../errors":37,"./_stream_duplex":38,inherits:20}],42:[function(x,J,E){(function(C,r){(function(){function f(b){var a=this;this.entry=this.next=null;this.finish=function(){var d=a.entry;for(a.entry=null;d;){var c=d.callback;b.pendingcb--;
c(void 0);d=d.next}b.corkedRequestsFree.next=a}}function A(){}function e(b,a,d){t=t||x("./_stream_duplex");b=b||{};"boolean"!==typeof d&&(d=a instanceof t);this.objectMode=!!b.objectMode;d&&(this.objectMode=this.objectMode||!!b.writableObjectMode);this.highWaterMark=G(this,b,"writableHighWaterMark",d);this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==b.decodeStrings;this.defaultEncoding=b.defaultEncoding||"utf8";this.length=0;this.writing=
!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(c){var h=a._writableState,u=h.sync,K=h.writecb;if("function"!==typeof K)throw new N;h.writing=!1;h.writecb=null;h.length-=h.writelen;h.writelen=0;c?(--h.pendingcb,u?(C.nextTick(K,c),C.nextTick(D,a,h),a._writableState.errorEmitted=!0,W(a,c)):(K(c),a._writableState.errorEmitted=!0,W(a,c),D(a,h))):((c=l(h)||a.destroyed)||h.corked||h.bufferProcessing||!h.bufferedRequest||k(a,h),u?C.nextTick(n,a,h,c,K):n(a,h,c,K))};this.writecb=
null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.emitClose=!1!==b.emitClose;this.autoDestroy=!!b.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new f(this)}function v(b){t=t||x("./_stream_duplex");var a=this instanceof t;if(!a&&!U.call(v,this))return new v(b);this._writableState=new e(b,this,a);this.writable=!0;b&&("function"===typeof b.write&&(this._write=b.write),"function"===typeof b.writev&&(this._writev=
b.writev),"function"===typeof b.destroy&&(this._destroy=b.destroy),"function"===typeof b.final&&(this._final=b.final));p.call(this)}function m(b,a,d,c,h,u,K){a.writelen=c;a.writecb=K;a.writing=!0;a.sync=!0;if(a.destroyed)a.onwrite(new T("write"));else d?b._writev(h,a.onwrite):b._write(h,u,a.onwrite);a.sync=!1}function n(b,a,d,c){!d&&0===a.length&&a.needDrain&&(a.needDrain=!1,b.emit("drain"));a.pendingcb--;c();D(b,a)}function k(b,a){a.bufferProcessing=!0;var d=a.bufferedRequest;if(b._writev&&d&&d.next){var c=
Array(a.bufferedRequestCount),h=a.corkedRequestsFree;h.entry=d;for(var u=0,K=!0;d;)c[u]=d,d.isBuf||(K=!1),d=d.next,u+=1;c.allBuffers=K;m(b,a,!0,a.length,c,"",h.finish);a.pendingcb++;a.lastBufferedRequest=null;h.next?(a.corkedRequestsFree=h.next,h.next=null):a.corkedRequestsFree=new f(a);a.bufferedRequestCount=0}else{for(;d&&(c=d.chunk,m(b,a,!1,a.objectMode?1:c.length,c,d.encoding,d.callback),d=d.next,a.bufferedRequestCount--,!a.writing););null===d&&(a.lastBufferedRequest=null)}a.bufferedRequest=d;
a.bufferProcessing=!1}function l(b){return b.ending&&0===b.length&&null===b.bufferedRequest&&!b.finished&&!b.writing}function g(b,a){b._final(function(d){a.pendingcb--;d&&W(b,d);a.prefinished=!0;b.emit("prefinish");D(b,a)})}function D(b,a){var d=l(a);d&&(a.prefinished||a.finalCalled||("function"!==typeof b._final||a.destroyed?(a.prefinished=!0,b.emit("prefinish")):(a.pendingcb++,a.finalCalled=!0,C.nextTick(g,b,a))),0===a.pendingcb&&(a.finished=!0,b.emit("finish"),a.autoDestroy&&(a=b._readableState,
(!a||a.autoDestroy&&a.endEmitted)&&b.destroy())));return d}J.exports=v;var t;v.WritableState=e;var B={deprecate:x("util-deprecate")},p=x("./internal/streams/stream"),z=x("buffer").Buffer,q=r.Uint8Array||function(){},w=x("./internal/streams/destroy"),G=x("./internal/streams/state").getHighWaterMark,H=x("../errors").codes,L=H.ERR_INVALID_ARG_TYPE,I=H.ERR_METHOD_NOT_IMPLEMENTED,N=H.ERR_MULTIPLE_CALLBACK,M=H.ERR_STREAM_CANNOT_PIPE,T=H.ERR_STREAM_DESTROYED,S=H.ERR_STREAM_NULL_VALUES,O=H.ERR_STREAM_WRITE_AFTER_END,
V=H.ERR_UNKNOWN_ENCODING,W=w.errorOrDestroy;x("inherits")(v,p);e.prototype.getBuffer=function(){for(var b=this.bufferedRequest,a=[];b;)a.push(b),b=b.next;return a};(function(){try{Object.defineProperty(e.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(b){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var U=Function.prototype[Symbol.hasInstance];
Object.defineProperty(v,Symbol.hasInstance,{value:function(b){return U.call(this,b)?!0:this!==v?!1:b&&b._writableState instanceof e}})}else U=function(b){return b instanceof this};v.prototype.pipe=function(){W(this,new M)};v.prototype.write=function(b,a,d){var c=this._writableState,h=!1,u;if(u=!c.objectMode)u=b,u=z.isBuffer(u)||u instanceof q;u&&!z.isBuffer(b)&&(b=z.from(b));"function"===typeof a&&(d=a,a=null);u?a="buffer":a||(a=c.defaultEncoding);"function"!==typeof d&&(d=A);if(c.ending)c=d,d=new O,
W(this,d),C.nextTick(c,d);else{var K;if(!(K=u)){K=b;var R=d,P;null===K?P=new S:"string"===typeof K||c.objectMode||(P=new L("chunk",["string","Buffer"],K));P?(W(this,P),C.nextTick(R,P),K=!1):K=!0}K&&(c.pendingcb++,h=u,h||(P=b,c.objectMode||!1===c.decodeStrings||"string"!==typeof P||(P=z.from(P,a)),b!==P&&(h=!0,a="buffer",b=P)),u=c.objectMode?1:b.length,c.length+=u,P=c.length<c.highWaterMark,P||(c.needDrain=!0),c.writing||c.corked?(u=c.lastBufferedRequest,c.lastBufferedRequest={chunk:b,encoding:a,isBuf:h,
callback:d,next:null},u?u.next=c.lastBufferedRequest:c.bufferedRequest=c.lastBufferedRequest,c.bufferedRequestCount+=1):m(this,c,!1,u,b,a,d),h=P)}return h};v.prototype.cork=function(){this._writableState.corked++};v.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||k(this,b))};v.prototype.setDefaultEncoding=function(b){"string"===typeof b&&(b=b.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((b+
"").toLowerCase())))throw new V(b);this._writableState.defaultEncoding=b;return this};Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});v.prototype._write=function(b,a,d){d(new I("_write()"))};v.prototype._writev=null;v.prototype.end=function(b,a,d){var c=this._writableState;
"function"===typeof b?(d=b,a=b=null):"function"===typeof a&&(d=a,a=null);null!==b&&void 0!==b&&this.write(b,a);c.corked&&(c.corked=1,this.uncork());if(!c.ending){b=d;c.ending=!0;D(this,c);if(b)if(c.finished)C.nextTick(b);else this.once("finish",b);c.ended=!0;this.writable=!1}return this};Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0===this._writableState?
!1:this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}});v.prototype.destroy=w.destroy;v.prototype._undestroy=w.undestroy;v.prototype._destroy=function(b,a){a(b)}}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":37,"./_stream_duplex":38,"./internal/streams/destroy":45,"./internal/streams/state":49,"./internal/streams/stream":50,_process:27,
buffer:15,inherits:20,"util-deprecate":74}],43:[function(x,J,E){(function(C){(function(){function r(w,G,H){G in w?Object.defineProperty(w,G,{value:H,enumerable:!0,configurable:!0,writable:!0}):w[G]=H;return w}function f(w,G){return{value:w,done:G}}function A(w){var G=w[k];if(null!==G){var H=w[p].read();null!==H&&(w[t]=null,w[k]=null,w[l]=null,G(f(H,!1)))}}function e(w){C.nextTick(A,w)}function v(w,G){return function(H,L){w.then(function(){if(G[D])H(f(void 0,!0));else G[B](H,L)},L)}}var m,n=x("./end-of-stream"),
k=Symbol("lastResolve"),l=Symbol("lastReject"),g=Symbol("error"),D=Symbol("ended"),t=Symbol("lastPromise"),B=Symbol("handlePromise"),p=Symbol("stream"),z=Object.getPrototypeOf(function(){}),q=Object.setPrototypeOf((m={get stream(){return this[p]},next:function(){var w=this,G=this[g];if(null!==G)return Promise.reject(G);if(this[D])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise(function(H,L){C.nextTick(function(){w[g]?L(w[g]):H(f(void 0,!0))})});if(G=this[t])G=new Promise(v(G,
this));else{G=this[p].read();if(null!==G)return Promise.resolve(f(G,!1));G=new Promise(this[B])}return this[t]=G}},r(m,Symbol.asyncIterator,function(){return this}),r(m,"return",function(){var w=this;return new Promise(function(G,H){w[p].destroy(null,function(L){L?H(L):G(f(void 0,!0))})})}),m),z);J.exports=function(w){var G,H=Object.create(q,(G={},r(G,p,{value:w,writable:!0}),r(G,k,{value:null,writable:!0}),r(G,l,{value:null,writable:!0}),r(G,g,{value:null,writable:!0}),r(G,D,{value:w._readableState.endEmitted,
writable:!0}),r(G,B,{value:function(L,I){var N=H[p].read();N?(H[t]=null,H[k]=null,H[l]=null,L(f(N,!1))):(H[k]=L,H[l]=I)},writable:!0}),G));H[t]=null;n(w,function(L){if(L&&"ERR_STREAM_PREMATURE_CLOSE"!==L.code){var I=H[l];null!==I&&(H[t]=null,H[k]=null,H[l]=null,I(L));H[g]=L}else L=H[k],null!==L&&(H[t]=null,H[k]=null,H[l]=null,L(f(void 0,!0))),H[D]=!0});w.on("readable",e.bind(null,H));return H}}).call(this)}).call(this,x("_process"))},{"./end-of-stream":46,_process:27}],44:[function(x,J,E){function C(n,
k){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);k&&(g=g.filter(function(D){return Object.getOwnPropertyDescriptor(n,D).enumerable}));l.push.apply(l,g)}return l}function r(n){for(var k=1;k<arguments.length;k++){var l=null!=arguments[k]?arguments[k]:{};k%2?C(Object(l),!0).forEach(function(g){var D=l[g];g in n?Object.defineProperty(n,g,{value:D,enumerable:!0,configurable:!0,writable:!0}):n[g]=D}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,
Object.getOwnPropertyDescriptors(l)):C(Object(l)).forEach(function(g){Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(l,g))})}return n}function f(n,k){for(var l=0;l<k.length;l++){var g=k[l];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(n,g.key,g)}}function A(n,k,l){k&&f(n.prototype,k);l&&f(n,l);return n}var e=x("buffer").Buffer,v=x("util").inspect,m=v&&v.custom||"inspect";J.exports=function(){function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");
this.tail=this.head=null;this.length=0}A(n,[{key:"push",value:function(k){k={data:k,next:null};0<this.length?this.tail.next=k:this.head=k;this.tail=k;++this.length}},{key:"unshift",value:function(k){k={data:k,next:this.head};0===this.length&&(this.tail=k);this.head=k;++this.length}},{key:"shift",value:function(){if(0!==this.length){var k=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return k}}},{key:"clear",value:function(){this.head=this.tail=null;this.length=
0}},{key:"join",value:function(k){if(0===this.length)return"";for(var l=this.head,g=""+l.data;l=l.next;)g+=k+l.data;return g}},{key:"concat",value:function(k){if(0===this.length)return e.alloc(0);k=e.allocUnsafe(k>>>0);for(var l=this.head,g=0;l;)e.prototype.copy.call(l.data,k,g),g+=l.data.length,l=l.next;return k}},{key:"consume",value:function(k,l){k<this.head.data.length?(l=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):l=k===this.head.data.length?this.shift():l?this._getString(k):
this._getBuffer(k);return l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var l=this.head,g=1,D=l.data;for(k-=D.length;l=l.next;){var t=l.data,B=k>t.length?t.length:k;D=B===t.length?D+t:D+t.slice(0,k);k-=B;if(0===k){B===t.length?(++g,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=t.slice(B));break}++g}this.length-=g;return D}},{key:"_getBuffer",value:function(k){var l=e.allocUnsafe(k),g=this.head,D=1;g.data.copy(l);for(k-=g.data.length;g=
g.next;){var t=g.data,B=k>t.length?t.length:k;t.copy(l,l.length-k,0,B);k-=B;if(0===k){B===t.length?(++D,this.head=g.next?g.next:this.tail=null):(this.head=g,g.data=t.slice(B));break}++D}this.length-=D;return l}},{key:m,value:function(k,l){return v(this,r({},l,{depth:0,customInspect:!1}))}}]);return n}()},{buffer:15,util:14}],45:[function(x,J,E){(function(C){(function(){function r(e,v){A(e,v);f(e)}function f(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||
e.emit("close")}function A(e,v){e.emit("error",v)}J.exports={destroy:function(e,v){var m=this,n=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||n)return v?v(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(A,this,e)):C.nextTick(A,this,e)),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(e||null,function(k){!v&&
k?m._writableState?m._writableState.errorEmitted?C.nextTick(f,m):(m._writableState.errorEmitted=!0,C.nextTick(r,m,k)):C.nextTick(r,m,k):v?(C.nextTick(f,m),v(k)):C.nextTick(f,m)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=
!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,v){var m=e._readableState,n=e._writableState;m&&m.autoDestroy||n&&n.autoDestroy?e.destroy(v):e.emit("error",v)}}}).call(this)}).call(this,x("_process"))},{_process:27}],46:[function(x,J,E){function C(e){var v=!1;return function(){if(!v){v=!0;for(var m=arguments.length,n=Array(m),k=0;k<m;k++)n[k]=arguments[k];e.apply(this,n)}}}function r(){}function f(e,v,m){if("function"===
typeof v)return f(e,null,v);v||={};m=C(m||r);var n=v.readable||!1!==v.readable&&e.readable,k=v.writable||!1!==v.writable&&e.writable,l=function(){e.writable||D()},g=e._writableState&&e._writableState.finished,D=function(){k=!1;g=!0;n||m.call(e)},t=e._readableState&&e._readableState.endEmitted,B=function(){n=!1;t=!0;k||m.call(e)},p=function(w){m.call(e,w)},z=function(){var w;if(n&&!t)return e._readableState&&e._readableState.ended||(w=new A),m.call(e,w);if(k&&!g)return e._writableState&&e._writableState.ended||
(w=new A),m.call(e,w)},q=function(){e.req.on("finish",D)};if(e.setHeader&&"function"===typeof e.abort)if(e.on("complete",D),e.on("abort",z),e.req)q();else e.on("request",q);else k&&!e._writableState&&(e.on("end",l),e.on("close",l));e.on("end",B);e.on("finish",D);if(!1!==v.error)e.on("error",p);e.on("close",z);return function(){e.removeListener("complete",D);e.removeListener("abort",z);e.removeListener("request",q);e.req&&e.req.removeListener("finish",D);e.removeListener("end",l);e.removeListener("close",
l);e.removeListener("finish",D);e.removeListener("end",B);e.removeListener("error",p);e.removeListener("close",z)}}var A=x("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;J.exports=f},{"../../../errors":37}],47:[function(x,J,E){J.exports=function(){throw Error("Readable.from is not available in the browser");}},{}],48:[function(x,J,E){function C(k){var l=!1;return function(){l||(l=!0,k.apply(void 0,arguments))}}function r(k){if(k)throw k;}function f(k,l,g,D){D=C(D);var t=!1;k.on("close",function(){t=
!0});void 0===v&&(v=x("./end-of-stream"));v(k,{readable:l,writable:g},function(p){if(p)return D(p);t=!0;D()});var B=!1;return function(p){if(!t&&!B){B=!0;if(k.setHeader&&"function"===typeof k.abort)return k.abort();if("function"===typeof k.destroy)return k.destroy();D(p||new n("pipe"))}}}function A(k){k()}function e(k,l){return k.pipe(l)}var v;E=x("../../../errors").codes;var m=E.ERR_MISSING_ARGS,n=E.ERR_STREAM_DESTROYED;J.exports=function(){for(var k=arguments.length,l=Array(k),g=0;g<k;g++)l[g]=
arguments[g];var D=l.length?"function"!==typeof l[l.length-1]?r:l.pop():r;Array.isArray(l[0])&&(l=l[0]);if(2>l.length)throw new m("streams");var t,B=l.map(function(p,z){var q=z<l.length-1;return f(p,q,0<z,function(w){t||=w;w&&B.forEach(A);q||(B.forEach(A),D(t))})});return l.reduce(e)}},{"../../../errors":37,"./end-of-stream":46}],49:[function(x,J,E){var C=x("../../../errors").codes.ERR_INVALID_OPT_VALUE;J.exports={getHighWaterMark:function(r,f,A,e){f=null!=f.highWaterMark?f.highWaterMark:e?f[A]:null;
if(null!=f){if(!isFinite(f)||Math.floor(f)!==f||0>f)throw new C(e?A:"highWaterMark",f);return Math.floor(f)}return r.objectMode?16:16384}}},{"../../../errors":37}],50:[function(x,J,E){J.exports=x("events").EventEmitter},{events:17}],51:[function(x,J,E){(function(C){(function(){var r=x("./lib/request"),f=x("./lib/response"),A=x("xtend"),e=x("builtin-status-codes"),v=x("url");E.request=function(m,n){m="string"===typeof m?v.parse(m):A(m);var k=-1===C.location.protocol.search(/^https?:$/)?"http:":"";
k=m.protocol||k;var l=m.hostname||m.host,g=m.port,D=m.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]");m.url=(l?k+"//"+l:"")+(g?":"+g:"")+D;m.method=(m.method||"GET").toUpperCase();m.headers=m.headers||{};m=new r(m);if(n)m.on("response",n);return m};E.get=function(m,n){m=E.request(m,n);m.end();return m};E.ClientRequest=r;E.IncomingMessage=f.IncomingMessage;E.Agent=function(){};E.Agent.defaultMaxSockets=4;E.globalAgent=new E.Agent;E.STATUS_CODES=e;E.METHODS="CHECKOUT CONNECT COPY DELETE GET HEAD LOCK M-SEARCH MERGE MKACTIVITY MKCOL MOVE NOTIFY OPTIONS PATCH POST PROPFIND PROPPATCH PURGE PUT REPORT SEARCH SUBSCRIBE TRACE UNLOCK UNSUBSCRIBE".split(" ")}).call(this)}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./lib/request":53,"./lib/response":54,"builtin-status-codes":16,url:72,xtend:76}],52:[function(x,J,E){(function(C){(function(){function r(){if(void 0!==e)return e;if(C.XMLHttpRequest){e=new C.XMLHttpRequest;try{e.open("GET",C.XDomainRequest?"/":"https://example.com")}catch(v){e=null}}else e=null;return e}function f(v){var m=r();if(!m)return!1;try{return m.responseType=v,m.responseType===v}catch(n){}return!1}
function A(v){return"function"===typeof v}E.fetch=A(C.fetch)&&A(C.ReadableStream);E.writableStream=A(C.WritableStream);E.abortController=A(C.AbortController);E.arraybuffer=E.fetch||f("arraybuffer");E.msstream=!E.fetch&&f("ms-stream");E.mozchunkedarraybuffer=!E.fetch&&f("moz-chunked-arraybuffer");E.overrideMimeType=E.fetch||(r()?A(r().overrideMimeType):!1);var e=null}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],
53:[function(x,J,E){(function(C,r,f){(function(){var A=x("./capability"),e=x("inherits"),v=x("./response"),m=x("readable-stream"),n=v.IncomingMessage,k=v.readyStates;v=J.exports=function(g){var D=this;m.Writable.call(D);D._opts=g;D._body=[];D._headers={};g.auth&&D.setHeader("Authorization","Basic "+f.from(g.auth).toString("base64"));Object.keys(g.headers).forEach(function(p){D.setHeader(p,g.headers[p])});var t=!0;if("disable-fetch"===g.mode||"requestTimeout"in g&&!A.abortController){t=!1;var B=!0}else if("prefer-streaming"===
g.mode)B=!1;else if("allow-wrong-content-type"===g.mode)B=!A.overrideMimeType;else{if(g.mode&&"default"!==g.mode&&"prefer-fast"!==g.mode)throw Error("Invalid value for opts.mode");B=!0}D._mode=A.fetch&&t?"fetch":A.mozchunkedarraybuffer?"moz-chunked-arraybuffer":A.msstream?"ms-stream":A.arraybuffer&&B?"arraybuffer":"text";D._fetchTimer=null;D._socketTimeout=null;D._socketTimer=null;D.on("finish",function(){D._onFinish()})};e(v,m.Writable);v.prototype.setHeader=function(g,D){var t=g.toLowerCase();-1===
l.indexOf(t)&&(this._headers[t]={name:g,value:D})};v.prototype.getHeader=function(g){return(g=this._headers[g.toLowerCase()])?g.value:null};v.prototype.removeHeader=function(g){delete this._headers[g.toLowerCase()]};v.prototype._onFinish=function(){var g=this;if(!g._destroyed){var D=g._opts;"timeout"in D&&0!==D.timeout&&g.setTimeout(D.timeout);var t=g._headers,B=null;"GET"!==D.method&&"HEAD"!==D.method&&(B=new Blob(g._body,{type:(t["content-type"]||{}).value||""}));var p=[];Object.keys(t).forEach(function(G){var H=
t[G].name;G=t[G].value;Array.isArray(G)?G.forEach(function(L){p.push([H,L])}):p.push([H,G])});if("fetch"===g._mode){var z=null;if(A.abortController){var q=new AbortController;z=q.signal;g._fetchAbortController=q;"requestTimeout"in D&&0!==D.requestTimeout&&(g._fetchTimer=r.setTimeout(function(){g.emit("requestTimeout");g._fetchAbortController&&g._fetchAbortController.abort()},D.requestTimeout))}r.fetch(g._opts.url,{method:g._opts.method,headers:p,body:B||void 0,mode:"cors",credentials:D.withCredentials?
"include":"same-origin",signal:z}).then(function(G){g._fetchResponse=G;g._resetTimers(!1);g._connect()},function(G){g._resetTimers(!0);g._destroyed||g.emit("error",G)})}else{var w=g._xhr=new r.XMLHttpRequest;try{w.open(g._opts.method,g._opts.url,!0)}catch(G){C.nextTick(function(){g.emit("error",G)});return}"responseType"in w&&(w.responseType=g._mode);"withCredentials"in w&&(w.withCredentials=!!D.withCredentials);"text"===g._mode&&"overrideMimeType"in w&&w.overrideMimeType("text/plain; charset=x-user-defined");
"requestTimeout"in D&&(w.timeout=D.requestTimeout,w.ontimeout=function(){g.emit("requestTimeout")});p.forEach(function(G){w.setRequestHeader(G[0],G[1])});g._response=null;w.onreadystatechange=function(){switch(w.readyState){case k.LOADING:case k.DONE:g._onXHRProgress()}};"moz-chunked-arraybuffer"===g._mode&&(w.onprogress=function(){g._onXHRProgress()});w.onerror=function(){g._destroyed||(g._resetTimers(!0),g.emit("error",Error("XHR error")))};try{w.send(B)}catch(G){C.nextTick(function(){g.emit("error",
G)})}}}};v.prototype._onXHRProgress=function(){this._resetTimers(!1);try{var g=this._xhr.status;var D=null!==g&&0!==g}catch(t){D=!1}D&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))};v.prototype._connect=function(){var g=this;g._destroyed||(g._response=new n(g._xhr,g._fetchResponse,g._mode,g._resetTimers.bind(g)),g._response.on("error",function(D){g.emit("error",D)}),g.emit("response",g._response))};v.prototype._write=function(g,D,t){this._body.push(g);
t()};v.prototype._resetTimers=function(g){var D=this;r.clearTimeout(D._socketTimer);D._socketTimer=null;g?(r.clearTimeout(D._fetchTimer),D._fetchTimer=null):D._socketTimeout&&(D._socketTimer=r.setTimeout(function(){D.emit("timeout")},D._socketTimeout))};v.prototype.abort=v.prototype.destroy=function(g){this._destroyed=!0;this._resetTimers(!0);this._response&&(this._response._destroyed=!0);this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort();g&&this.emit("error",
g)};v.prototype.end=function(g,D,t){"function"===typeof g&&(t=g,g=void 0);m.Writable.prototype.end.call(this,g,D,t)};v.prototype.setTimeout=function(g,D){if(D)this.once("timeout",D);this._socketTimeout=g;this._resetTimers(!1)};v.prototype.flushHeaders=function(){};v.prototype.setNoDelay=function(){};v.prototype.setSocketKeepAlive=function(){};var l="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 date dnt expect host keep-alive origin referer te trailer transfer-encoding upgrade via".split(" ")}).call(this)}).call(this,
x("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},x("buffer").Buffer)},{"./capability":52,"./response":54,_process:27,buffer:15,inherits:20,"readable-stream":69}],54:[function(x,J,E){(function(C,r,f){(function(){var A=x("./capability"),e=x("inherits"),v=x("readable-stream"),m=E.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n=E.IncomingMessage=function(k,l,g,D){var t=this;v.Readable.call(t);t._mode=g;t.headers=
{};t.rawHeaders=[];t.trailers={};t.rawTrailers=[];t.on("end",function(){C.nextTick(function(){t.emit("close")})});if("fetch"===g){t._fetchResponse=l;t.url=l.url;t.statusCode=l.status;t.statusMessage=l.statusText;l.headers.forEach(function(z,q){t.headers[q.toLowerCase()]=z;t.rawHeaders.push(q,z)});if(A.writableStream){k=new WritableStream({write:function(z){D(!1);return new Promise(function(q,w){t._destroyed?w():t.push(f.from(z))?q():t._resumeFetch=q})},close:function(){D(!0);t._destroyed||t.push(null)},
abort:function(z){D(!0);t._destroyed||t.emit("error",z)}});try{l.body.pipeTo(k).catch(function(z){D(!0);t._destroyed||t.emit("error",z)});return}catch(z){}}var B=l.body.getReader();function p(){B.read().then(function(z){t._destroyed||(D(z.done),z.done?t.push(null):(t.push(f.from(z.value)),p()))}).catch(function(z){D(!0);t._destroyed||t.emit("error",z)})}p()}else if(t._xhr=k,t._pos=0,t.url=k.responseURL,t.statusCode=k.status,t.statusMessage=k.statusText,k.getAllResponseHeaders().split(/\r?\n/).forEach(function(p){if(p=
p.match(/^([^:]+):\s*(.*)/)){var z=p[1].toLowerCase();"set-cookie"===z?(void 0===t.headers[z]&&(t.headers[z]=[]),t.headers[z].push(p[2])):t.headers[z]=void 0!==t.headers[z]?t.headers[z]+(", "+p[2]):p[2];t.rawHeaders.push(p[1],p[2])}}),t._charset="x-user-defined",!A.overrideMimeType){if(l=t.rawHeaders["mime-type"])if(l=l.match(/;\s*charset=([^;])(;|$)/))t._charset=l[1].toLowerCase();t._charset||(t._charset="utf-8")}};e(n,v.Readable);n.prototype._read=function(){var k=this._resumeFetch;k&&(this._resumeFetch=
null,k())};n.prototype._onXHRProgress=function(k){var l=this,g=l._xhr,D=null;switch(l._mode){case "text":D=g.responseText;if(D.length>l._pos){g=D.substr(l._pos);if("x-user-defined"===l._charset){for(var t=f.alloc(g.length),B=0;B<g.length;B++)t[B]=g.charCodeAt(B)&255;l.push(t)}else l.push(g,l._charset);l._pos=D.length}break;case "arraybuffer":if(g.readyState!==m.DONE||!g.response)break;D=g.response;l.push(f.from(new Uint8Array(D)));break;case "moz-chunked-arraybuffer":D=g.response;if(g.readyState!==
m.LOADING||!D)break;l.push(f.from(new Uint8Array(D)));break;case "ms-stream":if(D=g.response,g.readyState===m.LOADING){var p=new r.MSStreamReader;p.onprogress=function(){p.result.byteLength>l._pos&&(l.push(f.from(new Uint8Array(p.result.slice(l._pos)))),l._pos=p.result.byteLength)};p.onload=function(){k(!0);l.push(null)};p.readAsArrayBuffer(D)}}l._xhr.readyState===m.DONE&&"ms-stream"!==l._mode&&(k(!0),l.push(null))}}).call(this)}).call(this,x("_process"),"undefined"!==typeof global?global:"undefined"!==
typeof self?self:"undefined"!==typeof window?window:{},x("buffer").Buffer)},{"./capability":52,_process:27,buffer:15,inherits:20,"readable-stream":69}],55:[function(x,J,E){arguments[4][37][0].apply(E,arguments)},{dup:37}],56:[function(x,J,E){arguments[4][38][0].apply(E,arguments)},{"./_stream_readable":58,"./_stream_writable":60,_process:27,dup:38,inherits:20}],57:[function(x,J,E){arguments[4][39][0].apply(E,arguments)},{"./_stream_transform":59,dup:39,inherits:20}],58:[function(x,J,E){arguments[4][40][0].apply(E,
arguments)},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:27,buffer:15,dup:40,events:17,inherits:20,"string_decoder/":70,util:14}],59:[function(x,J,E){arguments[4][41][0].apply(E,arguments)},{"../errors":55,"./_stream_duplex":56,dup:41,inherits:20}],60:[function(x,J,E){arguments[4][42][0].apply(E,arguments)},
{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:27,buffer:15,dup:42,inherits:20,"util-deprecate":74}],61:[function(x,J,E){arguments[4][43][0].apply(E,arguments)},{"./end-of-stream":64,_process:27,dup:43}],62:[function(x,J,E){arguments[4][44][0].apply(E,arguments)},{buffer:15,dup:44,util:14}],63:[function(x,J,E){arguments[4][45][0].apply(E,arguments)},{_process:27,dup:45}],64:[function(x,J,E){arguments[4][46][0].apply(E,
arguments)},{"../../../errors":55,dup:46}],65:[function(x,J,E){arguments[4][47][0].apply(E,arguments)},{dup:47}],66:[function(x,J,E){arguments[4][48][0].apply(E,arguments)},{"../../../errors":55,"./end-of-stream":64,dup:48}],67:[function(x,J,E){arguments[4][49][0].apply(E,arguments)},{"../../../errors":55,dup:49}],68:[function(x,J,E){arguments[4][50][0].apply(E,arguments)},{dup:50,events:17}],69:[function(x,J,E){E=J.exports=x("./lib/_stream_readable.js");E.Stream=E;E.Readable=E;E.Writable=x("./lib/_stream_writable.js");
E.Duplex=x("./lib/_stream_duplex.js");E.Transform=x("./lib/_stream_transform.js");E.PassThrough=x("./lib/_stream_passthrough.js");E.finished=x("./lib/internal/streams/end-of-stream.js");E.pipeline=x("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(x,J,E){function C(B){if(!B)return"utf8";
for(var p;;)switch(B){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return B;default:if(p)return;B=(""+B).toLowerCase();p=!0}}function r(B){var p=C(B);if("string"!==typeof p&&(D.isEncoding===t||!t(B)))throw Error("Unknown encoding: "+B);this.encoding=p||B;switch(this.encoding){case "utf16le":this.text=v;this.end=m;B=4;break;case "utf8":this.fillLast=e;B=
4;break;case "base64":this.text=n;this.end=k;B=3;break;default:this.write=l;this.end=g;return}this.lastTotal=this.lastNeed=0;this.lastChar=D.allocUnsafe(B)}function f(B){return 127>=B?0:6===B>>5?2:14===B>>4?3:30===B>>3?4:2===B>>6?-1:-2}function A(B,p,z){var q=p.length-1;if(q<z)return 0;var w=f(p[q]);if(0<=w)return 0<w&&(B.lastNeed=w-1),w;if(--q<z||-2===w)return 0;w=f(p[q]);if(0<=w)return 0<w&&(B.lastNeed=w-2),w;if(--q<z||-2===w)return 0;w=f(p[q]);return 0<=w?(0<w&&(2===w?w=0:B.lastNeed=w-3),w):0}
function e(B){var p=this.lastTotal-this.lastNeed;a:if(128!==(B[0]&192)){this.lastNeed=0;var z="\ufffd"}else{if(1<this.lastNeed&&1<B.length){if(128!==(B[1]&192)){this.lastNeed=1;z="\ufffd";break a}if(2<this.lastNeed&&2<B.length&&128!==(B[2]&192)){this.lastNeed=2;z="\ufffd";break a}}z=void 0}if(void 0!==z)return z;if(this.lastNeed<=B.length)return B.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);B.copy(this.lastChar,p,0,B.length);this.lastNeed-=B.length}
function v(B,p){if(0===(B.length-p)%2){if(p=B.toString("utf16le",p)){var z=p.charCodeAt(p.length-1);if(55296<=z&&56319>=z)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=B[B.length-2],this.lastChar[1]=B[B.length-1],p.slice(0,-1)}return p}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=B[B.length-1];return B.toString("utf16le",p,B.length-1)}function m(B){B=B&&B.length?this.write(B):"";return this.lastNeed?B+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):B}function n(B,
p){var z=(B.length-p)%3;if(0===z)return B.toString("base64",p);this.lastNeed=3-z;this.lastTotal=3;1===z?this.lastChar[0]=B[B.length-1]:(this.lastChar[0]=B[B.length-2],this.lastChar[1]=B[B.length-1]);return B.toString("base64",p,B.length-z)}function k(B){B=B&&B.length?this.write(B):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function l(B){return B.toString(this.encoding)}function g(B){return B&&B.length?this.write(B):""}var D=x("safe-buffer").Buffer,t=D.isEncoding||
function(B){B=""+B;switch(B&&B.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};E.StringDecoder=r;r.prototype.write=function(B){if(0===B.length)return"";if(this.lastNeed){var p=this.fillLast(B);if(void 0===p)return"";var z=this.lastNeed;this.lastNeed=0}else z=0;return z<B.length?p?p+this.text(B,z):this.text(B,z):p||""};r.prototype.end=function(B){B=B&&B.length?
this.write(B):"";return this.lastNeed?B+"\ufffd":B};r.prototype.text=function(B,p){var z=A(this,B,p);if(!this.lastNeed)return B.toString("utf8",p);this.lastTotal=z;z=B.length-(z-this.lastNeed);B.copy(this.lastChar,0,z);return B.toString("utf8",p,z)};r.prototype.fillLast=function(B){if(this.lastNeed<=B.length)return B.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);B.copy(this.lastChar,this.lastTotal-this.lastNeed,0,B.length);
this.lastNeed-=B.length}},{"safe-buffer":34}],71:[function(x,J,E){(function(C,r){(function(){function f(k,l){this._id=k;this._clearFn=l}var A=x("process/browser.js").nextTick,e=Function.prototype.apply,v=Array.prototype.slice,m={},n=0;E.setTimeout=function(){return new f(e.call(setTimeout,window,arguments),clearTimeout)};E.setInterval=function(){return new f(e.call(setInterval,window,arguments),clearInterval)};E.clearTimeout=E.clearInterval=function(k){k.close()};f.prototype.unref=f.prototype.ref=
function(){};f.prototype.close=function(){this._clearFn.call(window,this._id)};E.enroll=function(k,l){clearTimeout(k._idleTimeoutId);k._idleTimeout=l};E.unenroll=function(k){clearTimeout(k._idleTimeoutId);k._idleTimeout=-1};E._unrefActive=E.active=function(k){clearTimeout(k._idleTimeoutId);var l=k._idleTimeout;0<=l&&(k._idleTimeoutId=setTimeout(function(){k._onTimeout&&k._onTimeout()},l))};E.setImmediate="function"===typeof C?C:function(k){var l=n++,g=2>arguments.length?!1:v.call(arguments,1);m[l]=
!0;A(function(){m[l]&&(g?k.apply(null,g):k.call(null),E.clearImmediate(l))});return l};E.clearImmediate="function"===typeof r?r:function(k){delete m[k]}}).call(this)}).call(this,x("timers").setImmediate,x("timers").clearImmediate)},{"process/browser.js":27,timers:71}],72:[function(x,J,E){function C(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function r(q,w,G){if(q&&A.isObject(q)&&q instanceof C)return q;
var H=new C;H.parse(q,w,G);return H}var f=x("punycode"),A=x("./util");E.parse=r;E.resolve=function(q,w){return r(q,!1,!0).resolve(w)};E.resolveObject=function(q,w){return q?r(q,!1,!0).resolveObject(w):w};E.format=function(q){A.isString(q)&&(q=r(q));return q instanceof C?q.format():C.prototype.format.call(q)};E.Url=C;var e=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;J="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var n=["'"].concat(J),k=["%","/","?",";","#"].concat(n),
l=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,D=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,t={javascript:!0,"javascript:":!0},B={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=x("querystring");C.prototype.parse=function(q,w,G){if(!A.isString(q))throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var H=q.indexOf("?");H=-1!==H&&H<q.indexOf("#")?"?":"#";q=q.split(H);q[0]=q[0].replace(/\\/g,"/");q=q.join(H);
H=q.trim();if(!G&&1===q.split("#").length&&(q=m.exec(H)))return this.href=this.path=H,this.pathname=q[1],q[2]?(this.search=q[2],this.query=w?z.parse(this.search.substr(1)):this.search.substr(1)):w&&(this.search="",this.query={}),this;if(q=e.exec(H)){q=q[0];var L=q.toLowerCase();this.protocol=L;H=H.substr(q.length)}if(G||q||H.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===H.substr(0,2);!I||q&&B[q]||(H=H.substr(2),this.slashes=!0)}if(!B[q]&&(I||q&&!p[q])){I=-1;for(G=0;G<l.length;G++)q=H.indexOf(l[G]),
-1!==q&&(-1===I||q<I)&&(I=q);I=-1===I?H.lastIndexOf("@"):H.lastIndexOf("@",I);-1!==I&&(G=H.slice(0,I),H=H.slice(I+1),this.auth=decodeURIComponent(G));I=-1;for(G=0;G<k.length;G++)q=H.indexOf(k[G]),-1!==q&&(-1===I||q<I)&&(I=q);-1===I&&(I=H.length);this.host=H.slice(0,I);H=H.slice(I);this.parseHost();this.hostname=this.hostname||"";I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I){var N=this.hostname.split(/\./);G=0;for(q=N.length;G<q;G++){var M=N[G];if(M&&!M.match(g)){for(var T=
"",S=0,O=M.length;S<O;S++)T=127<M.charCodeAt(S)?T+"x":T+M[S];if(!T.match(g)){q=N.slice(0,G);G=N.slice(G+1);if(M=M.match(D))q.push(M[1]),G.unshift(M[2]);G.length&&(H="/"+G.join(".")+H);this.hostname=q.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();I||(this.hostname=f.toASCII(this.hostname));G=this.port?":"+this.port:"";this.host=(this.hostname||"")+G;this.href+=this.host;I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==H[0]&&(H="/"+H))}if(!t[L])for(G=
0,q=n.length;G<q;G++)I=n[G],-1!==H.indexOf(I)&&(M=encodeURIComponent(I),M===I&&(M=escape(I)),H=H.split(I).join(M));G=H.indexOf("#");-1!==G&&(this.hash=H.substr(G),H=H.slice(0,G));G=H.indexOf("?");-1!==G?(this.search=H.substr(G),this.query=H.substr(G+1),w&&(this.query=z.parse(this.query)),H=H.slice(0,G)):w&&(this.search="",this.query={});H&&(this.pathname=H);p[L]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)G=this.pathname||"",this.path=G+(this.search||"");this.href=
this.format();return this};C.prototype.format=function(){var q=this.auth||"";q&&(q=encodeURIComponent(q),q=q.replace(/%3A/i,":"),q+="@");var w=this.protocol||"",G=this.pathname||"",H=this.hash||"",L=!1,I="";this.host?L=q+this.host:this.hostname&&(L=q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(L+=":"+this.port));this.query&&A.isObject(this.query)&&Object.keys(this.query).length&&(I=z.stringify(this.query));q=this.search||I&&"?"+I||"";w&&":"!==w.substr(-1)&&(w+=
":");this.slashes||(!w||p[w])&&!1!==L?(L="//"+(L||""),G&&"/"!==G.charAt(0)&&(G="/"+G)):L||="";H&&"#"!==H.charAt(0)&&(H="#"+H);q&&"?"!==q.charAt(0)&&(q="?"+q);G=G.replace(/[?#]/g,function(N){return encodeURIComponent(N)});q=q.replace("#","%23");return w+L+G+q+H};C.prototype.resolve=function(q){return this.resolveObject(r(q,!1,!0)).format()};C.prototype.resolveObject=function(q){if(A.isString(q)){var w=new C;w.parse(q,!1,!0);q=w}w=new C;for(var G=Object.keys(this),H=0;H<G.length;H++){var L=G[H];w[L]=
this[L]}w.hash=q.hash;if(""===q.href)return w.href=w.format(),w;if(q.slashes&&!q.protocol){G=Object.keys(q);for(H=0;H<G.length;H++)L=G[H],"protocol"!==L&&(w[L]=q[L]);p[w.protocol]&&w.hostname&&!w.pathname&&(w.path=w.pathname="/");w.href=w.format();return w}if(q.protocol&&q.protocol!==w.protocol){if(!p[q.protocol]){G=Object.keys(q);for(H=0;H<G.length;H++)L=G[H],w[L]=q[L];w.href=w.format();return w}w.protocol=q.protocol;if(q.host||B[q.protocol])w.pathname=q.pathname;else{for(var I=(q.pathname||"").split("/");I.length&&
!(q.host=I.shift()););q.host||(q.host="");q.hostname||(q.hostname="");""!==I[0]&&I.unshift("");2>I.length&&I.unshift("");w.pathname=I.join("/")}w.search=q.search;w.query=q.query;w.host=q.host||"";w.auth=q.auth;w.hostname=q.hostname||q.host;w.port=q.port;if(w.pathname||w.search)w.path=(w.pathname||"")+(w.search||"");w.slashes=w.slashes||q.slashes;w.href=w.format();return w}G=w.pathname&&"/"===w.pathname.charAt(0);var N=q.host||q.pathname&&"/"===q.pathname.charAt(0),M=G=N||G||w.host&&q.pathname;H=w.pathname&&
w.pathname.split("/")||[];I=q.pathname&&q.pathname.split("/")||[];if(L=w.protocol&&!p[w.protocol])w.hostname="",w.port=null,w.host&&(""===H[0]?H[0]=w.host:H.unshift(w.host)),w.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===I[0]?I[0]=q.host:I.unshift(q.host)),q.host=null),G=G&&(""===I[0]||""===H[0]);if(N)w.host=q.host||""===q.host?q.host:w.host,w.hostname=q.hostname||""===q.hostname?q.hostname:w.hostname,w.search=q.search,w.query=q.query,H=I;else if(I.length)H||=[],H.pop(),H=H.concat(I),
w.search=q.search,w.query=q.query;else if(!A.isNullOrUndefined(q.search))return L&&(w.hostname=w.host=H.shift(),L=w.host&&0<w.host.indexOf("@")?w.host.split("@"):!1)&&(w.auth=L.shift(),w.host=w.hostname=L.shift()),w.search=q.search,w.query=q.query,A.isNull(w.pathname)&&A.isNull(w.search)||(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w;if(!H.length)return w.pathname=null,w.path=w.search?"/"+w.search:null,w.href=w.format(),w;N=H.slice(-1)[0];I=(w.host||q.host||1<H.length)&&
("."===N||".."===N)||""===N;for(var T=0,S=H.length;0<=S;S--)N=H[S],"."===N?H.splice(S,1):".."===N?(H.splice(S,1),T++):T&&(H.splice(S,1),T--);if(!G&&!M)for(;T--;T)H.unshift("..");!G||""===H[0]||H[0]&&"/"===H[0].charAt(0)||H.unshift("");I&&"/"!==H.join("/").substr(-1)&&H.push("");M=""===H[0]||H[0]&&"/"===H[0].charAt(0);L&&(w.hostname=w.host=M?"":H.length?H.shift():"",L=w.host&&0<w.host.indexOf("@")?w.host.split("@"):!1)&&(w.auth=L.shift(),w.host=w.hostname=L.shift());(G=G||w.host&&H.length)&&!M&&H.unshift("");
H.length?w.pathname=H.join("/"):(w.pathname=null,w.path=null);A.isNull(w.pathname)&&A.isNull(w.search)||(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:""));w.auth=q.auth||w.auth;w.slashes=w.slashes||q.slashes;w.href=w.format();return w};C.prototype.parseHost=function(){var q=this.host,w=v.exec(q);w&&(w=w[0],":"!==w&&(this.port=w.substr(1)),q=q.substr(0,q.length-w.length));q&&(this.hostname=q)}},{"./util":73,punycode:28,querystring:31}],73:[function(x,J,E){J.exports={isString:function(C){return"string"===
typeof C},isObject:function(C){return"object"===typeof C&&null!==C},isNull:function(C){return null===C},isNullOrUndefined:function(C){return null==C}}},{}],74:[function(x,J,E){(function(C){(function(){function r(f){try{if(!C.localStorage)return!1}catch(A){return!1}f=C.localStorage[f];return null==f?!1:"true"===String(f).toLowerCase()}J.exports=function(f,A){if(r("noDeprecation"))return f;var e=!1;return function(){if(!e){if(r("throwDeprecation"))throw Error(A);r("traceDeprecation")?console.trace(A):
console.warn(A);e=!0}return f.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],75:[function(x,J,E){function C(){}var r=function(m){if(Object.keys)return Object.keys(m);var n=[],k;for(k in m)n.push(k);return n},f=function(m,n){if(m.forEach)return m.forEach(n);for(var k=0;k<m.length;k++)n(m[k],k,m)},A=function(){try{return Object.defineProperty({},"_",{}),function(m,n,k){Object.defineProperty(m,
n,{writable:!0,enumerable:!1,configurable:!0,value:k})}}catch(m){return function(n,k,l){n[k]=l}}}(),e="Array Boolean Date Error EvalError Function Infinity JSON Math NaN Number Object RangeError ReferenceError RegExp String SyntaxError TypeError URIError decodeURI decodeURIComponent encodeURI encodeURIComponent escape eval isFinite isNaN parseFloat parseInt undefined unescape".split(" ");C.prototype={};var v=E.Script=function(m){if(!(this instanceof v))return new v(m);this.code=m};v.prototype.runInContext=
function(m){if(!(m instanceof C))throw new TypeError("needs a 'context' argument.");var n=document.createElement("iframe");n.style||(n.style={});n.style.display="none";document.body.appendChild(n);var k=n.contentWindow,l=k.eval,g=k.execScript;!l&&g&&(g.call(k,"null"),l=k.eval);f(r(m),function(t){k[t]=m[t]});f(e,function(t){m[t]&&(k[t]=m[t])});var D=r(k);l=l.call(k,this.code);f(r(k),function(t){var B;if(!(B=t in m)){a:if(D.indexOf)B=D.indexOf(t);else{for(B=0;B<D.length;B++)if(D[B]===t)break a;B=-1}B=
-1===B}B&&(m[t]=k[t])});f(e,function(t){t in m||A(m,t,k[t])});document.body.removeChild(n);return l};v.prototype.runInThisContext=function(){return eval(this.code)};v.prototype.runInNewContext=function(m){var n=v.createContext(m),k=this.runInContext(n);m&&f(r(n),function(l){m[l]=n[l]});return k};f(r(v.prototype),function(m){E[m]=v[m]=function(n){var k=v(n);return k[m].apply(k,[].slice.call(arguments,1))}});E.isContext=function(m){return m instanceof C};E.createScript=function(m){return E.Script(m)};
E.createContext=v.createContext=function(m){var n=new C;"object"===typeof m&&f(r(m),function(k){n[k]=m[k]});return n}},{}],76:[function(x,J,E){J.exports=function(){for(var r={},f=0;f<arguments.length;f++){var A=arguments[f],e;for(e in A)C.call(A,e)&&(r[e]=A[e])}return r};var C=Object.prototype.hasOwnProperty},{}],77:[function(x,J,E){const {setTimeout:C}=x("timers");J.exports=class extends Map{constructor(r=1E3){super();this.timeout=r}set(r,f){this.has(r)&&clearTimeout(super.get(r).tid);super.set(r,
{tid:C(this.delete.bind(this,r),this.timeout).unref(),value:f})}get(r){return(r=super.get(r))?r.value:null}getOrSet(r,f){if(this.has(r))return this.get(r);let A=f();this.set(r,A);(async()=>{try{await A}catch(e){this.delete(r)}})();return A}delete(r){let f=super.get(r);f&&(clearTimeout(f.tid),super.delete(r))}clear(){for(let r of this.values())clearTimeout(r.tid);super.clear()}}},{timers:71}],78:[function(x,J,E){const C=x("./utils"),r=x("./formats"),f="mp4a mp3 vorbis aac opus flac".split(" "),A="mp4v;avc1;Sorenson H.283;MPEG-4 Visual;VP8;VP9;H.264".split(";"),
e=t=>t.bitrate||0,v=t=>A.findIndex(B=>t.codecs&&t.codecs.includes(B)),m=t=>t.audioBitrate||0,n=t=>f.findIndex(B=>t.codecs&&t.codecs.includes(B)),k=(t,B,p)=>{let z=0;for(let q of p)if(z=q(B)-q(t),0!==z)break;return z},l=(t,B)=>k(t,B,[p=>parseInt(p.qualityLabel),e,v]),g=(t,B)=>k(t,B,[m,n]);E.sortFormats=(t,B)=>k(t,B,[p=>+!!p.isHLS,p=>+!!p.isDashMPD,p=>+(0<p.contentLength),p=>+(p.hasVideo&&p.hasAudio),p=>+p.hasVideo,p=>parseInt(p.qualityLabel)||0,e,m,v,n]);E.chooseFormat=(t,B)=>{if("object"===typeof B.format){if(!B.format.url)throw Error("Invalid format given, did you use `ytdl.getInfo()`?");
return B.format}B.filter&&(t=E.filterFormats(t,B.filter));t.some(p=>p.isHLS)&&(t=t.filter(p=>p.isHLS||!p.isLive));B=B.quality||"highest";switch(B){case "highest":t=t[0];break;case "lowest":t=t[t.length-1];break;case "highestaudio":t=E.filterFormats(t,"audio");t.sort(g);const p=t[0];t=t.filter(G=>0===k(p,G,[m,n]));const z=t.map(G=>parseInt(G.qualityLabel)||0).sort((G,H)=>G-H)[0];t=t.find(G=>(parseInt(G.qualityLabel)||0)===z);break;case "lowestaudio":t=E.filterFormats(t,"audio");t.sort(g);t=t[t.length-
1];break;case "highestvideo":t=E.filterFormats(t,"video");t.sort(l);const q=t[0];t=t.filter(G=>0===l(q,G));const w=t.map(G=>G.audioBitrate||0).sort((G,H)=>G-H)[0];t=t.find(G=>(G.audioBitrate||0)===w);break;case "lowestvideo":t=E.filterFormats(t,"video");t.sort(l);t=t[t.length-1];break;default:t=D(B,t)}if(!t)throw Error(`No such format found: ${B}`);return t};const D=(t,B)=>{let p=z=>B.find(q=>`${q.itag}`===`${z}`);return Array.isArray(t)?p(t.find(z=>p(z))):p(t)};E.filterFormats=(t,B)=>{let p;switch(B){case "videoandaudio":case "audioandvideo":p=
z=>z.hasVideo&&z.hasAudio;break;case "video":p=z=>z.hasVideo;break;case "videoonly":p=z=>z.hasVideo&&!z.hasAudio;break;case "audio":p=z=>z.hasAudio;break;case "audioonly":p=z=>!z.hasVideo&&z.hasAudio;break;default:if("function"===typeof B)p=B;else throw TypeError(`Given filter (${B}) is not supported`);}return t.filter(z=>!!z.url&&p(z))};E.addFormatMeta=t=>{t=Object.assign({},r[t.itag],t);t.hasVideo=!!t.qualityLabel;t.hasAudio=!!t.audioBitrate;t.container=t.mimeType?t.mimeType.split(";")[0].split("/")[1]:
null;t.codecs=t.mimeType?C.between(t.mimeType,'codecs="','"'):null;t.videoCodec=t.hasVideo&&t.codecs?t.codecs.split(", ")[0]:null;t.audioCodec=t.hasAudio&&t.codecs?t.codecs.split(", ").slice(-1)[0]:null;t.isLive=/\bsource[/=]yt_live_broadcast\b/.test(t.url);t.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(t.url);t.isDashMPD=/\/manifest\/dash\//.test(t.url);return t}},{"./formats":79,"./utils":85}],79:[function(x,J,E){J.exports={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",
bitrate:25E4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8E5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5E5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5E4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,
audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8E5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175E3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3E6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35E5,audioBitrate:192},
43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5E5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1E6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2E6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',
qualityLabel:"240p",bitrate:5E5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3E6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1E5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15E4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5E5,
audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8E5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15E5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25E5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},
102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2E6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15E4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',
qualityLabel:"240p",bitrate:2E5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3E5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5E5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1E6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25E5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135E5,
audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5E4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1E5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',
qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1E5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25E4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5E5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7E5,audioBitrate:null},
248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15E5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4E6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',
qualityLabel:"2160p",bitrate:125E5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9E6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2E7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8E4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3E6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55E5,
audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318E3,audioBitrate:48},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25E5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5E6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1E7,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13E6,audioBitrate:null},
315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2E7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8E4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1E5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25E4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5E5,audioBitrate:null},
334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1E6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15E5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5E6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12E6,audioBitrate:null}}},{}],80:[function(x,J,E){(function(C){(function(){const r=x("stream").PassThrough,f=x("./info"),
A=x("./utils"),e=x("./format-utils"),v=x("./url-utils"),m=x("./sig"),n=x("miniget"),k=x("m3u8stream"),{parseTimestamp:l}=x("m3u8stream"),g=(p,z)=>{const q=D(z);g.getInfo(p,z).then(w=>{B(q,w,z)},q.emit.bind(q,"error"));return q};J.exports=g;g.getBasicInfo=f.getBasicInfo;g.getInfo=f.getInfo;g.chooseFormat=e.chooseFormat;g.filterFormats=e.filterFormats;g.validateID=v.validateID;g.validateURL=v.validateURL;g.getURLVideoID=v.getURLVideoID;g.getVideoID=v.getVideoID;g.cache={sig:m.cache,info:f.cache,watch:f.watchPageCache,
cookie:f.cookieCache};g.version=x("../package.json").version;const D=p=>{const z=new r({highWaterMark:p&&p.highWaterMark||524288});z._destroy=()=>{z.destroyed=!0};return z},t=(p,z,q)=>{"abort request response error redirect retry reconnect".split(" ").forEach(w=>{p.prependListener(w,z.emit.bind(z,w))});p.pipe(z,{end:q})},B=(p,z,q)=>{q=q||{};let w=A.playError(z.player_response,["UNPLAYABLE","LIVE_STREAM_OFFLINE","LOGIN_REQUIRED"]);if(w)p.emit("error",w);else if(z.formats.length){try{var G=e.chooseFormat(z.formats,
q)}catch(S){p.emit("error",S);return}p.emit("info",z,G);if(!p.destroyed){var H=0,L=S=>{H+=S.length;p.emit("progress",S.length,H,T)};q.IPv6Block&&(q.requestOptions=Object.assign({},q.requestOptions,{family:6,localAddress:A.getRandomIPv6(q.IPv6Block)}));var I=q.dlChunkSize||10485760,N=!0;if(G.isHLS||G.isDashMPD){var M=k(G.url,{chunkReadahead:+z.live_chunk_readahead,begin:q.begin||G.isLive&&Date.now(),liveBuffer:q.liveBuffer,requestOptions:q.requestOptions,parser:G.isDashMPD?"dash-mpd":"m3u8",id:G.itag});
M.on("progress",(S,O)=>{p.emit("progress",S.size,S.num,O)});t(M,p,N)}else{const S=Object.assign({},q.requestOptions,{maxReconnects:6,maxRetries:3,backoff:{inc:500,max:1E4}});if(0===I||G.hasAudio&&G.hasVideo)q.begin&&(G.url+=`&begin=${l(q.begin)}`),q.range&&(q.range.start||q.range.end)&&(S.headers=Object.assign({},S.headers,{Range:`bytes=${q.range.start||"0"}-${q.range.end||""}`})),M=n(G.url,S),M.on("response",O=>{p.destroyed||(T=T||parseInt(O.headers["content-length"]))}),M.on("data",L),t(M,p,N);
else{let O=q.range&&q.range.start||0,V=O+I;const W=q.range&&q.range.end;var T=q.range?(W?W+1:parseInt(G.contentLength))-O:parseInt(G.contentLength);const U=()=>{!W&&V>=T&&(V=0);W&&V>W&&(V=W);N=!V||V===W;S.headers=Object.assign({},S.headers,{Range:`bytes=${O}-${V||""}`});M=n(G.url,S);M.on("data",L);M.on("end",()=>{!p.destroyed&&V&&V!==W&&(O=V+1,V+=I,U())});t(M,p,N)};U()}}p._destroy=()=>{p.destroyed=!0;M.destroy();M.end()}}}else p.emit("error",Error("This video is unavailable"))};g.downloadFromInfo=
(p,z)=>{const q=D(z);if(!p.full)throw Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");C(()=>{B(q,p,z)});return q}}).call(this)}).call(this,x("timers").setImmediate)},{"../package.json":86,"./format-utils":78,"./info":82,"./sig":83,"./url-utils":84,"./utils":85,m3u8stream:22,miniget:26,stream:36,timers:71}],81:[function(x,J,E){const C=x("./utils"),r=x("querystring"),{parseTimestamp:f}=x("m3u8stream"),A={song:{name:"Music",url:"https://music.youtube.com/"}},
e=n=>n?n.runs?n.runs[0].text:n.simpleText:null;E.getMedia=n=>{let k={},l=[];try{l=n.response.contents.twoColumnWatchNextResults.results.results.contents}catch(D){}n=l.find(D=>D.videoSecondaryInfoRenderer);if(!n)return{};try{var g=(n.metadataRowContainer||n.videoSecondaryInfoRenderer.metadataRowContainer).metadataRowContainerRenderer.rows;for(let D of g)if(D.metadataRowRenderer){let t=e(D.metadataRowRenderer.title).toLowerCase(),B=D.metadataRowRenderer.contents[0];k[t]=e(B);let p=B.runs;p&&p[0].navigationEndpoint&&
(k[`${t}_url`]=(new URL(p[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,"https://www.youtube.com/watch?v=")).toString());t in A&&(k.category=A[t].name,k.category_url=A[t].url)}else if(D.richMetadataRowRenderer){let t=D.richMetadataRowRenderer.contents,B=t.filter(z=>"RICH_METADATA_RENDERER_STYLE_BOX_ART"===z.richMetadataRenderer.style);for(let {richMetadataRenderer:z}of B){g=z;k.year=e(g.subtitle);let q=e(g.callToAction).split(" ")[1];k[q]=e(g.title);k[`${q}_url`]=(new URL(g.endpoint.commandMetadata.webCommandMetadata.url,
"https://www.youtube.com/watch?v=")).toString();k.thumbnails=g.thumbnail.thumbnails}let p=t.filter(z=>"RICH_METADATA_RENDERER_STYLE_TOPIC"===z.richMetadataRenderer.style);for(let {richMetadataRenderer:z}of p)g=z,k.category=e(g.title),k.category_url=(new URL(g.endpoint.commandMetadata.webCommandMetadata.url,"https://www.youtube.com/watch?v=")).toString()}}catch(D){}return k};const v=n=>!(!n||!n.find(k=>"Verified"===k.metadataBadgeRenderer.tooltip));E.getAuthor=n=>{let k,l=[],g,D=!1;try{let t=n.response.contents.twoColumnWatchNextResults.results.results.contents.find(B=>
B.videoSecondaryInfoRenderer&&B.videoSecondaryInfoRenderer.owner&&B.videoSecondaryInfoRenderer.owner.videoOwnerRenderer).videoSecondaryInfoRenderer.owner.videoOwnerRenderer;k=t.navigationEndpoint.browseEndpoint.browseId;l=t.thumbnail.thumbnails.map(B=>{B.url=(new URL(B.url,"https://www.youtube.com/watch?v=")).toString();return B});g=C.parseAbbreviatedNumber(e(t.subscriberCountText));D=v(t.badges)}catch(t){}try{let t=n.player_response.microformat&&n.player_response.microformat.playerMicroformatRenderer,
B=t&&t.channelId||k||n.player_response.videoDetails.channelId,p={id:B,name:t?t.ownerChannelName:n.player_response.videoDetails.author,user:t?t.ownerProfileUrl.split("/").slice(-1)[0]:null,channel_url:`https://www.youtube.com/channel/${B}`,external_channel_url:t?`https://www.youtube.com/channel/${t.externalChannelId}`:"",user_url:t?(new URL(t.ownerProfileUrl,"https://www.youtube.com/watch?v=")).toString():"",thumbnails:l,verified:D,subscriber_count:g};l.length&&C.deprecate(p,"avatar",p.thumbnails[0].url,
"author.avatar","author.thumbnails[0].url");return p}catch(t){return{}}};const m=(n,k)=>{if(n)try{let l=e(n.viewCountText),g=e(n.shortViewCountText),D=k.find(w=>w.id===n.videoId);/^\d/.test(g)||(g=D&&D.short_view_count_text||"");l=(/^\d/.test(l)?l:g).split(" ")[0];let t=n.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,B=t.browseId,p=e(n.shortBylineText),z=(t.canonicalBaseUrl||"").split("/").slice(-1)[0],q={id:n.videoId,title:e(n.title),published:e(n.publishedTimeText),author:{id:B,name:p,
user:z,channel_url:`https://www.youtube.com/channel/${B}`,user_url:`https://www.youtube.com/user/${z}`,thumbnails:n.channelThumbnail.thumbnails.map(w=>{w.url=(new URL(w.url,"https://www.youtube.com/watch?v=")).toString();return w}),verified:v(n.ownerBadges),[Symbol.toPrimitive](){console.warn("`relatedVideo.author` will be removed in a near future release, use `relatedVideo.author.name` instead.");return q.author.name}},short_view_count_text:g.split(" ")[0],view_count:l.replace(/,/g,""),length_seconds:n.lengthText?
Math.floor(f(e(n.lengthText))/1E3):k&&`${k.length_seconds}`,thumbnails:n.thumbnail.thumbnails,richThumbnails:n.richThumbnail?n.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails:[],isLive:!(!n.badges||!n.badges.find(w=>"LIVE NOW"===w.metadataBadgeRenderer.label))};C.deprecate(q,"author_thumbnail",q.author.thumbnails[0].url,"relatedVideo.author_thumbnail","relatedVideo.author.thumbnails[0].url");C.deprecate(q,"ucid",q.author.id,"relatedVideo.ucid","relatedVideo.author.id");C.deprecate(q,
"video_thumbnail",q.thumbnails[0].url,"relatedVideo.video_thumbnail","relatedVideo.thumbnails[0].url");return q}catch(l){}};E.getRelatedVideos=n=>{let k=[];var l=[];try{k=n.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(",").map(g=>r.parse(g))}catch(g){}try{l=n.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch(g){return[]}n=[];for(let g of l||[])if(l=g.compactVideoRenderer)(l=m(l,k))&&n.push(l);else if((l=g.compactAutoplayRenderer||g.itemSectionRenderer)&&
Array.isArray(l.contents))for(let D of l.contents)(l=m(D.compactVideoRenderer,k))&&n.push(l);return n};E.getLikes=n=>{try{let k=n.response.contents.twoColumnWatchNextResults.results.results.contents.find(l=>l.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(l=>l.toggleButtonRenderer&&"LIKE"===l.toggleButtonRenderer.defaultIcon.iconType);return parseInt(k.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(k){return null}};
E.getDislikes=n=>{try{let k=n.response.contents.twoColumnWatchNextResults.results.results.contents.find(l=>l.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(l=>l.toggleButtonRenderer&&"DISLIKE"===l.toggleButtonRenderer.defaultIcon.iconType);return parseInt(k.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(k){return null}};E.cleanVideoDetails=(n,k)=>{n.thumbnails=n.thumbnail.thumbnails;delete n.thumbnail;
C.deprecate(n,"thumbnail",{thumbnails:n.thumbnails},"videoDetails.thumbnail.thumbnails","videoDetails.thumbnails");n.description=n.shortDescription||e(n.description);delete n.shortDescription;C.deprecate(n,"shortDescription",n.description,"videoDetails.shortDescription","videoDetails.description");n.lengthSeconds=k.player_response.microformat&&k.player_response.microformat.playerMicroformatRenderer.lengthSeconds||k.player_response.videoDetails.lengthSeconds;return n};E.getStoryboards=n=>{n=n.player_response.storyboards&&
n.player_response.storyboards.playerStoryboardSpecRenderer&&n.player_response.storyboards.playerStoryboardSpecRenderer.spec&&n.player_response.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!n)return[];const k=new URL(n.shift());return n.map((l,g)=>{let [D,t,B,p,z,q,w,G]=l.split("#");k.searchParams.set("sigh",G);B=parseInt(B,10);p=parseInt(p,10);z=parseInt(z,10);l=Math.ceil(B/(p*z));return{templateUrl:k.toString().replace("$L",g).replace("$N",w),thumbnailWidth:parseInt(D,10),thumbnailHeight:parseInt(t,
10),thumbnailCount:B,interval:parseInt(q,10),columns:p,rows:z,storyboardCount:l}})};E.getChapters=n=>{n=(n=(n=n.response&&n.response.playerOverlays&&n.response.playerOverlays.playerOverlayRenderer)&&n.decoratedPlayerBarRenderer&&n.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&n.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar)&&n.multiMarkersPlayerBarRenderer&&n.multiMarkersPlayerBarRenderer.markersMap;return(n=Array.isArray(n)&&n.find(k=>k.value&&Array.isArray(k.value.chapters)))?
n.value.chapters.map(k=>({title:e(k.chapterRenderer.title),start_time:k.chapterRenderer.timeRangeStartMillis/1E3})):[]}},{"./utils":85,m3u8stream:22,querystring:31}],82:[function(x,J,E){const C=x("querystring"),r=x("sax"),f=x("miniget"),A=x("./utils"),{setTimeout:e}=x("timers"),v=x("./format-utils"),m=x("./url-utils"),n=x("./info-extras"),k=x("./sig");x=x("./cache");E.cache=new x;E.cookieCache=new x(864E5);E.watchPageCache=new x;let l="2.20210622.10.00";class g extends Error{}const D=["support.google.com/youtube/?p=age_restrictions",
"youtube.com/t/community_guidelines"];E.getBasicInfo=async(b,a)=>{a.IPv6Block&&(a.requestOptions=Object.assign({},a.requestOptions,{family:6,localAddress:A.getRandomIPv6(a.IPv6Block)}));const d=Object.assign({},f.defaultOptions,a.requestOptions);a.requestOptions=Object.assign({},a.requestOptions,{});a.requestOptions.headers=Object.assign({},{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"},a.requestOptions.headers);
a=await w([b,a],h=>{var u=A.playError(h.player_response,["ERROR"],g);let K=t(h.player_response);if(u||K)throw u||K;if(u=h&&h.player_response)(u=h.player_response.streamingData)||(u=(u=h.player_response.playabilityStatus)&&"UNPLAYABLE"===u.status&&u.errorScreen&&u.errorScreen.playerLegacyDesktopYpcOfferRenderer),u||(u=(h=h.player_response.playabilityStatus)&&"LIVE_STREAM_OFFLINE"===h.status);return u},d,[S,T,O]);Object.assign(a,{formats:V(a.player_response),related_videos:n.getRelatedVideos(a)});const c=
n.getMedia(a);b={author:n.getAuthor(a),media:c,likes:n.getLikes(a),dislikes:n.getDislikes(a),age_restricted:!(!c||!D.some(h=>Object.values(c).some(u=>"string"===typeof u&&u.includes(h)))),video_url:"https://www.youtube.com/watch?v="+b,storyboards:n.getStoryboards(a),chapters:n.getChapters(a)};a.videoDetails=n.cleanVideoDetails(Object.assign({},a.player_response&&a.player_response.microformat&&a.player_response.microformat.playerMicroformatRenderer,a.player_response&&a.player_response.videoDetails,
b),a);return a};const t=b=>(b=b&&b.playabilityStatus)&&"LOGIN_REQUIRED"===b.status&&b.messages&&b.messages.filter(a=>/This is a private video/.test(a)).length?new g(b.reason||b.messages&&b.messages[0]):null,B=(b,a)=>`${"https://www.youtube.com/watch?v="+b}&hl=${a.lang||"en"}`,p=(b,a)=>{const d=B(b,a);return E.watchPageCache.getOrSet(d,()=>A.exposedMiniget(d,a).text())},z=b=>(b=/<script\s+src="([^"]+)"(?:\s+type="text\/javascript")?\s+name="player_ias\/base"\s*>|"jsUrl":"([^"]+)"/.exec(b))?b[1]||b[2]:
null,q=(b,a,d,c)=>E.cookieCache.getOrSet(d,async()=>{let h=(await p(b,a)).match(/(["'])ID_TOKEN\1[:,]\s?"([^"]+)"/);if(!h&&c)throw new g("Cookie header used in request, but unable to find YouTube identity token");return h&&h[2]}),w=async(b,a,d,c)=>{let h;for(let u of c)try{const K=await H(u,b.concat([h]),d);K.player_response&&(K.player_response.videoDetails=G(h&&h.player_response&&h.player_response.videoDetails,K.player_response.videoDetails),K.player_response=G(h&&h.player_response,K.player_response));
h=G(h,K);if(a(h,!1))break}catch(K){if(K instanceof g||u===c[c.length-1])throw K;}return h},G=(b,a)=>{if(!b||!a)return b||a;for(let [d,c]of Object.entries(a))null!==c&&void 0!==c&&(b[d]=c);return b},H=async(b,a,d)=>{let c=0,h;for(;c<=d.maxRetries;)try{h=await b(...a);break}catch(u){if(u instanceof g||u instanceof f.MinigetError&&500>u.statusCode||c>=d.maxRetries)throw u;let K=Math.min(++c*d.backoff.inc,d.backoff.max);await new Promise(R=>e(R,K))}return h},L=/^[)\]}'\s]+/,I=(b,a,d)=>{if(d&&"object"!==
typeof d)try{return d=d.replace(L,""),JSON.parse(d)}catch(c){throw Error(`Error parsing ${a} in ${b}: ${c.message}`);}else return d},N=(b,a,d,c,h,u)=>{d=A.between(d,c,h);if(!d)throw Error(`Could not find ${a} in ${b}`);return I(b,a,A.cutAfterJSON(`${u}${d}`))},M=(b,a)=>I(b,"player_response",a&&(a.args&&a.args.player_response||a.player_response||a.playerResponse||a.embedded_player_response)),T=async(b,a)=>{const d=Object.assign({headers:{}},a.requestOptions);var c=d.headers.Cookie||d.headers.cookie;
d.headers=Object.assign({"x-youtube-client-name":"1","x-youtube-client-version":l,"x-youtube-identity-token":E.cookieCache.get(c||"browser")||""},d.headers);var h=async(u,K)=>{d.headers["x-youtube-identity-token"]||(d.headers["x-youtube-identity-token"]=await q(b,a,u,K))};c&&await h(c,!0);c=`${B(b,a)}&pbj=1`;c=await A.exposedMiniget(c,a,d).text();c=I("watch.json","body",c);"now"===c.reload&&await h("browser",!1);if("now"===c.reload||!Array.isArray(c))throw Error("Unable to retrieve video metadata in watch.json");
h=c.reduce((u,K)=>Object.assign(K,u),{});h.player_response=M("watch.json",h);h.html5player=h.player&&h.player.assets&&h.player.assets.js;return h},S=async(b,a)=>{b=await p(b,a);a={page:"watch"};try{l=A.between(b,'{"key":"cver","value":"','"}'),a.player_response=N("watch.html","player_response",b,/\bytInitialPlayerResponse\s*=\s*\{/i,"\x3c/script>","{")}catch(d){let c=N("watch.html","player_response",b,/\bytplayer\.config\s*=\s*{/,"\x3c/script>","{");a.player_response=M("watch.html",c)}a.response=
N("watch.html","response",b,/\bytInitialData("\])?\s*=\s*\{/i,"\x3c/script>","{");a.html5player=z(b);return a},O=async(b,a)=>{const d=new URL("https://www.youtube.com/get_video_info");d.searchParams.set("video_id",b);d.searchParams.set("c","TVHTML5");d.searchParams.set("cver",`7${l.substr(1)}`);d.searchParams.set("eurl","https://youtube.googleapis.com/v/"+b);d.searchParams.set("ps","default");d.searchParams.set("gl","US");d.searchParams.set("hl",a.lang||"en");d.searchParams.set("html5","1");b=await A.exposedMiniget(d.toString(),
a).text();b=C.parse(b);b.player_response=M("get_video_info",b);return b},V=b=>{let a=[];b&&b.streamingData&&(a=a.concat(b.streamingData.formats||[]).concat(b.streamingData.adaptiveFormats||[]));return a};E.getInfo=async(b,a)=>{let d=await E.getBasicInfo(b,a);const c=d.player_response&&d.player_response.streamingData&&(d.player_response.streamingData.dashManifestUrl||d.player_response.streamingData.hlsManifestUrl);let h=[];if(d.formats.length){var u;(u=d.html5player||z(await p(b,a)))||(b=A.exposedMiniget(`${"https://www.youtube.com/embed/"+
b}?hl=${a.lang||"en"}`,a).text(),u=z(await b));d.html5player=u;if(!d.html5player)throw Error("Unable to find html5player file");b=(new URL(d.html5player,"https://www.youtube.com/watch?v=")).toString();h.push(k.decipherFormats(d.formats,b,a))}c&&d.player_response.streamingData.dashManifestUrl&&h.push(W(d.player_response.streamingData.dashManifestUrl,a));c&&d.player_response.streamingData.hlsManifestUrl&&h.push(U(d.player_response.streamingData.hlsManifestUrl,a));a=await Promise.all(h);d.formats=Object.values(Object.assign({},
...a));d.formats=d.formats.map(v.addFormatMeta);d.formats.sort(v.sortFormats);d.full=!0;return d};const W=(b,a)=>new Promise((d,c)=>{let h={};const u=r.parser(!1);u.onerror=c;let K;u.onopentag=P=>{if("ADAPTATIONSET"===P.name)K=P.attributes;else if("REPRESENTATION"===P.name){const F=parseInt(P.attributes.ID);isNaN(F)||(h[b]=Object.assign({itag:F,url:b,bitrate:parseInt(P.attributes.BANDWIDTH),mimeType:`${K.MIMETYPE}; codecs="${P.attributes.CODECS}"`},P.attributes.HEIGHT?{width:parseInt(P.attributes.WIDTH),
height:parseInt(P.attributes.HEIGHT),fps:parseInt(P.attributes.FRAMERATE)}:{audioSampleRate:P.attributes.AUDIOSAMPLINGRATE}))}};u.onend=()=>{d(h)};const R=A.exposedMiniget((new URL(b,"https://www.youtube.com/watch?v=")).toString(),a);R.setEncoding("utf8");R.on("error",c);R.on("data",P=>{u.write(P)});R.on("end",u.close.bind(u))}),U=async(b,a)=>{b=new URL(b,"https://www.youtube.com/watch?v=");let d={};(await A.exposedMiniget(b.toString(),a).text()).split("\n").filter(c=>/^https?:\/\//.test(c)).forEach(c=>
{const h=parseInt(c.match(/\/itag\/(\d+)\//)[1]);d[c]={itag:h,url:c}});return d};for(let b of["getBasicInfo","getInfo"]){const a=E[b];E[b]=async(d,c={})=>{A.checkForUpdates();let h=await m.getVideoID(d);d=[b,h,c.lang].join("-");return E.cache.getOrSet(d,()=>a(h,c))}}E.validateID=m.validateID;E.validateURL=m.validateURL;E.getURLVideoID=m.getURLVideoID;E.getVideoID=m.getVideoID},{"./cache":77,"./format-utils":78,"./info-extras":81,"./sig":83,"./url-utils":84,"./utils":85,miniget:26,querystring:31,sax:35,
timers:71}],83:[function(x,J,E){const C=x("querystring");J=x("./cache");const r=x("./utils"),f=x("vm");E.cache=new J;E.getFunctions=(A,e)=>E.cache.getOrSet(A,async()=>{var v=await r.exposedMiniget(A,e).text();v=E.extractFunctions(v);if(!v||!v.length)throw Error("Could not extract functions");E.cache.set(A,v);return v});E.extractFunctions=A=>{const e=[];(()=>{const v=r.between(A,'a.set("alr","yes");c&&(c=',"(decodeURIC");if(v&&v.length){var m=`${v}=function(a)`,n=A.indexOf(m);if(0<=n){n=A.slice(n+
m.length);m=`var ${m}${r.cutAfterJSON(n)}`;if(n=r.between(m,'a=a.split("");',".")){var k=`var ${n}={`,l=A.indexOf(k);0>l?n="":(k=A.slice(l+k.length-1),n=`var ${n}=${r.cutAfterJSON(k)}`)}else n="";m=`${n};${m};${v}(sig);`;e.push(m)}}})();(()=>{var v=r.between(A,'&&(b=a.get("n"))&&(b=',"(b)");v.includes("[")&&(v=r.between(A,`${v.split("[")[0]}=[`,"]"));if(v&&v.length){const n=`${v}=function(a)`;var m=A.indexOf(n);0<=m&&(m=A.slice(m+n.length),v=`var ${n}${r.cutAfterJSON(m)};${v}(ncode);`,e.push(v))}})();
return e};E.setDownloadURL=(A,e,v)=>{const m=l=>{l=C.parse(l);if(!l.s||!e)return l.url;const g=new URL(decodeURIComponent(l.url));g.searchParams.set(l.sp?l.sp:"signature",e.runInNewContext({sig:decodeURIComponent(l.s)}));return g.toString()},n=l=>{const g=new URL(decodeURIComponent(l)),D=g.searchParams.get("n");if(!D||!v)return l;g.searchParams.set("n",v.runInNewContext({ncode:D}));return g.toString()},k=A.url||A.signatureCipher||A.cipher;A.url=A.url?n(k):n(m(k));delete A.signatureCipher;delete A.cipher};
E.decipherFormats=async(A,e,v)=>{let m={};e=await E.getFunctions(e,v);const n=e.length?new f.Script(e[0]):null,k=1<e.length?new f.Script(e[1]):null;A.forEach(l=>{E.setDownloadURL(l,n,k);m[l.url]=l});return m}},{"./cache":77,"./utils":85,querystring:31,vm:75}],84:[function(x,J,E){const C=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),r=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/;E.getURLVideoID=e=>{const v=new URL(e.trim());
var m=v.searchParams.get("v");if(r.test(e.trim())&&!m)m=v.pathname.split("/"),m="youtu.be"===v.host?m[1]:m[2];else if(v.hostname&&!C.has(v.hostname))throw Error("Not a YouTube domain");if(!m)throw Error(`No video id found: "${e}"`);m=m.substring(0,11);if(!E.validateID(m))throw TypeError(`Video id (${m}) does not match expected `+`format (${A.toString()})`);return m};const f=/^https?:\/\//;E.getVideoID=e=>{if(E.validateID(e))return e;if(f.test(e.trim()))return E.getURLVideoID(e);throw Error(`No video id found: ${e}`);
};const A=/^[a-zA-Z0-9-_]{11}$/;E.validateID=e=>A.test(e.trim());E.validateURL=e=>{try{return E.getURLVideoID(e),!0}catch(v){return!1}}},{}],85:[function(x,J,E){(function(C){(function(){const r=x("miniget");E.between=(m,n,k)=>{let l;if(n instanceof RegExp){n=m.match(n);if(!n)return"";l=n.index+n[0].length}else{l=m.indexOf(n);if(-1===l)return"";l+=n.length}m=m.slice(l);l=m.indexOf(k);return-1===l?"":m=m.slice(0,l)};E.parseAbbreviatedNumber=m=>{if(m=m.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/)){let [,
n,k]=m;n=parseFloat(n);return Math.round("M"===k?1E6*n:"K"===k?1E3*n:n)}return null};E.cutAfterJSON=m=>{let n,k;"["===m[0]?(n="[",k="]"):"{"===m[0]&&(n="{",k="}");if(!n)throw Error(`Can't cut unsupported JSON (need to begin with [ or { ) but got: ${m[0]}`);let l=!1,g=!1,D=0,t;for(t=0;t<m.length;t++)if('"'!==m[t]||g){if(g="\\"===m[t]&&!g,!l&&(m[t]===n?D++:m[t]===k&&D--,0===D))return m.substr(0,t+1)}else l=!l;throw Error("Can't cut unsupported JSON (no matching closing bracket found)");};E.playError=
(m,n,k=Error)=>(m=m&&m.playabilityStatus)&&n.includes(m.status)?new k(m.reason||m.messages&&m.messages[0]):null;E.exposedMiniget=(m,n={},k)=>{m=r(m,k||n.requestOptions);"function"===typeof n.requestCallback&&n.requestCallback(m);return m};E.deprecate=(m,n,k,l,g)=>{Object.defineProperty(m,n,{get:()=>{console.warn(`\`${l}\` will be removed in a near future release, `+`use \`${g}\` instead.`);return k}})};const f=x("../package.json");E.lastUpdateCheck=0;E.checkForUpdates=()=>!C.env.YTDL_NO_UPDATE&&!f.version.startsWith("0.0.0-")&&
432E5<=Date.now()-E.lastUpdateCheck?(E.lastUpdateCheck=Date.now(),r("https://api.github.com/repos/fent/node-ytdl-core/releases/latest",{headers:{"User-Agent":"ytdl-core"}}).text().then(m=>{JSON.parse(m).tag_name!==`v${f.version}`&&console.warn('\u001b[33mWARNING:\u001b[0m ytdl-core is out of date! Update with "npm install ytdl-core@latest".')},m=>{console.warn("Error checking for updates:",m.message);console.warn("You can disable this check by setting the `YTDL_NO_UPDATE` env variable.")})):null;
E.getRandomIPv6=m=>{if(!e(m))throw Error("Invalid IPv6 format");const [n,k]=m.split("/");let l=parseInt(k);if(!l||128<l||24>l)throw Error("Invalid IPv6 subnet");const g=v(n);return Array(8).fill(1).map(()=>Math.floor(65535*Math.random())).map((D,t)=>{var B=Math.min(l,16);l-=B;B=65535-(2**(16-B)-1);return(g[t]&B)+(D&(B^65535))}).map(D=>D.toString("16")).join(":")};const A=/^(([0-9a-f]{1,4}:)(:[0-9a-f]{1,4}){1,6}|([0-9a-f]{1,4}:){1,2}(:[0-9a-f]{1,4}){1,5}|([0-9a-f]{1,4}:){1,3}(:[0-9a-f]{1,4}){1,4}|([0-9a-f]{1,4}:){1,4}(:[0-9a-f]{1,4}){1,3}|([0-9a-f]{1,4}:){1,5}(:[0-9a-f]{1,4}){1,2}|([0-9a-f]{1,4}:){1,6}(:[0-9a-f]{1,4})|([0-9a-f]{1,4}:){1,7}(([0-9a-f]{1,4})|:))\/(1[0-1]\d|12[0-8]|\d{1,2})$/,
e=E.isIPv6=m=>A.test(m),v=E.normalizeIP=m=>{var n=m.split("::").map(l=>l.split(":"));m=n[0]||[];n=n[1]||[];n.reverse();const k=Array(8).fill(0);for(let l=0;l<Math.min(m.length,8);l++)k[l]=parseInt(m[l],16)||0;for(m=0;m<Math.min(n.length,8);m++)k[7-m]=parseInt(n[m],16)||0;return k}}).call(this)}).call(this,x("_process"))},{"../package.json":86,_process:27,miniget:26}],86:[function(x,J,E){J.exports={name:"ytdl-core",description:"YouTube video downloader in pure javascript.",keywords:["youtube","video",
"download"],version:"4.11.0",repository:{type:"git",url:"git://github.com/fent/node-ytdl-core.git"},author:"fent <fentbox@gmail.com> (https://github.com/fent)",contributors:"Tobias Kutscha (https://github.com/TimeForANinja);Andrew Kelley (https://github.com/andrewrk);Mauricio Allende (https://github.com/mallendeo);Rodrigo Altamirano (https://github.com/raltamirano);Jim Buck (https://github.com/JimmyBoh);Pawe\u0142 Ruci\u0144ski (https://github.com/Roki100);Alexander Paolini (https://github.com/Million900o)".split(";"),
main:"./lib/index.js",types:"./typings/index.d.ts",files:["lib","typings"],scripts:{test:"nyc --reporter=lcov --reporter=text-summary npm run test:unit","test:unit":"mocha --ignore test/irl-test.js test/*-test.js --timeout 4000","test:irl":"mocha --timeout 16000 test/irl-test.js",lint:"eslint ./","lint:fix":"eslint --fix ./","lint:typings":"tslint typings/index.d.ts","lint:typings:fix":"tslint --fix typings/index.d.ts"},dependencies:{m3u8stream:"^0.8.6",miniget:"^4.2.2",sax:"^1.1.3"},devDependencies:{"@types/node":"^13.1.0",
"assert-diff":"^3.0.1",dtslint:"^3.6.14",eslint:"^6.8.0",mocha:"^7.0.0","muk-require":"^1.2.0",nock:"^13.0.4",nyc:"^15.0.0",sinon:"^9.0.0","stream-equal":"~1.1.0",typescript:"^3.9.7"},engines:{node:">=12"},license:"MIT"}},{}]},{},[1])(1)});
