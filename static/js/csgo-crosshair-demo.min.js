(()=>{const o=document.getElementById("input"),e=document.getElementById("latency"),r=document.getElementById("copy");let i;const t=document.getElementById("image");t.onload=()=>{e.innerText=`Loaded image in: ${Math.round(performance.now()-i)} ms`},t.onerror=()=>{e.innerText="❌ Failed to load crosshair image",t.style.display="none"};const n=new Map([["cl_crosshairthickness",void 0],["cl_crosshairgap",void 0],["cl_crosshairgap",void 0],["cl_crosshairsize",void 0],["cl_crosshair_drawoutline",void 0],["cl_crosshair_outlinethickness",void 0],["cl_crosshairdot",void 0],["cl_crosshaircolor",void 0],["cl_crosshaircolor_r",void 0],["cl_crosshaircolor_g",void 0],["cl_crosshaircolor_b",void 0],["cl_crosshairusealpha",void 0],["cl_crosshairalpha",void 0],["cl_crosshair_t",void 0]]),s=()=>{(()=>{let e=!1;const r=new Set,i=o.value.split(";");for(const o of i){let i=o.trim().split(" ");2===i.length&&n.has(i[0])&&(n.get(i[0])!==i[1]?(n.set(i[0],i[1]),r.add(i[0]),e=!0):r.add(i[0]))}for(const o of n.keys())r.has(o)||(null!==n.get(o)&&(e=!0),n.set(o,null));return e})()&&(i=performance.now(),console.log("Updating crosshair..."),t.src=(()=>{const o=[];for(const[e,r]of n)null!==r&&o.push(`${e}=${r}`);return`https://crosshair.darenliang.com/?${o.join("&")}`})())};s();let c=null;window.copyLink=()=>{if(!navigator.clipboard)return r.innerText="Copy not supported",void setTimeout(()=>{r.innerText="Copy"},2e3);navigator.clipboard.writeText(t.src).then(()=>{r.innerText="Copied!",null!==c&&clearTimeout(c),c=setTimeout(()=>{r.innerHTML="Copy",c=null},2e3)}).catch(o=>{console.error("Failed to copy:",o),r.innerText="Copy failed",setTimeout(()=>{r.innerText="Copy"},2e3)})},window.updatePreview=s})();